/*!
 * Copyright (c) 2015-2016, NVIDIA CORPORATION.  All rights reserved.       
 *                                                                           
 * NVIDIA CORPORATION and its licensors retain all intellectual property     
 * and proprietary rights in and to this software, related documentation     
 * and any modifications thereto.  Any use, reproduction, disclosure or      
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA CORPORATION is strictly prohibited.
 */
webpackJsonp([3],[function(e,t,n){"use strict";n(218);var r=n(96);n(217),n(156),n(231),r.ngMainModule.run(["appService",function(e){e.main()}])},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ngOobeModule=void 0;var o=n(520),i=r(o),a=n(513),s=r(a),l=n(521),c=r(l),u=n(516),d=r(u),f=n(526),m=r(f),g=n(522),p=r(g),v=n(515),h=r(v),y=angular.module("main.oobe",["ngMessages","main.games"]);y.constant("OOBE_STATE",{COMPLETED_NONE:"oobeCompletedStateNone",COMPLETED_LOGIN:"oobeCompletedStateLogin",COMPLETED_ALL:"oobeCompletedStateAll"}),y.constant("OOBE_SCAN_STATE",{SCANNING:"oobeScanStateScanning",FINISHED:"oobeScanStateFinished"}),y.constant("OOBE_EVENTS",{SCAN_FINISHED:"main.oobe.scanFinished",SCAN_PROGRESS:"main.oobe.scanProgress",GAMELIST_UPDATED:"main.oobe.gamelistUpdated"}),y.constant("OOBE_LINKS",[{id:"1",name:"Steam",icon:i.default},{id:"2",name:"Origin",icon:s.default},{id:"3",name:"UPlay",icon:c.default},{id:"4",name:"Raptr",icon:d.default},{id:"5",name:"XBox",icon:m.default},{id:"6",name:"WarCraft",icon:p.default},{id:"7",name:"Playstation",icon:h.default}]),t.ngOobeModule=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngUpdatesModule=void 0;var r=n(22),o=n(93),i=n(122),a=n(124),s=n(33),l=n(63),c=angular.module("main.updates",["main.common",r.ngMainConstantsModule.name,"ngResource","pascalprecht.translate","ngSanitize",o.ngDriversSdkModule.name,i.ngDownloadsSdkModule.name,a.ngInstallersSdkModule.name,s.ngGfwslSdkModule.name,l.ngGfeUpdatesSdkModule.name]);c.constant("TASK_STATUS",{TASK_NOT_STARTED:-1,TASK_RUNNING:0,TASK_PAUSED:1,TASK_COMPLETED:2,TASK_RETRY:3,TASK_PAUSED_UNABLE_TO_REACH_SERVER:4,TASK_FAILED_UNABLE_TO_REACH_SERVER:5,TASK_CHECK_SUM_ERROR:6,TASK_SIGNATURE_VERIFICATION_FAILS:7,TASK_DISK_WRITE_FAIL:8,TASK_DOWNLOAD_ERROR:9}),c.constant("INSTALLER_ACTION",{ACTION_CANCEL:0,ACTION_INSTALL:1,ACTION_CLOSE:2,ACTION_TRYAGAIN:3,ACTION_RESTART_NOW:4,ACTION_RESTART_LATER:5,ACTION_NEXT:6}),c.constant("RESPONSE_TO_INSTALLER",{ACTION_CANCEL:1,ACTION_NEXT:0}),c.constant("CHECK_FOR_UPDATE","checkForUpdate"),c.constant("INSTALLER_PAGE",{NVIFORM_INSTALL_START_FAILED:-1,NVIFORM_INSTALL_INITIAL:1,NVIFORM_INSTALL_CHECKING:2,NVIFORM_INSTALL_CHECK_WARNINGS:3,NVIFORM_INSTALL_CHECK_FAILED:4,NVIFORM_INSTALL_CHECK_WAIT:5,NVIFORM_EULA:6,NVIFORM_INSTALL_SELECT:7,NVIPROP_CUSTOM_INSTALL:8,NVIFORM_PRE_INSTALL_CHECK:10,NVIFORM_PRE_INSTALL_CHECK_RETRY:11,NVIFORM_PRE_REBOOT_INSTALL:13,NVIFORM_INSTALL_PROGRESS:17,NVIFORM_INSTALL_REMOVE_PROGRESS:18,NVIFORM_INSTALL_FINISHED:19,NVIFORM_INSTALL_FINISHED_NO_SUMMARY:20,NVIFORM_INSTALL_REBOOT:25,NVIFORM_INSTALL_REMOVE_REBOOT:29,NVIFORM_INSTALL_FAILED:30}),c.constant("INSTALLER_FORM_EVENT",{SHOW_FORM:1,SHOW_PROGRESS:2}),c.constant("UPDATE_SOCKET_EVENTS",{UPDATESCAN_UPDATE:"/DriverUpdates/v.1.0/refresh"}),c.constant("UPDATE_REFRESH_STATUS",{STARTED:"STARTED",FINISHED:"FINISHED",FAILED:"FAILED",PROGRESS:"PROGRESS"}),c.constant("UPDATE_EVENTS",{SCAN_STARTED:"main.updates.scanStarted",SCAN_FINISHED:"main.updates.scanFinished",SCAN_FAILED:"main.updates.scanFailed",SCAN_UPDATE:"main.updates.scanUpdate",INSTALLED_DRIVER_UPDATE:"main.updates.installedDriverUpdate"}),c.constant("DOWNLOAD_SOCKET_EVENTS",{DOWNLOAD_PROGRESS_STATUS:"/download/v.0.1/status"}),c.constant("DOWNLOAD_PROGRESS_STATUS",{FINISHED:"FINISHED",FAILED:"FAILED",PROGRESS:"PROGRESS"}),c.constant("INSTALLER_SOCKET_EVENTS",{INSTALLER_SHOW_FORM:"/DriverInstall/v.0.1/ShowForm",INSTALLER_PROGRESS_UPDATE:"/DriverInstall/v.0.1/ProgressUpdate"}),c.constant("ERROR_TIMEOUT",{DOWNLOAD:5e3}),c.constant("DRIVER_TYPE",{AVAILABLE:1,AVAILABLE_BETA:2,CURRENT:3}),c.constant("INSTALLER_ERROR_CODE",{NV_EXTRACTION_MEMORY:"-505413614",NV_EXTRACTION_NOT_ENOUGH_SPACE_OR_CORRUPT:"-505413616",NV_INSTALLER_ALREADY_RUNNING:"-505413619",NV_INSTALLER_UAC_CANCELED:"-505413600",NV_PACKAGE_EXTRACTION_UAC_CANCELED:"1223"}),c.constant("GFE_SOCK_MESSAGE",{NEW_VERSION_AVAIL:"gfe.updates.newver"}),angular.module("main.updates").constant("DRIVER_INSTALLATION_FAILED_CONSTRAINT",[{failedConstraintId:"SetupSupportedPlatformCheck",constrainTextId:"l10n.operatingSystemInUseNotSupported"},{failedConstraintId:"SetupPackagesToInstallCheck",constrainTextId:"l10n.noComponentToInstall"},{failedConstraintId:"SetupMissingFilesCheck",constrainTextId:"l10n.requireFilesAreMissing"},{failedConstraintId:"SetupMissingPackagesCheck",constrainTextId:"l10n.requireComponentMissing"},{failedConstraintId:"SetupAlreadyRunningCheck",constrainTextId:"l10n.otherInstallationIsRunning"},{failedConstraintId:"SetupNeedRebootCheck",constrainTextId:"l10n.systemRestartIsRequired"},{failedConstraintId:"SetupPackageCorruptCheck",constrainTextId:"l10n.installPackageCorrupt"},{failedConstraintId:"SetupNeedsDiskSpaceCheck",constrainTextId:"l10n.diskSpaceConstraint"},{failedConstraintId:"SetupPnpRunningCheck",constrainTextId:"l10n.foundNewWizardIsOpen"},{failedConstraintId:"IntelDriverPresentCheck",constrainTextId:"l10n.installIntelDriverFirst"},{failedConstraintId:"CheckNotSafeMode",constrainTextId:"l10n.packageCannotBeInstalledInSafeMode"},{failedConstraintId:"InfPlatformCheck",constrainTextId:"l10n.driverIsNotCompatible"},{failedConstraintId:"HardwarePresentCheck",constrainTextId:"l10n.graphicsHardwareNotCompatible"},{failedConstraintId:"3DVisionControllerInstalledCheck",constrainTextId:"l10n.3dVisionDriverNotCompatible"},{failedConstraintId:"ExternalGraphicsDowngradeCheck",constrainTextId:"l10n.installingOlderDriverVersion"},{failedConstraintId:"BlockTH1Install",constrainTextId:"l10n.driverIsNotCompatible"},{failedConstraintId:"AllowInstallCheck",constrainTextId:"l10n.graphicsHardwareNotCompatible"},{failedConstraintId:"CriticalBsodIssueCheck",constrainTextId:"l10n.systemRestartIsRequired"},{failedConstraintId:"osVersionCheck",constrainTextId:"l10n.virtualAudioIsNotCompatible"}]),c.constant("DOWNLOAD_TYPE",{OTHER:0,DRIVER_DOWNLOAD:1,AUTO_DRIVER_DOWNLOAD:2,GFE_SELF_UPDATE:3}),t.ngUpdatesModule=c},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngGamesModule=void 0;var r=n(22),o=n(5),i=n(6),a=n(3),s=n(94),l=n(89),c=angular.module("main.games",[r.ngMainConstantsModule.name,"ngResource","pascalprecht.translate","ngSanitize","main.common",o.ngOobeModule.name,i.ngUpdatesModule.name,s.ngGamesSdkModule.name,l.ngCmsAssetsSdkModule.name,a.ngPreferencesModule.name]);c.constant("SETTING_TYPE",{SETTING_AC:0,SETTING_DC:1}),c.constant("GAMES_DEFAULTS",{SORT:"alphabetical",SORT_ORDER:"ascending",FILTERS:{all:!0},LIST_PAGE_SIZE:30,HIDDEN_GAMES_VISIBLE:!0,AUTO_OPTIMIZE_PREFERENCE:!0}),c.constant("GAME_TILE_WIDTHS",{DESKTOP:200}),c.constant("GAME_VIEWS",{SCAN_GAMES_PROGRESS:0,SCAN_GAMES_COMPLETE:1,OPTIMIZE_GAMES_PROGRESS:2,OPTIMIZE_GAMES_COMPLETE:3}),c.constant("GAME_DIALOG_CONTENT_VIEWS",{IMAGE:"image",PROGRESS:"progress",ICON:"icon"}),c.constant("GAME_FADE_OUT",{SCAN_GAMES:8e3,OPTIMIZE_GAMES:5e3}),c.constant("GAME_SCAN_STATE",{NONE:0,UI_SCAN:1,OOBE_SCAN:2}),c.constant("GAME_EVENTS",{OPTIMIZE_GAMES_UPDATE:"main.games.optimizeGamesUpdate",VOPS_POPUP_SHOWN:"main.games.vopsPopupShown",IMAGE_LOADED:"main.games.imageLoaded",IMAGE_UNLOADED:"main.games.imageUnloaded",SETTING_ITEM_HOVER:"main.games.settingItemHover",SETTING_ITEM_HOVER_CAROUSEL_READY:"main.games.settingItemHoverCarouselReady",SETTING_ITEM_MOUSE_LEAVE:"main.games.settingItemMouseLeave",GAMELIST_UPDATE:"main.games.gamelistUpdate",GAMESTATE_UPDATE:"main.games.gameStateUpdate",GAMEVOPS_UPDATE:"main.games.vopsUpdate",SCAN_STARTED:"main.games.scanStarted",SCAN_FINISHED:"main.games.scanFinished",SCAN_FAILED:"main.games.scanFailed",SCAN_UPDATE:"main.games.scanUpdate",SCAN_PROGRESS:"main.games.scanProgress",GAMELIST_UPDATED:"main.games.gamelistUpdated",GAMELIST_CREATED:"main.games.gamelistCreated",USERGAMES_UPDATED:"main.games.userGamesUpdated",USERGAME_UPDATED:"main.games.userGameUpdated",GAMESTATE_UPDATED:"main.games.stateUpdated",GAMEVOPS_STARTED:"main.games.vopsStarted",GAMEVOPS_READY:"main.games.vopsReady",GAMEVOPS_NOTREADY:"main.games.vopsNotReady",GAMEVOPS_UNAVAILABLE:"main.games.vopsUnavailable",GAMEVOPS_FINISHED:"main.games.vopsFinished",GAMEVOPS_FAILED:"main.games.vopsFailed",GAMESTATE_INITIALIZED:"main.games.gameStateInitialized",SETTINGS_TRANSLATION_FINISHED:"main.games.settingsTranslationFinished",SETTINGS_TRANSLATION_FAILED:"main.games.settingsTranslationFailed",OPSFEATURE_UPDATED:"main.games.opsFeatureUpdated",GAMEVOPSITEM_MATCHED:"main.games.gameVopsItemMatched",GAMEVOPSITEM_UNMATCHED:"main.games.gameVopsItemUnmatched",GAMESTATE_FAIL_INITIALIZE:"main.games.gameStateFailInitialize"}),c.constant("GAME_VOPS_STATUS",{STARTED:"STARTED",UNAVAILABLE:"UNAVAILABLE",PROGRESS:"PROGRESS",FINISHED:"FINISHED",FAILED:"FAILED"}),c.constant("GAME_SETTINGS_TRANSLATION_STATUS",{FINISHED:"FINISHED",FAILED:"FAILED"}),c.constant("AC_OPS_STATE",{UNOPTIMIZED:"UNOPTIMIZED",OPTIMIZED:"OPTIMIZED",CUSTOMIZED:"CUSTOMIZED"}),c.constant("DC_OPS_STATE",{DISABLED:"DISABLED",PLUGGED:"PLUGGED",OPTIMIZED:"OPTIMIZED",CUSTOMIZED:"CUSTOMIZED"}),c.constant("CUSTOM_OPS_CALLBACK_ACTION",{CUSTOM_SETTINGS_UPDATED:0,APPLIED_SETTING_SELECTED:1}),c.constant("ASPECT_RATIO",{HYPERSAMPLE:0,WIDE_16_9:1,WIDE_16_10:2,STANDARD_4_3:3,STANDARD_5_4:4,CUSTOM:5}),c.constant("GAME_SOCKET_EVENTS",{GAMELIST_UPDATE:"/Applications/v.1.0/",GAMESCAN_UPDATE:"/Applications/v.1.0/refresh",GAMESTATE_UPDATE:"/Applications/v.1.0/state",GAMEVOPS_UPDATE:"/VisualOPS/v.1.0/"}),c.constant("GAME_REFRESH_STATUS",{STARTED:"STARTED",FINISHED:"FINISHED",FAILED:"FAILED",PROGRESS:"PROGRESS"}),c.constant("OPS_TAB_STATE",{AC:{NOT_OPTIMIZED:"NOT_OPTIMIZED",OPTIMIZED:"OPTIMIZED",CUSTOMIZED:"CUSTOMIZED",OPTIMAL_NOT_AVAILABLE:"OPTIMAL_NOT_AVAILABLE",CURRENT_NOT_AVAILABLE:"CURRENT_NOT_AVAILABLE",BELOW_MINSPEC:"BELOW_MINSEC",NEW_OPS_UPDATE:"NEW_OPS_UPDATE"},DC:{DISABLED:"DISABLED",USE_PLUGGEDIN:"USE_PLUGGEDIN",OPTIMIZED:"OPTIMIZED",CUSTOMIZED:"CUSTOMIZED",OPTIMAL_NOT_AVAILABLE:"OPTIMAL_NOT_AVAILABLE",CURRENT_NOT_AVAILABLE:"CURRENT_NOT_AVAILABLE"},UNINITIALIZED:"UNINITIALIZED",TRANSITION:"TRANSITION"}),c.constant("OPS_TAB",{PLUGGED_IN:0,ON_BATTERY:1}),c.constant("POWER_MODE",{AC:"AC",DC:"DC"}),t.ngGamesModule=c},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvOverlay=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvOverlay",[function(){function e(e,t){function n(){t.empty(),t.remove(),t=null}if(e.nvPosition){var r={},o=e.nvPosition.split(" ");angular.forEach(o,function(e){switch(e){case"bottom":r.top="auto",r.bottom=0;break;case"right":r.left="auto"}}),t.css(r)}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}return{restrict:"E",transclude:!0,scope:{nvPosition:"@"},template:"<ng-transclude flex layout layout-fill></ng-transclude>",link:e}}]);t.nvOverlay=o},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryService=void 0;var o=n(4),i=r(o),a=n(1);n(14),n(189),n(33),n(19),n(215);var s=a.ngMainCommonModule.service("telemetryService",["tarconEndpoints","$log","GFE_LAUNCH_STATE","TELEMETRY_CRIMSON_LAUNCH_TIME_TYPE","TELEMETRY_CRIMSON_EVENT_NAMES","cefService","TELEMETRY_CRIMSON_TIME_INFO_TYPE","jsEventsService","GFECLIENT_CONFIG","COMMON_EVENTS","eventAggregator","dbService","DB_NAMES","eventsDetailService","EVENTS_DETAIL_DATA","EVENTS_RETURN_CODE",function(e,t,n,r,o,a,s,l,c,u,d,f,m,g,p,v){function h(e,t,n){var r=t.indexOf(i.findWhere(t,{name:e.name}));r!==-1&&t.splice(r,1);var o=i.isUndefined(n)?Date.now():n;return{name:e.name,startTime:o,endTime:null}}function y(t,n){var r=i.findWhere(n,{name:t.name}),o=n.indexOf(r),a=i.clone(r);if(o!==-1&&n.splice(o,1),a&&a.startTime){a.endTime=Date.now();var s=a.endTime-a.startTime;R.debug("started ",t.name,"at ",a.startTime,"and ended at ",a.endTime,"Time elapsed(ms)",s),e.sendPresentation({},{id:t.id,totalSeconds:Math.ceil(s/1e3)}).catch(function(e){R.error("Failed to send Presentation data for:",t.name,".ErrorInfo: status",e.status,", data",e.config.data)})}else R.error("No start record found for ",t)}function b(e){switch(e){case r.LAUNCH_CEF_NODE_GFE_TIME:case r.LAUNCH_CEF_NODE_SITE_TIME:return o.LAUNCHTIME_CEF_NODE_GFE;case r.LAUNCH_CEF_GFE_TIME:case r.LAUNCH_CEF_SITE_TIME:return o.LAUNCHTIME_CEF_GFE;case r.LAUNCH_GFE_TIME:case r.LAUNCH_SITE_TIME:return o.LAUNCHTIME_GFE;case r.LAUNCH_NODE_SITE_TIME:return o.LAUNCHTIME_NODE_GFE}}function S(e){switch(e){case n.INVALID_SESSION:return o.GFE_INITIALIZETIME_LOGINRESET;case n.VALID_SESSION:return o.GFE_INITIALIZETIME_LOGGEDIN;case n.NO_SESSION_TOKEN:return o.GFE_INITIALIZETIME_TOLOGIN}}function E(e){O=e}function _(){return O}function A(){var e=Date.now(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return R.info("telemetry sessionId ",t),t}function w(e){if(e&&(!N.deviceId||!N.sessionId)){R.info("on sysinfo event update common data",e.TelemetryDeviceId),N.setEventsCommonData({deviceId:e.TelemetryDeviceId});var t=f.getGlobalStore(m.GLOBAL_STORE),n={deviceId:e.TelemetryDeviceId};t.setItem(m.SYSTEM_INFO,n)}}function I(e){return(i.isNull(e)||i.isUndefined(e))&&(e=""),e.toString()}var C,x=[],T=[],O=!1;this.sessionId="",this.deviceId="",this.userId="",this.isUIRefreshed=!1,this.clientVersion="",this.sync=!1;var M={msInterval:c.jsEvents.msBetweenSendRequest,maxEvents:c.jsEvents.maxEventsPerRequest},D="",N=this,R=t.getInstance("main.common/telemetryService");R.info("telemeteryService created"),this.getUIRefreshState=function(){R.info("Getting  UI Refreshed state"),a.isUIRefreshed().then(function(e){N.isUIRefreshed=e,R.debug("Refreshed state",e.toString())},function(){R.error("Failed to get UI Refreshed state")})},N.getUIRefreshState(),this.push=function(t,n,r){if(N.isUIRefreshed)return void R.debug("Disabled telemetry",t.name);r=i.extend(r,{appExit:this.sync});var o;o=t&&"TarCon_ClickInfo"===t.type?g.getFormattedEvent(t,{clickedUrl:n||""},p):g.getFormattedEvent(t,n,p),o&&o!==v.UNPROCESSED?(R.info("eventDetail",o),l.sendEventDetail(t,o,r)):R.info("no event detail formatted"),t?t.name&&t.id?((i.isUndefined(n)||"string"!=typeof n)&&(n=""),e.sendClick({},{id:t.id,url:n}).catch(function(e){R.error("failed to send click data for ",t.name,".ErrorInfo: status",e.status,", data",e.config.data)})):R.debug("event not tracked for",t):R.debug("eventName undefined ")},this.startLoad=function(e,t){return N.isUIRefreshed?void R.debug("Disabled telemetry",e.name):void(e?e.name&&e.enumId?x.push(h(e,x,t)):R.event("event not tracked for",e):R.error("eventName undefined "))},this.endLoad=function(e,t,n){if(N.isUIRefreshed)return void R.debug("Disabled telemetry",e.name);n=i.extend(n,{appExit:this.sync,negativeDurationLimit:-1e8});var r=g.getFormattedDurationEvent(e,t,x,n,!1,p);r&&r!==v.UNPROCESSED?(R.info("durationEventDetail",r),l.sendEventDetail(e,r,n)):R.info("no event detail formatted"),e&&e.name&&e.id?y(e,x):R.debug("Telemetry is not tracked for ",e)},this.startView=function(e,t){return N.isUIRefreshed?void R.debug("Disabled telemetry",e.name):void(e?e.name&&e.enumId?T.push(h(e,T,t)):R.event("event not tracked for",e):R.error("eventName undefined "))},this.endView=function(e,t,n){if(N.isUIRefreshed)return void R.info("Disable telemetry calls");n=i.extend(n,{appExit:this.sync,negativeDurationLimit:-1e8});var r=g.getFormattedDurationEvent(e,t,T,n,!1,p);r&&r!==v.UNPROCESSED?(R.info("durationEventDetail view",r),l.sendEventDetail(e,r,n)):R.info("no event detail formatted"),e&&e.name&&e.id?y(e,T):R.debug("Telemetry is not tracked for ",e)},this.handleLaunchTimeTelemetry=function(){var e=this,t=b.bind(e);a.getTimeInfo(s.LAUNCH).then(function(n){var r=JSON.parse(n);R.info("launchTime: ",r);var o=t(r.type);if(i.isUndefined(o))R.error("unable to identify launchtime telemetryId",o);else{var a={};"LaunchGfeTime"!==o.name&&"LaunchCefGfeTime"!==o.name||(a={positiveDurationLimit:2e4}),e.startLoad(o,r.startTime),e.endLoad(o,{},a)}},function(e){R.error("launchTime failed: ",e)})},this.setGfeInitializeStartTime=function(){C=Date.now()},this.handleGfeInitializeTimeTelemetry=function(e){var t=this;if(_()===!1){var n=S(e);i.isUndefined(n)?R.error("unable to identify gfe initialize time telemetryId",n):(t.startLoad(n,C),t.endLoad(n),E(!0))}},this.setEventsCommonData=function(e,t){var n=this;!n.deviceId&&e&&e.deviceId&&R.info("telemetry deviceId",e.deviceId),(!n.userId||t)&&e&&e.userId&&R.info("telemetry userId ",e.userId),n.sessionId=n.sessionId||A(),n.deviceId=n.deviceId||e&&e.deviceId,n.clientVersion=e&&e.clientVersion||n.clientVersion,t===!0?n.userId=e&&e.userId:n.userId=n.userId||e&&e.userId,l.setEventsCommonData({clientProductId:c.jarvis.clientId,clientProductVer:n.clientVersion,clientSessionId:n.sessionId,clientDeviceId:n.deviceId,clientUserId:n.userId,eventSchemaVer:c.jsEvents.schemaVersion})},this.setScreen=function(e){D=e},this.getScreen=function(){return D},this.changeSetting=function(e,t){var n=g.getFormattedEvent(e,{currentScreen:this.getScreen(),settingName:e&&e.enumId,settingValue:I(t)},p);n&&n!==v.UNPROCESSED?(R.info("changeSetting eventDetail",n),l.sendEventDetail(e,n)):R.info("no event detail formatted")},this.changeSettingFail=function(e,t,n){var r=g.getFormattedEvent(e,{currentScreen:this.getScreen(),settingName:e&&e.enumId,targetSettingValue:I(t),errorDetails:I(n)},p);r&&r!==v.UNPROCESSED?(R.info("changeSetting eventDetail",r),l.sendEventDetail(e,r)):R.info("no event detail formatted")},this.changeSync=function(e){this.sync=e},l.setBatchModeSettings(M),d.on(u.SYSTEMINFO_UPDATED,w)}]);t.telemetryService=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesService=void 0;var i=n(200),a=o(i),s=n(685),l=o(s),c=n(4),u=r(c),d=n(3);n(180),n(183),n(177),n(33),n(93),n(24),n(190),n(19),n(63),n(184),n(182),n(178);var f=d.ngPreferencesModule.service("preferencesService",["$log","feedbackEndpoints","licenseEndpoints","gfservicesEndpoints","gfwslEndpoints","driversEndpoints","$q","eventAggregator","PREFERENCES_EVENTS","hardwareService","COMMON_EVENTS","INSTALLER_EVENTS","trayIconEndpoints","gfeUpdatesEndpoints","nvSpCapsEndpoints","gameStreamEndpoints","appCollectorEndpoints","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfeService","EVENTS_NOTIFICATIONS","TELEMETRY_FEATURE_SUPPORTED_STATE","localSdk","NODE_ADD_ONS_LIST",function(e,t,n,r,o,i,s,c,d,f,m,g,p,v,h,y,b,S,E,_,A,w,I,C){function x(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e||void 0===t)return!1;var n=(0,l.default)(e),r=(0,l.default)(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if("object"===(0,a.default)(e[i])&&"object"===(0,a.default)(t[i])){if(!x(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1}return!0}function T(e){if(z=!1,x(V,e))return!1;if(z=!0,V=e,!e)return re.info("processSystemInfo - hardware info not available"),!1;if(u.isArray(e.GPU)&&e.GPU.length>0){var t=u.findWhere(e.GPU,{IsPrimary:"1"})||e.GPU[0];B=null!==t.SystemType&&void 0!==t.SystemType&&"laptop"===t.SystemType.toLowerCase()}}function O(){return u.isNull(W)&&(W=i.getAutomaticDriverDownloadEnabled().then(function(e){return re.info("getAutomaticDriverDownloadEnabled status:",e.status),W=null,e.data.enabled}).catch(function(e){return re.error("failed to getAutomaticDriverDownloadEnabled",e),W=null,s.reject(e)})),W}function M(e,t){return e&&e.status?e.status.toString():"Failed to get "+t+" feature"}function D(){return r.feature.getGameOpsFeature().then(function(e){return S.push(E.PREFERENCES_FEATURE_READINESS_OPS_SUCCESS),Z=e.data.criteria,Z.id=q.GAMES_OPS,c.trigger(d.OPSSUPPORT_UPDATED,Z),Z}).catch(function(e){var t=M(e,"OPS");return S.push(E.PREFERENCES_FEATURE_READINESS_OPS_FAILURE,t),re.error("failed to get ops status",e),s.reject(e)})}function N(){var e=o.feature.getShareFeature().then(function(e){return S.push(E.PREFERENCES_FEATURE_READINESS_SHARE_SUCCESS),J=e.data.criteria,J.id=q.SHARE,J}).catch(function(e){var t=M(e,"Share");return S.push(E.PREFERENCES_FEATURE_READINESS_SHARE_FAILURE,t),re.error("failed to get ShareFeature",e),s.reject(e)});return e}function R(){c.trigger(d.FEATURES_RELOAD),K=[],Y=[],Z=null,X=null,J=null,Q=null,ee=null,Y.push(D()),Y.push($.getGameStreamFeature()),B&&Y.push($.getBatteryBoostFeature()),Y.push(N()),Y.push($.getVirtualRealityFeature()),s.all(Y).then(function(e){re.info("triggering features updated"),c.trigger(d.FEATURES_UPDATED,K),te=!1},function(){re.info("triggering features update failed"),c.trigger(d.HWSYSTEMINFO_FAILED),te=!1}),Y.forEach(function(e){e.then(function(e){K.push(e)})})}function P(e){re.info("refreshing features for sysInfo updated"),te||(te=!0,T(e),z||0===K.length?R():te=!1)}function k(){re.info("reloading features for driver info updated"),c.trigger(d.FEATURES_RELOAD),f.reloadSystemInfo().then(P).catch(function(e){re.error("failed to reload system info",e),c.trigger(d.HWSYSTEMINFO_FAILED)})}function L(){V?(re.info("reloading features for client language updated"),ne===!0&&(te=!0,R())):re.info("reloading features for client language failed since no systeminfo")}function G(){ne=!0,te=!0,R()}function F(){ne=!1}function U(e){var t;e&&e.eventInfo&&(t=e.eventInfo.name),re.info("post feedback for",t,"with duration",e.durationMs),$.postFeedback("FEEDBACK_AUTOMATIC_EVENTS_SKEWED_DURATIONS",t).then(function(){},function(e){re.error("post feedback failed for",t,e)})}var V,z,B,$=this,H=null,W=null,j=null,q={GAMES_OPS:4,GAMES_STREAM:3,BATTERY_BOOST:2,SHARE:1,VIRTUAL_REALITY:0},Y=[],K=[],Z=null,X=null,J=null,Q=null,ee=null,te=!1,ne=!0;$.isGameStreamFeatureSupported=!1,$.isGameStreamRequiredForOobe=!1,$.isShareFeatureSupported=!1,$.oscReady=!1,$.shareAddonLoaded=!1,$.gameStreamAddonLoaded=!1;var re=e.getInstance("main.preferences/preferencesService");_.onlineState&&(ne=_.onlineState.online),$.getNodeAddons=function(){I.getLoadedAddons().then(function(e){e.data.hasOwnProperty(C.SHADOWPLAY)?$.shareAddonLoaded=!0:re.info("Share addon failed to load."),e.data.hasOwnProperty(C.GAMESTREAM)?$.gameStreamAddonLoaded=!0:re.info("GameStream addon failed to load.");var t={shareAddonLoaded:$.shareAddonLoaded,gsAddonLoaded:$.gameStreamAddonLoaded};c.trigger(d.NODE_ADDONS_FETCHED,t)}).catch(function(e){re.error("Error in getLoadedAddons",e)})},$.getApplicationFeatureSet=function(){var e=["scan"];return $.isShareFeatureSupportedOnSystem().then(function(t){t&&e.push("share")}).catch(angular.noop).then($.getGameStreamFeatureAvailibilty).then(function(t){u.propertyOf(t)("showOobe")&&e.push("stream")}).catch(angular.noop).then(function(t){return e})},$.getGameStreamFeatureAvailibilty=function(){return y.getServerStatus().then(function(e){$.isGameStreamFeatureSupported=e.data.streamingSupported,$.isGameStreamRequiredForOobe=e.data.showOobe,c.trigger(d.FEATURE_UPDATED_GS,e.data.streamingSupported),re.info("streamingSupported: ",e.data.streamingSupported,", should show GS in OOBE: ",e.data.showOobe);var t=!u.isNull(X)&&X.overallState?JSON.parse(X.overallState)?w.TRUE:w.FALSE:w.UNKNOWN,n=JSON.parse($.isGameStreamFeatureSupported)?w.TRUE:w.FALSE;return S.push(E.GAMESTREAM_CAPABILITY_STATE,{serviceSupportedState:t,endpointSupportedState:n}),u.pick(e.data,["showOobe","streamingSupported"])},function(e){re.error("getGameStreamServerStatus failed with error: ")})},$.setClientBetaUpdateEnabled=function(e){return e?v.updateBetaSetting("","1"):v.updateBetaSetting("","0")},$.getClientBetaUpdateEnabled=v.getBetaSetting,$.getLicenseAgreement=n.getLicenseAgreement,$.postFeedback=function(e,n,r,o){return t.postFeedback({},{category:e,message:n,relatedApplications:angular.isDefined(r)?r:[],relatedFiles:angular.isDefined(o)?o:[]})},$.getReleaseHighlights=function(){return o.gfe.getReleaseHighlights()},$.setAutoDownloadDriverUpdates=function(e){return u.isNull(j)||i.setAutomaticDriverDownloadEnabled.cancel(H),H=i.setAutomaticDriverDownloadEnabled({},{enabled:e}),j=H.then(function(e){return j=null,re.info("setAutomaticDriverDownloadEnabled status:",e.status),c.trigger(d.AUTOMATIC_DRIVERDOWNLOAD,{}),e.status}).catch(function(e){return j=null,c.trigger(d.AUTOMATIC_DRIVERDOWNLOAD,{}),re.error("failed to setAutomaticDriverDownloadEnabled",e),s.reject(e)})},$.getAutoDownloadDriverUpdates=function(){return u.isNull(j)?O():s.reject()},$.getGameOpsFeatureSync=function(){return Z},$.getGameOpsFeature=function(){return Z?s.when(Z):f.getSystemInfo().then(function(e){return T(e),D()}).catch(function(e){return re.error("failed to get GameOpsFeature",e),s.reject(e)})},$.initGameOpsFeature=function(){$.getGameOpsFeature()},$.getGameStreamFeature=function(){if(X)return s.when(X);var e=o.feature.getGameStreamFeature().then(function(e){return S.push(E.PREFERENCES_FEATURE_READINESS_GS_SUCCESS),X=e.data.criteria,X.id=q.GAMES_STREAM,X}).catch(function(e){var t=M(e,"GameStream");return S.push(E.PREFERENCES_FEATURE_READINESS_GS_FAILURE,t),re.error("failed to get GameStreamFeature",e),s.reject(e)});return e},$.getBatteryBoostFeature=function(){return Q?s.when(Q):o.feature.getBatteryBoostFeature().then(function(e){return S.push(E.PREFERENCES_FEATURE_READINESS_BB_SUCCESS),Q=e.data.criteria,Q.id=q.BATTERY_BOOST,Q}).catch(function(e){var t=M(e,"BatteryBoost");return S.push(E.PREFERENCES_FEATURE_READINESS_BB_FAILURE,t),re.error("failed to get BatteryBoostFeature",e),s.reject(e)})},$.getShareFeature=function(){return J?s.when(J):f.getSystemInfo().then(function(e){return T(e),N()})},$.getVirtualRealityFeature=function(){if(ee)return s.when(ee);var e=o.feature.getVirtualRealityFeature().then(function(e){return S.push(E.PREFERENCES_FEATURE_READINESS_VR_SUCCESS),ee=e.data.criteria,ee.id=q.VIRTUAL_REALITY,ee}).catch(function(e){var t=M(e,"VR");return S.push(E.PREFERENCES_FEATURE_READINESS_VR_FAILURE,t),re.error("failed to get VirtualReality",e),s.reject(e)});return e},$.getFeatures=function(){return re.info("fetching features"),z&&0!==K.length?(re.info("features already cached."),void c.trigger(d.FEATURES_UPDATED,K)):(V=void 0,f.getSystemInfo().then(function(e){P(e)}).catch(function(e){re.error("failed to get system info",e),c.trigger(d.HWSYSTEMINFO_FAILED)}))},c.on(m.SYSTEMINFO_UPDATED,P),c.on(g.INSTALL_DONE,k),c.on(m.LOCALE_CHANGED,L),c.on(m.ONLINE,G),c.on(m.OFFLINE,F),c.on(A.SKEWED_POSITIVE_DURATIONS,U),c.on(A.SKEWED_NEGATIVE_DURATIONS,U),$.setNotifyGeforceDriverUpdate=function(e){var t=p.setDriverUpdateNotification({},{enabled:e}).then(function(e){return re.info("setNotifyGeforceDriverUpdate status",e.status),e.status},function(e){return re.error("failed to setNotifyGeforceDriverUpdate",e),s.reject(e)});return t},$.getNotifyGeforceDriverUpdate=function(e){var t=p.getDriverUpdateNotification({},{}).then(function(e){return e.data.enabled},function(e){return re.error("failed to getNotifyGeforceDriverUpdate",e),s.reject(e)});return t},$.getOpsUpdateNotification=function(e){var t=p.getOPSUpdateNotification({},{}).then(function(e){return re.info("getOPSUpdateNotification returned: ",e.data.enabled),e.data.enabled},function(e){return re.error("failed to getOpsUpdateNotification",e),s.reject(e)});return t},$.setOpsUpdateNotification=function(e){var t=p.setOPSUpdateNotification({},{enabled:e}).then(function(e){return re.info("setOpsUpdateNotification status",e.status),e.status},function(e){return re.error("failed to setOpsUpdateNotification",e),s.reject(e)});return t},$.getShareRunningStatus=function(){var e=h.getShadowPlayRunningStatus({},{}).then(function(e){return u.isNull(e)||u.isEmpty(e.data)?(re.error("getShadowPlayRunningStatus response is null or empty."),s.reject()):e.data.launch},function(e){return re.error("failed to getShadowPlayRunningStatus",e),s.reject(e)});return e},$.toggleShareState=function(e){var t=h.toggleShadowPlayStatus({},{launch:e}).then(function(e){return e.status},function(e){return re.error("failed to toggleShareState",e),s.reject(e)});return t},$.showOnscreenOverlay=function(e){var t=h.showOSC({},{open:e}).then(function(e){return e.status},function(e){return re.error("failed to showOSC",e),s.reject(e)});return t},$.isShareFeatureSupportedOnSystem=function(){return $.getShareFeature().then(function(e){if(e){$.isShareFeatureSupported=JSON.parse(e.overallState);var t=$.isShareFeatureSupported?w.TRUE:w.FALSE;return S.push(E.SHARE_CAPABILITY_STATE,{serviceSupportedState:t,endpointSupportedState:w.UNKNOWN}),$.isShareFeatureSupported}return re.error("getShareFeature returned null object"),S.push(E.SHARE_CAPABILITY_STATE,{serviceSupportedState:w.FALSE,endpointSupportedState:w.UNKNOWN}),s.resolve(!1)}).catch(function(){return re.error("Exception getting system support for share feature"),S.push(E.SHARE_CAPABILITY_STATE,{serviceSupportedState:w.UNKNOWN,endpointSupportedState:w.UNKNOWN}),s.reject()})},$.getHotkeyShortcut=function(e){var t=h.getHotkeyShortcut({hk:e}).then(function(e){return re.info("getHotkeyShortcut response received"),e.data},function(e){return re.error("failed to getHotkeyShortcut"),s.reject(e)});return t},$.showShareSlideOutNotification=function(e){var t=h.showShareSlideOutNotification({},{notifier:e}).then(function(e){return e.status},function(e){return re.error("Failed to show Share slide out notification.",e),s.reject(e)});return t},$.openOscPreferences=function(){var e=h.openOscPreferences({},{}).then(function(e){return e.status},function(e){return re.error("Failed to open OSC Preferences page.",e),s.reject(e)});return e},$.getGameStreamServerStatus=function(){return y.getServerStatus()},$.updateGameStreamServerStatus=function(e){return y.updateServerStatus({},{streamingEnabled:e})},$.unpairAllShieldDevices=function(){return y.deleteAllPairedDevices()},$.getStreamApp=function(){return b.getAppList()},$.appCollectorAdd=function(e){return b.add({},{Path:e})},$.appCollectorRemove=function(e){return b.remove({},{Name:e})},$.appCollectorEdit=function(e){return b.edit({},e)}}]);t.preferencesService=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngGalleryModule=void 0;var r=n(6),o=angular.module("main.gallery",["main.common",r.ngUpdatesModule.name]);angular.module("main").requires.push("main.gallery"),o.constant("GAME_FILE_TYPE",{IMAGE:"screenshot",VIDEO:"video"}).constant("SHOWCASE_ORIGIN",{YOUTUBE:"youtube"}),t.ngGalleryModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngGfnModule=void 0;var r=n(22),o=angular.module("main.gfn",["main.common",r.ngMainConstantsModule.name,"ngResource","ngSanitize","ngMaterial","pascalprecht.translate","angular-carousel","ngEventAggregator","ui.router"]);angular.module("main").requires.push("main.gfn"),t.ngGfnModule=o},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.toastService=void 0;var i=n(4),a=o(i),s=n(1),l=n(558),c=r(l);n(261),n(21);var u=s.ngMainCommonModule.service("toastService",["$mdToast","TOAST_MESSAGE_DEFAULTS","$document","$filter","$log","TOAST_DISPLAY_STATUS",function(e,t,n,r,o,i){function s(r){var o=t.DEFAULT_HIDE_DELAY,s=angular.element(n[0].getElementById("toast-container"));return m.debug("show toast with model ",r),a.isUndefined(r.hideDelay)||(o=r.hideDelay),f===i.TOAST_IN_PROGRESS||g?void(d=r):(f=i.TOAST_IN_PROGRESS,void e.show({template:c.default,parent:s,hideDelay:o,locals:{nvToastModel:r},position:t.DEFAULT_POSITION,controller:"ToastController",controllerAs:"toast",onComplete:l}).finally(function(){f=i.TOAST_NOT_SHOWN}))}var l,u=this,d=null,f=i.TOAST_NOT_SHOWN,m=o.getInstance("main.common/toastService"),g=!1;
u.model={},l=function(){m.debug("toast completed"),f=i.TOAST_SHOWN,a.isNull(d)||(s(d),d=null)},u.show=function(e){s(e)},u.showOffline=function(){var e=r("translate")("l10n.youAreOffline");s({icon:"cloud_off",textContent:e})},u.showProgress=function(e){e.showProgressIndicator=!0,e.hideDelay=0,s(e)},u.showWarning=function(e){e.icon="warning",s(e)},u.showError=function(e){e.icon="error outline",s(e)},u.cancel=function(){m.debug("hide toast message"),g=!0,e.hide().finally(function(){g=!1,f=i.TOAST_NOT_SHOWN,a.isNull(d)||(s(d),d=null)})},u.isOpen=function(){return f!==i.TOAST_NOT_SHOWN}}]);t.toastService=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvEllipsisLines=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvEllipsisLines",["$window","$timeout",function(e,t){return{restrict:"A",scope:!1,compile:function(n,r,o){return function(n,r,o){function i(t,n){return e.getComputedStyle(t[0]).getPropertyValue(n)}function a(e){return e[0].scrollHeight>e[0].clientHeight+1||e[0].scrollWidth>e[0].clientWidth}function s(e,t){var n=0;return"normal"===e||"initial"===e?n=t*c:e.lastIndexOf("px")>-1?n=parseInt(e.substring(0,e.lastIndexOf("px"))):e.lastIndexOf("%")>-1?(n=parseInt(e.substring(0,e.lastIndexOf("%"))),n=Math.round(n*t/100)):(n=parseInt(e),n*=t),(isNaN(n)||n<t*c)&&(n=t*c),n}function l(){var e=o.nvEllipsisText;if(e||(o.nvEllipsisText=r.html(),e=r.html()),e){var t=!1,n=[],l=o.nvEllipsisLines,u=angular.element(r),d=i(r,"font-size"),f=i(r,"line-height"),m=12,g=m*c,p=0,v=0;if(null!=o.nvWordBoundary&&"true"===o.nvWordBoundary&&(t=!0),n=t?e.split(" "):e.split(""),d&&(m=parseInt(d.substring(0,d.lastIndexOf("px"))),isNaN(m)&&(m=12)),f&&(g=s(f,m)),p=Math.ceil(g*l),u.css("max-height",p+"px"),o.isTruncated=!1,r.html(e),a(r)){var h=n.length;for(r.html(e+"...");v<h;v++)if(n.pop(),t?r.html(n.join(" ")+"..."):r.html(n.join("")+"..."),a(r)===!1){o.isTruncated=!0;break}}}}if("1"===o.nvEllipsisLines)r.addClass("single-line-ellipsis");else{var c=1.3;o.isTruncated=!1,o.lastWindowResizeTime=0,o.lastWindowResizeWidth=0,o.lastWindowResizeHeight=0,o.lastWindowTimeoutEvent=null,o.nvEllipsisNoWatch?l():n.$watch(function(){return o.nvEllipsisText},function(){l()}),n.$on("$destroy",function(){t.cancel(o.lastWindowTimeoutEvent)})}}}}}]);t.nvEllipsisLines=o},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dialogService=void 0;var o=n(1);n(232);var i=n(545),a=r(i);n(233);var s=o.ngMainCommonModule.service("dialogService",["$mdDialog",function(e){function t(t,n,r){e.show({template:a.default,escapeToClose:n!==!0,locals:{initialDirective:t},targetEvent:r,controller:"DialogController",controllerAs:"dialog"}).finally(function(){o=!1})}var n,r=this,o=!1;r.model={},r.show=function(e,i,a,s){r.model=angular.copy(i||{}),o||t(e,a,s),o=!0,n&&n(e)},r.cancel=function(t){o&&(e.cancel(),o=!1)},r.isOpen=function(){return o},r.onViewChange=function(e,t){n=e}}]);t.dialogService=s},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageFallback=void 0;var i=n(4),a=o(i),s=n(1);n(13);var l=n(550),c=r(l),u=s.ngMainCommonModule.directive("nvImageFallback",["$log","$compile","$window","$timeout",function(e,t,n,r){return{restrict:"A",link:function(o,i,s){function l(e,t){return n.getComputedStyle(e[0]).getPropertyValue(t)}function u(){b=t(c.default)(o),0!==h&&0!==y&&(b.css("height",h),b.css("width",y)),v?i.addClass("common-image-fallback-hide"):b.addClass("common-image-fallback-hide"),i.after(b)}function d(){b||u(),b.removeClass("common-image-fallback-hide"),b.find("nv-overlay").addClass("common-image-fallback-hide")}function f(){v=!1,r.cancel(S),i.removeClass("common-image-fallback-hide"),b&&(b.remove(),b=null)}function m(){v=!1,r.cancel(S),p.error("The fallback image "+i.attr("src")+" could not be loaded."),d(),i.off("error",m),i.off("load",f),i.empty(),i.remove(),i=null}function g(){r.cancel(S),b&&(b.remove(),b=null),i&&(i.off("error",m),i.off("load",f),i.empty(),i.remove(),i=null)}var p=e.getInstance("main.common/nvImageFallback"),v=!0,h=l(i,"height");h="auto"===h||"0px"===h?0:h;var y=l(i,"width");y="auto"===y||"0px"===y?0:y;var b,S,E=500;"nv-no-loading-indicator"===s.nvImageFallback&&(v=!1),v&&(S=r(function(){b||u()},E)),a.isUndefined(s.ngSrc)&&(i.addClass("common-image-fallback-hide"),d()),i.on("error",m),i.on("load",f),o.$on("$destroy",g)}}}]);t.nvImageFallback=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tbdService=void 0;var r=n(1),o=r.ngMainCommonModule.service("tbdService",["$q",function(e){var t=this;t.getGfnNews=function(t){return e.when([])},t.getGfnLatestGames=function(){return e.when([])},t.getGfnStoreGamesByType=function(t){return e.when([])},t.getGfnStoreGamesByGenre=function(t){return e.when([])},t.getBannerTexts=function(){return e.when([])},t.getGameEvents=function(t){return e.when([])},t.getGameNews=function(t){return e.when([])},t.getNotifications=function(t){return e.when([])},t.getRewards=function(){return e.when([])},t.setClientBetaUpdateEnabled=function(t){return e.when([])},t.setIsUpdatesEnabled=function(t){return e.when()},t.getClientBetaUpdateEnabled=function(){return e.when({})},t.getIsUpdatesEnabled=function(){return e.when()},t.getGalleryItems=function(){return e.when()},t.saveSystemGames=function(t){return e.when()},t.updateSystemGames=function(t,n){return e.when()},t.getUser=function(t){return e.when()},t.askToPlay=function(t,n){return e.when()},t.getUserViewers=function(t){return e.when()},t.getUserFriends=function(t,n){return e.when()},t.getUserFriendCount=function(t,n){return e.when()},t.getUserGroups=function(t){return e.when()},t.getGameActiveFriends=function(t,n){return e.when()},t.getUserAchievements=function(t){return e.when()},t.getUserAbout=function(t){return e.when()},t.getUserGame=function(t){return e.when()},t.getUserGames=function(t,n){return e.when()},t.getUserGameCount=function(t,n){return e.when()},t.getStreamApp=function(){return e.when()},t.listVideos=function(t){return e.when()},t.getGalleryShowcaseItems=function(t){return e.when()}}]);t.tbdService=o},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gamesService=void 0;var i=n(27),a=o(i),s=n(4),l=r(s),c=n(11);n(30),n(41),n(94),n(121),n(186),n(12),n(16);var u=c.ngGamesModule.service("gamesService",["eventAggregator","GAME_EVENTS","GAME_SOCKET_EVENTS","GAME_REFRESH_STATUS","tbdService","$log","socketService","gamesEndpoints","$q","SystemGame","searchPathsEndpoints","dbService","DB_NAMES","COMMON_EVENTS","preferencesService","GAME_SCAN_STATE","localeService","PREFERENCES_EVENTS",function(e,t,n,r,o,i,s,c,u,d,f,m,g,p,v,h,y,b){function S(){ve&&(he.info("triggering opsupdate"),e.trigger(t.OPSFEATURE_UPDATED,ve.overallState))}function E(){return!!se}function _(e){ue=e}function A(e){he.info("setting optimizeInProgress",e),de=e}function w(e){return l.has(oe,e)?oe[e]:void he.info("getSystemGame, unknown id",e)}function I(e,t){var n;n=l.filter(t,function(t){var n;return n=l.findWhere(t.backendExtras,{key:"id"}),!!n&&e.id.toString()===n.value}),1===n.length?e.updateCmsInfo(n[0]):(he.error("could not get cms for game ",e.shortName,n.length),e.updateCmsInfo(null))}function C(e){var t=e.data.apps;l.each(oe,function(e){I(e,t)})}function x(e,t){var n,r;n=w(t),n?(r=e.data.apps,I(n,r)):he.error("no system game for cms update")}function T(){l.each(oe,function(e){e.updateCmsInfo(null)})}function O(e){var t=w(e);t?t.updateCmsInfo(null):he.error("no system game for cms failure update")}function M(){return c.cms({langId:y.getCurrentLocale().code})}function D(e){M().then(C).catch(function(e){he.error("getCms failed",e),T()})}function N(e){M().then(function(t){x(t,e)}).catch(function(t){he.error("getCmsForGame failed",t),O(e)})}function R(e,t){e.cmsId!==t.cmsId?(he.info("cms id changed",t.shortName),N(t.id)):he.info("no changes to cms id",t.shortName)}function P(e){return e?e.regularSupported&&0!==e.cmsId:(he.error("isSupportedGame invoked on invalid game"),!1)}function k(n){return n.getState().then(function(r){e.trigger(t.GAMESTATE_INITIALIZED,n)}).catch(function(){he.error("failed to get game state",n.displayName),e.trigger(t.GAMESTATE_FAIL_INITIALIZE,n)})}function L(e,t){var n;return P(e)?(n=new d(e),oe[e.id]=n,t&&k(n)):he.info("ignoring game",e.shortName,e.regularSupported,e.cmsId),n}function G(e){var t,n=e.data;return oe={},t=l.some(n,function(e){return P(e)}),t?(D(),l.each(n,function(e){L(e,!1)}),o.saveSystemGames(oe)):he.info("skip cms as no games found"),oe}function F(){he.info("init system games");var n=G.bind(this);return re=c.get().then(n).catch(function(e){he.error("error getting local games",e),oe={}}).finally(function(){he.info("trigger gamelist updated",ce.getGamesCount()),e.trigger(t.GAMELIST_CREATED)})}function U(e){return l.where(oe,{shortName:e})}function V(e){var t;return t=w(e.id),!(!t||P(e))&&(he.info("existing game is no longer supported",e),!0)}function z(e){return he.info("storeDbGames",e),m.getGlobalStore(g.GLOBAL_STORE).setItem(g.GAMES,e).then(function(){he.info("saved to db")}).catch(function(e){he.error("Could not save to idb",e)})}function B(){return m.getGlobalStore(g.GLOBAL_STORE).getItem(g.GAMES).then(function(e){he.info("loadDbGames",e),se=e}).catch(function(e){he.error("failed to read local db",e),se={autoOptimize:!1}})}function $(){var e;return 0===ce.getGamesCount()?(he.info("no games to optimize"),!1):ce.isOptimizeInProgress()?(he.info("optimizeAll in progress"),!1):se.autoOptimize?(e=ce.getOptimizedGamesCount(),e!==ce.getGamesCount()||(he.info("all games optimized",e),!1)):(he.info("Auto optimize disabled"),!1)}function H(){var e;return ge?void he.info("auto optimize already in progress"):(e=l.toArray(oe),he.info("starting auto optimize",e.length),ge=u.when(),e.reduce(function(e,t){return ge=e.then(function(){return ce.isOptimizeInProgress()?(he.info("optimizeAll in progress",t.shortName),u.reject("optimizeAll in progress")):se.autoOptimize?w(t.id)?(he.info("autoOptimize - trying to optimize game",t.shortName),t.tryAutoOptimize()):(he.info("autoOptimize - game to optimize deleted, ",t.shortName),u.when()):(he.info("abandon auto optimize",t.shortName),u.reject("auto optimize disabled"))})},ge),void ge.then(function(){he.info("done with auto optimize")}).catch(function(e){he.info("auto optimize aborted",e)}).finally(function(){ge=null}))}function W(){var e,t=u.when();return 0===ce.getGamesCount()?(he.info("no games to initialize"),t):(e=l.toArray(oe),e.reduce(function(e,n){return t=e.then(function(){return w(n.id)?(he.info("trying to get game state",n.shortName),k(n)):(he.info("game to initialize deleted, ",n.shortName),u.when())})},t),t)}function j(){var e=null===ve?null:ve.overallState;return he.info("getGameOpsSupported ",e),e}function q(){var e;return he.info("start autoOptimizeLocalGames"),(e=j())?void($()&&(he.info("proceed with auto optimize"),H())):void he.info("current opsfeature state",e)}function Y(e){me=W(),me.then(function(){e===!1&&q()}).catch(function(e){he.info("games initialization error",e)})}function K(){l.isNull(me)&&he.info("initializegamespromise null"),me=me||u.when(),me.then(function(){he.info("performAutoOptimizeAfterInit - start auto optimize"),q()})}function Z(e){var t;e?(t=j(),he.info("onOpsSupportUpdated ",e.overallState,t),ve=e,E()?ve.overallState&&(t?he.info("onOpsSupportUpdated - no change"):K()):i.error("onOpsSupportUpdated - db not initialized"),S()):he.error("onOpsSupportUpdated - invalid data",e)}function X(e){he.info("handleOobeAutoOptimizeSelection",e),ce.setAutoOptimizeEnabled(e)}function J(){le?he.info("refreshStates already in progress"):(he.info("triggering refresh states on window focus"),le=c.refreshStates(),le.then(function(){he.info("refresh states successful")}).catch(function(){he.error("refresh states failed")}).finally(function(){le=null}))}function Q(){l.each(oe,function(e){e.clearAppSettingTranslation()})}function ee(){var e;return ce.isOptimizeInProgress()?(he.error("optimizeAll - optimize already in progress"),!1):0===ce.getGamesCount()?(he.info("optimizeAll - no games to optimize"),!1):(e=ce.getOptimizedGamesCount(),e!==ce.getGamesCount()||(he.info("optimizeAll - all games optimized",e),!1))}function te(n){var r,i,a,s,c;return he.info("socket event  GAMELIST_UPDATE",n),l.isUndefined(oe)?void he.error("Got game list update before localgames was initialized"):(r=l.keys(n),i=Number(r[0]),void(l.isEmpty(n[i])||V(n[i])?(oe[i]?(he.debug("removing game ",i),delete oe[i],e.trigger(t.GAMELIST_UPDATED)):he.info("deleted game not found"),o.updateSystemGames(oe,void 0)):(a=n[i],P(a)?(c=w(a.id),c?(he.info("game updated"),R(c,a),c.updateInfo(a)):(he.info("game added, initiate auto optimize"),s=L(a,!0),N(a.id),s.tryAutoOptimize()),e.trigger(t.GAMELIST_UPDATED),o.updateSystemGames(oe,oe[i])):he.info("added game not supported",a.shortName))))}function ne(n){n.status===r.STARTED?(he.info("socket event  GAMESCAN_UPDATE",n),_(!0),e.trigger(t.SCAN_STARTED)):n.status===r.FINISHED?(he.info("socket event  GAMESCAN_UPDATE",n),fe=h.NONE,_(!1),e.trigger(t.SCAN_FINISHED)):n.status===r.FAILED?(he.info("socket event  GAMESCAN_UPDATE",n),fe=h.NONE,_(!1),e.trigger(t.SCAN_FAILED)):n.status===r.PROGRESS&&(_(!0),e.trigger(t.SCAN_PROGRESS,n.location))}var re,oe,ie,ae,se,le,ce=this,ue=!1,de=!1,fe=h.NONE,me=null,ge=null,pe=null,ve=null,he=i.getInstance("main.games/gamesService");ce.handleOobeAutoOptimizeSelection=X,ce.isOptimizeInProgress=function(){return de},ce.isScanInProgress=function(){return ue},ce.initialize=function(r){return he.info("games service initialize ",r),ve=v.getGameOpsFeatureSync(),S(),e.on(b.OPSSUPPORT_UPDATED,Z),v.initGameOpsFeature(),he.info("games service - initialize, register for events"),s.register(n.GAMESCAN_UPDATE,t.SCAN_UPDATE),s.register(n.GAMELIST_UPDATE,t.GAMELIST_UPDATE),s.register(n.GAMESTATE_UPDATE,t.GAMESTATE_UPDATE),s.register(n.GAMEVOPS_UPDATE,t.GAMEVOPS_UPDATED),e.on(p.WINDOW_FOCUS,J),e.on(p.LOCALE_CHANGED,Q),F().then(function(){return B().then(function(){he.info("start initializing games"),Y(r)})}).catch(function(){return B().then(function(){return u.reject()})})},ce.getSystemGame=w,ce.getGameOpsSupported=j,ce.getCachedGames=function(){return he.debug("getCachedGames, status",re.$$state.status),l.isUndefined(oe)?re:u.when(oe)},ce.getUiScanState=function(){return fe},ce.scanLocalGames=function(n){var r;return n?(he.info("setting oobe scan"),fe=h.OOBE_SCAN):(he.info("setting user initiated scan"),fe=h.UI_SCAN),ce.isScanInProgress()?void he.error("scan already in progress"):(he.info("starting scan"),_(!0),r=n?c.refreshEx({type:"fast"}):c.refresh(),void r.then(function(e){he.info("start scan success ",e)},function(n){he.info("start scan failed",n),_(!1),fe=h.NONE,e.trigger(t.SCAN_FAILED,{})}))},ce.optimizeLocalGames=function(){var n;if(ee()){if(A(!0),pe)return void he.info("optimizeAll from old session in progress");n=l.toArray(oe),he.info("starting optimizeAll",n.length),pe=u.when(),n.reduce(function(e,t){return pe=e.then(function(){return w(t.id)?(he.info("optimizeAll - trying to optimize game",t.shortName),t.initAndOptimize()):(he.info("optimizeAll - game to optimize deleted, ",t.shortName),u.when())})},pe),pe.finally(function(){he.info("optimizeLocalGames complete"),pe=null,A(!1),e.trigger(t.OPTIMIZE_GAMES_UPDATE,{})})}},ce.isAutoOptimizeEnabled=function(){return E()?u.when(se.autoOptimize):B().then(function(){return se.autoOptimize})},ce.setAutoOptimizeEnabled=function(e){return E()?(se.autoOptimize=e,z(se),void(e&&K())):void i.error("db not initialized")},ce.getGameEvents=o.getGameEvents,ce.getGameNews=o.getGameNews,ce.getGamesCount=function(){var e=0;return oe&&(e=l.size(oe)),he.info("getGamesCount ",e),e},ce.fetchLastRefreshTime=function(){return ie=c.getLastRefreshTime().then(function(e){return ae=e.data,he.info("gameservice - got lastRefreshTime response",ae),u.when(ae)},function(e){return he.error("error getting lastRefreshTime "+e),u.reject()})},ce.getLastRefreshTime=function(){return!l.isUndefined(ie)&&l.isUndefined(ae)?ie:(ae=void 0,ce.fetchLastRefreshTime())},ce.getOptimizedGamesCount=function(){var e=[];return oe?(e=l.filter(oe,function(e){return e&&e.isACorDCoptimized()}),e.length):0},ce.getSearchPaths=function(){return f.getSearchPaths()},ce.getSearchPathsCancel=function(e){return f.getSearchPaths.cancel(e)},ce.searchPathsAdd=function(e){return f.add({},(0,a.default)(e))},ce.searchPathsAddCancel=function(e){return f.add.cancel(e)},ce.searchPathsRemove=function(e){return f.remove({},(0,a.default)(e))},ce.searchPathsRemoveCancel=function(e){return f.remove.cancel(e)},ce.filterOptimized=function(e){return function(t){return!e.gamesFilters||!e.gamesFilters.optimized||t.systemGame&&t.systemGame.isACorDCoptimized()}},ce.hasNoGame=function(e){return!(null!==e&&l.size(e)>0)},ce.allGamesOptimized=function(e){return!ce.hasNoGame(e)&&l.size(l.filter(e,function(e){return e.systemGame&&e.systemGame.isACorDCoptimized()}))===l.size(e)},ce.hasHiddenGame=function(e,t,n){var r=!1;if(e&&e.length){var o=null!==t?t:{hidden:n.gamesFilters.hidden},i=l.filter(e,o);r=l.size(l.filter(i,ce.filterOptimized(n)))<=0}return r},e.on(t.GAMELIST_UPDATE,te),e.on(t.SCAN_UPDATE,ne),e.on(t.GAMESTATE_UPDATE,function(e){var t;he.info("socket event  GAMESTATE_UPDATE",e),t=w(e.id),t?t.updateState():he.error("state update for unknown game")}),e.on(t.GAMEVOPS_UPDATED,function(e){var t;he.info("socket event  GAME_VOPS_UPDATED",e),t=U(e.shortname),l.isEmpty(t)?he.error("VOPS update for unknown game",e):l.each(t,function(e){he.info("refreshing vops with game id",e.id),e.refreshVOPS()})}),e.on(p.LOGIN_STATUS_CHANGE,function(e){fe!==h.NONE&&(he.info("login status change during scan ",e),fe=h.NONE),ce.isOptimizeInProgress()&&(he.info("login status change during optimize ",e),A(!1))})}]);t.gamesService=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngRewardsModule=void 0;var r=n(1),o=n(22),i=angular.module("main.rewards",[r.ngMainCommonModule.name,o.ngMainConstantsModule.name,"ngResource","pascalprecht.translate","ngSanitize"]);angular.module("main.rewards").constant("REWARDS_CONSTANTS",{ERROR_ICON:"error",REWARD_ICON:"card_giftcard",OFFLINE_ICON:"cloud_off",UNIFIED_REDEMPTION_ID:"94770649196658688",REWARDS_COUPONS:{CODE_LENGTH:29,CODE_DASH_LOCATIONS:{FIRST:4,SECOND:9,THIRD:14,FOURTH:19,FIFTH:24}},VALIDATION_ERRORS:{COUPONS:{NOT_FOUND:"coupons.not_found",REGIONAL_RESTRICTION:"coupons.region_restricted",HARDWARE_RESTRICTION:"coupons.hardware_restricted",NOT_ACTIVATED:"coupons.not_activated",NOT_ACTIVE:"coupons.not_active",EXPIRED:"coupons.expired",DISABLED:"coupons.disabled",REDEEMED:"coupons.already_redeemed",OUT_OF_STOCK:"coupons.out_of_stock",ALREADY_OWNED:"coupons.package_already_owned",PACKAGE_FETCH_FAILURE:"cms.package_fetch_failure",RESTRICTION:"coupons.restriction",AGE_RESTRICTION:"coupons.age_restricted"},PACKAGES:{MAXIMUM_OWNERSHIP_GENERIC:"packages.maximum_ownership_reached",MAXIMUM_OWNERSHIP_HARDWARE:"packages.maximum_ownership_on_hardware_reached",MAXIMUM_OWNERSHIP_USER:"packages.maximum_ownership_on_user_reached",OUT_OF_STOCK:"packages.out_of_stock",RESTRICTION:"packages.restriction",REGIONAL_RESTRICTION:"packages.region_restricted",HARDWARE_RESTRICTION:"packages.hardware_restricted"}},REDEMPTION_STATES:{UNREDEEMED:"UNREDEEMED",CLAIMABLE:"CLAIMABLE",REDEEMED:"REDEEMED",REDEEMING:"REDEEMING",EXPIRED:"EXPIRED"},PORTAL_WINDOW_WIDTH:"1000",PORTAL_WINDOW_HEIGHT:"700",MIN_SUPPORTED_DRIVER:"372.90",LIMIT_TO_FILTER:{ITEMS_AT_ONCE:5,INTERVAL_LENGTH:100}}),angular.module("main.rewards").constant("REWARDS_EVENTS",{PREPARE_EXTERNAL_PAGE_STATE:"main.rewards.dialogLoading",GET_REDEMPTION_URL_FAILED:"main.rewards.getRedemptionUrlFailed",REDEMPTION_HISTORY:{PORTAL_URL_READY:"main.rewards.redemptionHistory.portalUrlReady",HANDLE_OFFLINE_STATE:"main.rewards.redemptionHistory.handleOfflineState",HANDLE_PROVIDER_SERVICE_FAILED:"main.rewards.redemptionHistory.handleProviderServiceFailed"},FEATURE_STATUS_UPDATED:"main.rewards.featureStatusUpdated",NEW_REWARD_FOUND:"main.rewards.newRewardFound",REWARD_REDEEM_CLICKED:"main.rewards.rewardRedeemClicked",COUPON_INPUT:{CLEAR_CODE:"main.rewards.couponInput.clearCouponCode",INVALIDATE_CODE:"main.rewards.couponInput.invalidateCode",FOCUS:"main.rewards.couponInput.focus",BLUR:"main.rewards.couponInput.blur",SAVE_CARET:"main.rewards.couponInput.saveCaret",RESTORE_CARET:"main.rewards.couponInput.restoreCaret"},REWARDS_UPDATE:"main.rewards.update",ON_REWARDS_UPDATED:"main.rewards.onUpdated",RESET_SCROLL_POSITION:"main.rewards.resetScrollPosition"}).constant("REWARDS_SOCKET_EVENTS",{REWARDS_UPDATE_FROM_NODE:"/Rewards/v.1.0/refresh"}),t.ngRewardsModule=i},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvSelectMenu=void 0;var o=n(1),i=n(557),a=r(i),s=o.ngMainCommonModule.directive("nvSelectMenu",["$mdMenu",function(e){return{restrict:"E",scope:{nvMdIcon:"@",nvLabel:"@",nvPositionMode:"@",nvFiltered:"="},transclude:!0,template:a.default,link:function(t,n,r){function o(){e.hide()}function i(){a.off("mouseleave",o),a=null,n.empty(),n.remove(),n=null}var a=angular.element(n.find("md-menu-content"));a.on("mouseleave",o),t.$on("$destroy",i),n.on("$destroy",function(){t.$destroy()})}}}]);t.nvSelectMenu=s},,function(e,t,n){e.exports=n.p+"gfe-embossed.png"},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localeService=void 0;var r=n(1);n(20),n(14),n(187);var o=r.ngMainCommonModule.service("localeService",["$log","CLIENT_LOCALES","$translate","settingsEndpoints","$q","toastService","$filter","eventAggregator","COMMON_EVENTS",function(e,t,n,r,o,i,a,s,l){function c(){i.showError({textContent:a("translate")("l10n.somethingWentWrong")})}function u(){var e=r.getCurrentLanguage({},{}).then(function(e){return _.isNull(e)||_.isEmpty(e.data.language)?(v.info("Current language is not saved on the server, use system locale."),m):(v.info("Current language retreived from the server: ",e.data.language),e.data.language)},function(e){return v.info("Failed to get current language from the server, use default en-US locale."),m});return e}function d(e){var t=r.setCurrentLanguage({},{language:e}).then(function(t){return v.info("Current language saved on the server: ",e),t},function(e){return v.error("Failed to save current language on the server, error:",e),o.reject(e)});return t}function f(e){return n.use(e.code).then(function(){return n.preferredLanguage(e.code),n.refresh().then(function(){s.trigger(l.GFWSL_UPDATE_LOCALE_PARAMS,e),s.trigger(l.LOCALE_CHANGED,e),v.info("Language is changed to: ",e.code)}),e},function(e){return c(),v.error("Failed to set language, error:",e),o.reject(e)})}var m,g=this,p=_.findWhere(t,{code:"en-US"}),v=e.getInstance("main.common/localeService");g.setSystemLocale=function(e){v.info("setting System Locale, OS LCID: ",e),m=g.getLocaleFromLCID(Number(e)).code},g.changeLocale=function(e){return e.code===n.use()?o.resolve():_.findWhere(t,{code:e.code,name:e.name})?(v.info("Changing language to: ",e.code),f(e).then(function(){return d(e.code).then(function(e){v.debug("Language is saved, server response: ",e)}).catch(function(e){v.debug("Failed saving language on the server, error:",e),c()}).finally(function(){return e})},function(e){return v.error("failed to set language, error: ",e),o.reject(e)})):(v.error("Failed to find language:",e.code),o.reject())},g.setApplicationLocale=function(){return u().then(function(e){n.fallbackLanguage(p.code);var r=_.findWhere(t,{code:e});return _.isUndefined(r)&&(r=p,v.info("Start application with default language: ",p.code)),v.info("Setting language to: ",r.code),f(r).then(function(){return v.info("Application starts with locale: ",r.code),r})}).catch(function(e){return v.error("failed to set language, error: ",e),o.resolve()})},g.getCurrentLocale=function(){return _.findWhere(t,{code:n.use()})},g.getCurrentLocaleWithUnderscore=function(){return g.getCurrentLocale().code.replace("-","_")},g.getDefaultLocaleWithUnderscore=function(){return p.code.replace("-","_")},g.getLocaleFromLCID=function(e){return _.find(t,function(t){return _.find(t.LCID,function(t){return t==e})})||p},g.getLocaleFromLocaleName=function(e){return _.findWhere(t,{name:e})||p},g.getSupportedLanguages=function(){return t}}]);t.localeService=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvNoContentFallback=void 0;var o=n(1),i=n(555),a=r(i),s=o.ngMainCommonModule.directive("nvNoContentFallback",[function(){return{restrict:"E",scope:{nvTip:"@",nvImageSrc:"@"},transclude:!0,template:a.default}}]);t.nvNoContentFallback=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.userGamesService=void 0;var o=n(4),i=r(o),a=n(11);n(7),n(32),n(30),n(25);var s=a.ngGamesModule.service("userGamesService",["eventAggregator","GAME_EVENTS","gamesService","$log","dbCacheService","DB_NAMES",function(e,t,n,r,o,a){function s(){return m.debug("updateUserGames"),n.getCachedGames().then(function(e){var t=i.map(e,function(e){return e.id.toString()});m.info("Games count in userGamesSet and newUserGamesSet is: ",d.length," and ",t.length);var n=i.difference(t,d);i.each(n,function(e){u[e]=i.defaults(u[e]||{},{id:e,gameId:parseInt(e),favorite:!1,hidden:!1})}),u.persist_(),d=t}).catch(function(e){m.error("updateUserGames error")}).finally(function(){m.info("trigger usergamesupdated"),f||(u.observe_(e.trigger.bind(null,t.USERGAMES_UPDATED)),f=!0)})}var l,c=this,u={},d=[],f=!1,m=r.getInstance("main.games/userGamesService");c.getUserGames=function(){return i.map(d,function(e){return i.clone(u[e])})},c.getUserGame=function(e){var t=i.findWhere(c.getUserGames(),{id:e});return t?i.clone(t):(m.error("getUserGame failed",e),{})},c.updateFavoriteHiddenState=function(n,r,o){n&&(u[n]=u[n]||{},u[n].favorite=r,u[n].hidden=o,u.persist_(),e.trigger(t.USERGAME_UPDATED,u[n]))},c.initialize=function(n){m.info("initialize user games"),d=[],u=o.getCachedUserItem(n.userId,a.JARVIS_GFE_STORE,a.JARVIS_GAME_LIST),u.sync_().then(function(){l||(l=!0,e.on(t.GAMELIST_UPDATED,s)),s()})},c.getInitializedOnce=function(){return f}}]);t.userGamesService=s},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.updatesService=void 0;var o=n(4),i=r(o),a=n(6);n(485),n(93),n(41),n(122),n(124),n(24),n(15),n(464),n(360);var s=a.ngUpdatesModule.service("updatesService",["$log","$filter","TASK_STATUS","updatesInstallerDialogService","INSTALLER_PAGE","eventAggregator","INSTALLER_EVENTS","$q","driversEndpoints","UPDATE_EVENTS","UPDATE_SOCKET_EVENTS","socketService","UPDATE_REFRESH_STATUS","INSTALLER_FORM_EVENT","downloadsEndpoints","DOWNLOAD_PROGRESS_STATUS","DOWNLOAD_SOCKET_EVENTS","installersEndpoints","INSTALLER_SOCKET_EVENTS","hardwareService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfwslDriverInformationService","INSTALLER_ERROR_CODE","DOWNLOAD_TYPE","COMMON_EVENTS","nodeService","SOCKETIO_EVENTS","PREFETCH_EVENTS","$rootScope","$compile","cefService",function(e,t,n,r,o,a,s,l,c,u,d,f,m,g,p,v,h,y,b,S,E,_,A,w,I,C,x,T,O,M,D,N){function R(e){if(e)switch(e.status){case n.TASK_PAUSED:case n.TASK_PAUSED_UNABLE_TO_REACH_SERVER:N.taskbarProgress("percentage",Math.round(e.percentComplete)),N.taskbarProgress("pause");break;case n.TASK_RUNNING:case n.TASK_RETRY:e.percentComplete&&N.taskbarProgress("percentage",Math.round(e.percentComplete));break;case n.TASK_FAILED_UNABLE_TO_REACH_SERVER:case n.TASK_CHECK_SUM_ERROR:case n.TASK_DISK_WRITE_FAIL:case n.TASK_SIGNATURE_VERIFICATION_FAILS:case n.TASK_COMPLETED:case n.TASK_DOWNLOAD_ERROR:N.taskbarProgress("complete")}}function P(){var e;for(e in re)re[e]()}function k(){X.scanCompleted=!0,P()}function L(e){if(e===w.NV_INSTALLER_UAC_CANCELED||e===w.NV_PACKAGE_EXTRACTION_UAC_CANCELED)r.cancel();else{var n={form:o.NVIFORM_INSTALL_START_FAILED,method:g.SHOW_FORM,constraintFailText:[],bullets:[]};switch(e){case w.NV_INSTALLER_ALREADY_RUNNING:n.constraintFailText[0]=t("translate")("l10n.otherInstallationRunning");break;case w.NV_EXTRACTION_MEMORY:n.constraintFailText[0]=t("translate")("l10n.insufficientMemory");break;case w.NV_EXTRACTION_NOT_ENOUGH_SPACE_OR_CORRUPT:n.constraintFailText[0]=t("translate")("l10n.extractionErrorHeader"),n.bullets[0]=t("translate")("l10n.extractionErrorNotEnoughSpace"),n.bullets[1]=t("translate")("l10n.extractionErrorCorrupt");break;default:n.constraintFailText[0]=t("translate")("l10n.anErrorOccured")}r.showInstallerForm(n)}}function G(){oe.info("query installer about last state "),a.off(T.CONNECT,G),y.start({},{driverLocation:"",isCustom:!1,resumeInstall:!1,fromLastState:!0}).then(function(){oe.info("got response about about last state ")},function(e){oe.error("failed to query last installation state error code:",e.data," status:",e.status," params:",e.config.data,e)})}function F(){oe.info("got socket disconnect event"),a.off(T.DISCONNECT,F),a.on(T.CONNECT,G)}function U(){a.off(s.INSTALL_FORM,Z),a.off(s.INSTALL_CANCEL,U),a.off(s.INSTALL_DONE,z)}function V(){a.on(s.INSTALL_FORM,Z),a.on(s.INSTALL_CANCEL,U),a.on(s.INSTALL_DONE,z)}function z(){K(),U()}function B(e){return e.name=t("translate")("l10n.fallbackGeforceDriverName"),e.releaseDateTime="",e.downloadURL="",A.getDriverInformation(e.version).then(function(t){return t&&t.DriverAttributes&&(e.name=t.DriverAttributes.Name,e.releaseDateTime=t.DriverAttributes.ReleaseDateTime,e.downloadURL=t.DriverAttributes.DownloadURL),e},function(t){return oe.error("getDriverInformation failed with error: ",t+" for driver version:"+e.version),e})}function $(e){return p.getStatus({version:e.version,url:e.downloadURL}).then(function(t){return e.downloadStatus=t.data,oe.info("download getStatus for version: ",e.version," ",t),R(t.data),e},function(t){return oe.error("download getStatus failed: ",t.data," status: ",t.status),e})}function H(e){try{return JSON.parse(e)}catch(t){return oe.error("Json parsing exception for ",e),null}}function W(e,t){if(e&&e.gfeLoadUrl){var n=e.gfeLoadUrl;n=n.replace(/\\/g,"");var r=n.split("{");if(2!==r.length)return oe.error("Cannot request for article as gfeloadUrl is incorrect ",e.gfeLoadUrl),l.reject();r[1]="{"+r[1];var o=H(r[1]);o&&X.getDriverArticle(r[0],o,t).then(function(e){if(e.data&&e.data.gfcontent){var t,n=e.data.gfcontent.body,r=M.$new(),o=D(n)(r),i=o.find("img"),s=o.find("link"),l=[],c=[];for(t=0;t<i.length;t++)l.push(i[t].src);for(t=0;t<s.length;t++)"stylesheet"===s[t].rel&&c.push(s[t].href);c.length>0&&a.trigger(O.PRELOAD_STYLES,c),l.length>0&&a.trigger(O.PREFETCH_RESOURCES,l),o.empty(),o.remove(),o=null,r.$destroy()}})}}function j(e){X.getDriverInformation(e).then(function(t){var n,r,o=[];t&&t.DriverAttributes&&(n=t.DriverAttributes.highlightGfeNg,r=t.DriverAttributes.bannerGfeNg),r&&r.forEach(function(e){o.push(e.image)}),n&&n.tiles&&n.tiles.forEach(function(t){o.push(t.coverImage),W(t,e)}),o.length&&a.trigger(O.PREFETCH_RESOURCES,o)})}function q(){return ee=S.getSystemInfo().then(function(e){if(oe.info("getSystemInfo() returns installedDriver version ",e.DriverVersion),i.isNull(e)||i.isEmpty(e.DriverVersion))return l.reject("getSystemInfo() return empty installed driver version");
var t={taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:""};return te={version:e.DriverVersion,downloadStatus:t}},function(e){return oe.error("error getting installed driver version:data",e.data," status:",e.status),l.reject(e.data)}).then(B).then($).finally(function(){ee=void 0}),ee.then(function(e){j(e.version)}),ee}function Y(e){var t,n=[];return angular.forEach(e,function(e){var r={},o={taskId:0,bytesDone:0,totalBytes:0,status:-1,timeRemaining:0,downloadSpeed:0,downloadedLocation:"",failureCount:0};r.name=e.name,r.version=e.version,r.releaseDateTime=e.releaseDateTime,r.isBeta=e.isBeta,r.downloadStatus=o,r.downloadURL=e.downloadURL,n.push(r),Q=n,t=p.getStatus({version:e.version,url:r.downloadURL}).then(function(e){return r.downloadStatus=e.data,R(r.downloadStatus),Q},function(e){return oe.error("download getStatus failed: ",e.data," status: ",e.status),Q})}),t}function K(){Q=void 0,ne=null,ee=null,X.driverInstalled=!0,te=null,J=null}function Z(e){a.off(T.DISCONNECT,F),x.setReconnectionToDefault(),e.method!==g.SHOW_PROGRESS&&oe.info("UpdatesService - received event from installer",e),X.showNextInstallerForm(e)}var X=this;X.timer=void 0,X.scanCompleted=!0,X.manualCheckForUpdate=!1;var J,Q,ee,te,ne,re=[],oe=e.getInstance("main.updates/updatesService");X.startDownload=function(e,t){return oe.info("start download for version",e," url ",t),p.start({version:e,url:t,downloadType:I.DRIVER_DOWNLOAD})},X.pauseDownload=function(e){return oe.info("pause download for taskid",e),p.pause({taskId:e})},X.resumeDownload=function(e){return oe.info("resume download for taskid",e),p.resume({taskId:e}).then(function(e){return R(e.data),e})},X.stopDownload=function(e){return oe.info("stop download for taskid",e),p.stop({taskId:e}).then(function(e){return N.taskbarProgress("complete"),e})},X.setUpdatesListener=function(e){re.push(e)},X.removeUpdatesListener=function(e){var t=re.indexOf(e);t>-1&&re.splice(t,1)},X.canCheckForUpdate=function(){var e=!0;return X.scanCompleted&&Q&&Q.forEach(function(t){t.downloadStatus.status!==n.TASK_PAUSED&&t.downloadStatus.status!==n.TASK_RUNNING&&t.downloadStatus.status!==n.TASK_RETRY||(e=!1)}),e},X.checkForUpdates=function(e){X.canCheckForUpdate()?(X.manualCheckForUpdate=e,oe.info("driver update scan starting.."),c.refresh().then(function(){},function(e){oe.error("UpdateService - start scan failed",e),a.trigger(u.SCAN_FAILED,{})})):oe.info("scan is already in progress..")},X.showNextInstallerForm=function(e){if(e.method===g.SHOW_FORM)switch(e.form){case o.NVIFORM_INSTALL_INITIAL:case o.NVIFORM_INSTALL_CHECKING:case o.NVIFORM_EULA:case o.NVIFORM_PRE_INSTALL_CHECK:case o.NVIFORM_INSTALL_CHECK_WARNINGS:r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_REMOVE_PROGRESS:r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_PROGRESS:r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_FINISHED:E.push(_.UPDATES_INSTALL_DRIVER_SUCCEEDED),r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_FINISHED_NO_SUMMARY:E.push(_.UPDATES_INSTALL_DRIVER_SUCCEEDED),r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_FAILED:r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_REBOOT:r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_START_FAILED:L(e.errorCode);break;case o.NVIFORM_INSTALL_CHECK_WAIT:r.showInstallerForm(e);break;case o.NVIPROP_CUSTOM_INSTALL:r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_REMOVE_REBOOT:r.showInstallerForm(e);break;case o.NVIFORM_INSTALL_CHECK_FAILED:r.showInstallerForm(e);break;default:r.showInstallerForm(e)}else r.showInstallerForm(e);return!0},X.invokeInstallation=function(e,t,n){oe.info("start installation",e.version,e.name,t,n),x.setReconnectionToInfinity();var r=n?"":e.downloadStatus.downloadedLocation;y.start({},{driverLocation:r,isCustom:t,resumeInstall:n}).then(function(){oe.info("successfully start installation ",e.name),a.on(T.DISCONNECT,F)},function(e){oe.error("failed to start installation error code:",e.data," status:",e.status," params:",e.config.data,e),L(e.data)})},X.beginInstallation=function(e,t,n){V(),r.showInstallationForm(e,t,n),X.invokeInstallation(e,t,n)},X.getUpdates=function(){return oe.info("getUpdates called"),J=c.get().then(function(e){return ne=e.data,oe.info("UpdatesService - got update response",ne),ne.updates?Y(ne.updates):l.reject("no updates available")},function(e){return oe.error("error getting driver updates:data ",e.data," status:",e.status),l.reject(e.data)}).finally(function(){J=void 0}),J.then(function(e){e&&e.forEach(function(e){j(e.version)})}),J},X.getUpdateDetails=function(){return J?J:Q?l.when(Q):ne?l.reject("no updates available"):(oe.info("getUpdates called in updatedetails"),X.getUpdates())},X.getInstalledDriver=function(){return ee?ee:te?l.when(te):(oe.info("getInstalledDriver called"),q())},a.on(C.SYSTEMINFO_UPDATED,function(e){oe.info("sysinfo updated",e.DriverVersion),(te&&e.DriverVersion!==te.version||!te&&e.DriverVersion)&&(ee=null,te=null,X.getInstalledDriver(),J=null,Q=void 0,ne=null,X.getUpdateDetails(),a.trigger(u.INSTALLED_DRIVER_UPDATE))}),X.initialize=function(){f.register(d.UPDATESCAN_UPDATE,u.SCAN_UPDATE),f.register(h.DOWNLOAD_PROGRESS_STATUS,v.PROGRESS),f.register(b.INSTALLER_SHOW_FORM,s.INSTALL_FORM),f.register(b.INSTALLER_PROGRESS_UPDATE,s.INSTALL_FORM),a.on(C.LOCALE_CHANGED,K),X.getInstalledDriver(),X.getUpdateDetails(),A.initialize()},a.on(s.INSTALL_DONE,K),a.on(u.SCAN_UPDATE,function(e){oe.info("UpdatesService - got socket event  SCAN_UPDATE - ",e),e===m.STARTED?a.trigger(u.SCAN_STARTED):e===m.FINISHED?(a.trigger(u.SCAN_FINISHED),X.manualCheckForUpdate=!1):e===m.FAILED&&(a.trigger(u.SCAN_FAILED),X.manualCheckForUpdate=!1)}),a.on(u.SCAN_STARTED,function(e){X.scanCompleted=!1}),a.on(u.SCAN_FINISHED,function(e){oe.info("UpdatesService - SCAN_FINISHED"),Q=void 0,ne=null,X.getUpdates(),k()}),a.on(u.SCAN_FAILED,function(e){oe.error("UpdatesService - SCAN_FAILED"),X.manualCheckForUpdate=!1,Q=void 0,ne=null,E.push(_.UPDATES_CHECK_FOR_DRIVER_UPDATES_FAILED),X.getUpdates(),k()}),a.on(v.PROGRESS,function(e){var t=!1;i.isUndefined(Q)||Q.forEach(function(n){n.downloadStatus.taskId===e.taskId&&(n.downloadStatus=e,t=!0)}),!t&&te&&te.downloadStatus&&te.downloadStatus.taskId===e.taskId&&(te.downloadStatus=e,t=!0),t&&(R(e),e.status===n.TASK_RUNNING?oe.info("DOWNLOAD_PROGRESS_STATUS - ",e.status,"%Complete",e.percentComplete," tmRem",e.timeRemaining," dwndSpd",e.downloadSpeed," taskId ",e.taskId,"byteDn",e.bytesDone):oe.info("DOWNLOAD_PROGRESS_STATUS - ",e),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_CHECK_SUM_ERROR||e.status===n.TASK_DISK_WRITE_FAIL||e.status===n.TASK_SIGNATURE_VERIFICATION_FAILS?(a.trigger(v.FAILED,e),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER||e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER?E.push(_.UPDATES_DOWNLOAD_DRIVER_UNABLE_TO_REACH_SERVER):E.push(_.UPDATES_DOWNLOAD_DRIVER_FAILED,e.version)):e.status===n.TASK_COMPLETED&&E.push(_.UPDATES_DOWNLOAD_DRIVER_SUCCESS))}),X.sendResponseToInstaller=function(e){oe.debug("UpdateService:sendResponseToInstaller - send response to installer ",e),y.changeState({},e).then(function(){oe.info("UpdateService - successfully sent response to installer")},function(e){oe.error("UpdateService - installersEndpoints.changeStatus failed",e)})},r.setSendResponseToInstallerRegister(X.sendResponseToInstaller),r.setInvokeInstallationCallbackRegister(X.invokeInstallation),X.getInstallationDriverData=A.getInstallationDriverData,X.getDriverInformation=A.getDriverInformation,X.getDriverArticle=A.getArticleInformation}]);t.updatesService=s},,,,,,,,function(e,t,n){e.exports=n.p+"nv-custom-icons.eot"},,,,,,,,,,function(e,t,n){e.exports=n.p+"toolbar-divider-vertical.png"},,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.ngCmsAssetsSdkModule=void 0;var o=n(4),i=r(o),a=angular.module("main.cmsAssetsSdk",["nvAngularHttpEndpoint","main.common"]);a.constant("CMS_IMAGE_TYPE",{BOX_ART_IMAGE:3,FEATURE_IMAGE:19,SCREENSHOTS:5,ICON_IMAGE:4}),a.service("cmsService",["NvEndpointFactory","$log","GFECLIENT_CONFIG",function(e,t,n){var r,o,a=this,s=t.getInstance("main.cmsAssetsSdk/cmsService"),l=new e,c=angular.merge({},n.cms);r=c.defaultRetries||2,o=c.defaultTimeout||o,l.setUrlGenerator(function(e,t){var n=t.jsonUrl;return delete t.jsonUrl,n}),l.setDefaultTimeout(o),l.setDefaultRetries(r),a.getJson=l.createEndpoint({url:":jsonUrl",method:"GET",params:{jsonUrl:""}}),a.getCountryMetaData=function(e){return this.getJson({jsonUrl:e.countryMetaData.url})},a.getLanguageMetaData=function(e){return this.getJson({jsonUrl:e.languageMetaData.url})},a.getAppMetaData=function(e){return this.getJson({jsonUrl:e.appMetaDataUrl})},a.getAvatarMetaData=function(e){return this.getJson({jsonUrl:e})},a.getImage=function(e,t,n){if(t){var r=i.findWhere(t,{subType:n});return angular.isDefined(r)?r.url:void s.error("image type ",n," undefined for ",e.toString())}return void s.error("assets undefined for ",e.toString())}}]),t.ngCmsAssetsSdkModule=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFallbackSrc=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvFallbackSrc",function(){var e={link:function(e,t,n){function r(){n.nvFallbackSrc!=angular.element(this).attr("src")&&angular.element(this).attr("src",n.nvFallbackSrc)}function o(){t.off("error",r)}t.on("error",r),e.$on("$destroy",o)}};return e});t.nvFallbackSrc=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageFormatService=void 0;var r=n(1),o=r.ngMainCommonModule.service("imageFormatService",["$log","GFECLIENT_CONFIG",function(e,t){var n=e.getInstance("main.common/imageFormatService");return{formatImage:function(e,r){var o=e;if(e){var i="https?://.*(/apps/[0-9]*/.*)",a=e.match(i);_.isArray(a)&&a.length>1?o=t.imageFormatService.server+a[1]+";w="+r+";bg=0x00000000":n.debug("Following image could not beprocessed by imageFormat Service ",e)}return o}}}]);t.imageFormatService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvInputDirective=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvInput",[function(){return{restrict:"A",require:["^^form","ngModel"],compile:function(e){var t=e.attr("name");return e.attr("spellcheck",!1),function(e,n,r,o){var i=o[0],a=o[1];a.$options={updateOn:"blur"},n.bind("focus",function(){i[t].$setUntouched(),e.$digest()})}}}}]);t.nvInputDirective=o},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngMainModule=void 0;var r=n(22),o=n(1),i=n(5),a=n(11),s=n(6),l=n(3),c=n(34),u=angular.module("main",[r.ngMainConstantsModule.name,o.ngMainCommonModule.name,"main.common.config",i.ngOobeModule.name,a.ngGamesModule.name,s.ngUpdatesModule.name,l.ngPreferencesModule.name,c.ngRewardsModule.name,"ngMaterial","ngResource","pascalprecht.translate","ui.router","ui.layout","ngAnimate"]);t.ngMainModule=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeGamesService=void 0;var r=n(5);n(62),n(32);var o=r.ngOobeModule.service("oobeGamesService",["$log","ootbEndpoints","gamesService","userGamesService","jarvisService","eventAggregator","GAME_EVENTS","OOBE_SCAN_STATE","OOBE_EVENTS",function(e,t,n,r,o,i,a,s,l){function c(){var e=n.getGamesCount();b.info("scan games done",e,h),y=s.FINISHED,i.trigger(l.SCAN_FINISHED,e),p(),n.handleOobeAutoOptimizeSelection(h)}function u(){b.info("scan games finished"),c()}function d(){b.error("scan games failed"),n.getCachedGames().finally(c)}function f(){var e=n.getGamesCount();b.info("game list updated ",e),i.trigger(l.GAMELIST_UPDATED,e)}function m(e){b.info("scan progress updated ",e),i.trigger(l.SCAN_PROGRESS,e)}function g(){b.debug("register game scan events"),i.on(a.SCAN_FINISHED,u),i.on(a.SCAN_FAILED,d),i.on(a.GAMELIST_UPDATED,f),i.on(a.GAMELIST_CREATED,f),i.on(a.SCAN_PROGRESS,m)}function p(){b.debug("unregister game scan events"),i.off(a.SCAN_FINISHED,u),i.off(a.SCAN_FAILED,d),i.off(a.GAMELIST_UPDATED,f),i.off(a.GAMELIST_CREATED,f),i.off(a.SCAN_PROGRESS,m)}function v(){var e;b.info("scanGames - notify ootb started"),t.started().catch(function(e){b.error("ootb started failed",e)}),g(),S=!0,n.initialize(!0).then(function(){b.info("scanGames -start local scan"),n.scanLocalGames(!0)}).catch(function(){b.info("scanGames -initialize failed"),d()}),e=o.getLoggedInUser(),r.initialize(e)}var h,y,b=e.getInstance("main.oobe/oobeGamesService"),S=!1;this.startScan=function(e){b.info("start OOBE scan",e),y=s.SCANNING,h=e,v()},this.getScanState=function(){return y},this.getGamesCount=function(){return n.getGamesCount()},this.initializeGames=function(e){S?b.info("games already initialized"):(b.info("start initializing games"),S=!0,n.initialize(!1)),r.initialize(e)}}]);t.oobeGamesService=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardsService=void 0;var i=n(683),a=o(i),s=n(27),l=o(s),c=n(34),u=n(4),d=r(u);n(33),n(89),n(7),n(19),n(259),n(24),n(15),n(60),n(171);var f=c.ngRewardsModule.service("rewardsService",["$log","gfwslEndpoints","$q","cmsService","REWARDS_CONSTANTS","jarvisService","gfeService","eventAggregator","COMMON_EVENTS","signPayloadService","hardwareService","REWARDS_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","NOTIFICATION_EVENTS","GFECLIENT_CONFIG","socketService","REWARDS_SOCKET_EVENTS","$state","GPU_HARDWARE_SIGNATURE_DEFAULTS","localeService","COMMON_DYNAMIC_REDIRECT","windowSpawnService",function(e,t,n,r,o,i,s,c,u,f,m,g,p,v,h,y,b,S,E,_,A,w,I){function C(e,t){var n=[],r=new Date;d.forEach(e,function(e){var t=e.nesPackage.expirationDateTime?new Date(e.nesPackage.expirationDateTime):new Date(864e13);if(t>r){var o={artWork:e.rewardPackage.assets.artwork.gfe_notification_small,artWorkHighRes:e.rewardPackage.assets.artwork.gfe_notification_large,callbackData:e.nesPackage.packageId,callbackFunction:be,heading:e.rewardPackage.name,description:e.rewardPackage.description,firstNotificationHighResolution:!0};n.push(o)}}),c.trigger(h.REMOVE_NOTIFICATION,ye),ye=n,c.trigger(h.NEW_NOTIFICATION,{notificationOnInit:t,notifications:n})}function x(){te&&J.getRedemptionHistory().then(function(e){C(e.claimable,!0)})}function T(e){e?(te=i.getLoggedInUser(),X()):(te=null,ve=null)}function O(e){ae.info("got gfwsl sys params",e),re.cID=e.cID,re.sM=e.sM,re.IsB=e.IsB,re.dIDa=e.dIDa,re.dFma=e.dFma,re.osC=e.osC,re.is6=e.is6,re.GFPV=e.GFPV,re.IsQ=e.IsQ,re.iLp=e.iLp,re.isSLI=e.isSLI,ae.info("Telemetry for RDS: ",le),le.gx_telemetry.deviceId=p.deviceId,le.gx_telemetry.gpuDeviceId=e.dIDa,X()}function M(e){ae.info("got gfwsl geo local params",e),re.cIP=e.cIP,re.go=e.go,X()}function D(e){ae.info("got gfwsl locale params",e),re.lg=e.lg,J.rewardsFaqUrl=w.BASE_URL+A.getCurrentLocaleWithUnderscore()+"&page="+w.FAQ_REDEEM,X()}function N(){if(oe.clientVersion&&oe.driverVersion){var e=f.formatPayloadRequest(oe);return e?m.getSignedGpuId(e).then(function(e){var t=f.formatSignedPayload(e.data);return ie={chId:t.deviceChipsetId,grId:t.deviceRevision,diCe:t.hashedEcid,eSgn:t.signedPayload,uVsn:t.ucodeVersion},n.when(ie)}).catch(function(e){return ae.error("ECID call failed, using fallback values"),ie={chId:_.DEVICE_CHIPSET_ID,grId:_.DEVICE_REVISION,diCe:_.HASHED_ECID,eSgn:_.SIGNED_PAYLOAD,uVsn:_.UCODE_VERSION},n.when(ie)}):(ae.error("Ecid Request Object got invalid signed payload, using default ECID values"),ie={chId:_.DEVICE_CHIPSET_ID,grId:_.DEVICE_REVISION,diCe:_.HASHED_ECID,eSgn:_.SIGNED_PAYLOAD,uVsn:_.UCODE_VERSION},n.when(ie))}return ae.error("ECID validation failed due to improper hardware information"),ie={chId:_.DEVICE_CHIPSET_ID,grId:_.DEVICE_REVISION,diCe:_.HASHED_ECID,eSgn:_.SIGNED_PAYLOAD,uVsn:_.UCODE_VERSION},n.when(ie)}function R(){var e=n.defer();return ue=e.promise,L().then(function(t){oe={signAlgo:1024,key:Q.ecnon_egpk&&Q.ecnon_egpk.value,clientVersion:re.gcV,driverVersion:re.GFPV},oe.nonce=Q.ecnon_egcv.value.substring(0,16)+t.delegateToken.substring(0,16),N().then(function(){e.resolve()})}).catch(function(t){ae.error("Failed to get Jarvis delegate token"),e.reject(t)}),ue}function P(e){Q=angular.merge({},Q,e)}function k(){me?ae.info("Rewards session refresh is in progress, reset not required"):(ae.info("Resetting Rewards Session"),Q.overallState=!1,ve=null,ce=J.initSession())}function L(){return te=i.getLoggedInUser(),ee={userId:te&&te.userId,delegateToken:{}},i.getDelegateToken(o.UNIFIED_REDEMPTION_ID).then(function(e){return ee.delegateToken=e.delegateToken,n.when(ee)})}function G(){var e="_egcV="+(0,l.default)({_egcV:re.gcV});return t.rewards.getRewardsSession({},e).then(function(e){if(e&&e.data)return Q.ecnon_egcv.value=e.data.html.body.sessionState.nonce.value,P(e.data.html.body.sessionState),n.when(Q);var t="GFWSL failed to parse getRewardsSession request JSON, returned null";return ae.error(t),n.reject(t)})}function F(){var e="_ecnon_GfV="+(0,l.default)({_ecnon_GfV:Q.ecnon_egcv.value+"~!~"+re.gcV,_theSysJson:re});return t.rewards.verifyRewardsSession({},e).then(function(e){if(e&&e.data)return P(e.data.html.body.sessionState),n.when(Q);var t="GFWSL failed to parse verifyRewardsSession request JSON, returned null";return ae.error(t),n.reject(t)})}function U(){if(me)ae.info("Already refreshing rewards session, no revival required");else if(Q&&Q.gfeEtaExpire&&Q.gfeEtaExpire.value){var e=new Date;e.setSeconds(e.getSeconds()+10);var t=new Date(Q.gfeEtaExpire.value.substring(0,19));e>=t&&(ae.info("Rewards Session was about to expire, reviving"),k())}else ae.info("Session expiry ETA missing, could not check if revival needed")}function V(e){var t=(0,a.default)({},e);t&&t.type&&t.message&&(d.isEmpty(t.deltas)||d.forEach(t.deltas,function(e,n,r){t.message+=", "+e.error}),p.push(t.type,{couponCode:t.couponCode||"",campaignName:t.campaignName||"",gpuDeviceId:re.dIDa&&re.dIDa.toString()||"",lcid:parseInt(re.lg,10)||0,errorMessage:t.message||""}))}function z(e){return e&&e.data&&e.data.html&&e.data.html.body&&e.data.html.body.sessionState&&e.data.html.body.sessionState.errorDetails&&e.data.html.body.sessionState.errorDetails.message||e&&e.data||""}function B(){var e="_pyldJson="+(0,l.default)({pyld:{_ecnon_GfV:Q.ecnon_egcv.value,_theSysJson:re,_thePiJson:{uID:ee.userId,jTK:ee.delegateToken},_ClmHsahDiceRwdJson:ie,_rdsPt:le}});return t.rewards.gfeWebRewardsStatus({},e).then(function(e){if(e&&e.data)return P(e.data.html.body.sessionState),R().catch(function(e){ae.error("Single use values promise failed after Redemption History"),V({type:se.REWARDS_REDEMPTION_HISTORY_FETCH_FAILED_LOCAL,message:e&&e.status&&e.status.toString()||""})}),n.when(e.data.html.body.reward);var t={data:"GFWSL failed to parse request JSON for gfeWebRewardsStatus, returned null"};return ae.error(t.data),n.reject(t)}).catch(function(e){return ae.error("GFWSL gfeWebRewardsStatus call failed"),V({type:se.REWARDS_REDEMPTION_HISTORY_FETCH_FAILED_GFWSL,message:z(e)}),k(),n.reject(e)})}function $(e){return r.getJson({jsonUrl:e}).then(function(e){return n.when(e.data.package)}).catch(function(t){return ae.error("Failed to get Reward Package from cms",e),n.reject(t)})}function H(e){var t={redeemed:[],unRedeemed:[],claimable:[],redeeming:[],somePackagesMissing:!1},r=[],i={};return d.forEach(e.persona.nesdef.packages,function(e){var n=$(e.packageUrl).then(function(n){i={nesPackage:e,rewardPackage:n},e.packageStateInString===o.REDEMPTION_STATES.REDEEMED?t.redeemed.push(i):e.packageStateInString===o.REDEMPTION_STATES.UNREDEEMED?t.unRedeemed.push(i):e.packageStateInString===o.REDEMPTION_STATES.CLAIMABLE?t.claimable.push(i):t.redeeming.push(i)}).catch(function(n){ae.error("Failed to get one or more packages while building History"),V({type:se.REWARDS_REDEMPTION_HISTORY_FETCH_FAILED_CMS,message:n&&n.status&&n.status.toString()||"",couponCode:e.packageUrl||""}),t.somePackagesMissing=!0});r.push(n)}),n.all(r).then(function(){return p.endLoad(v.REWARDS_REDEMPTION_HISTORY_FETCH_RESPONSE_TIME,{couponCode:"",campaignName:"",gpuDeviceId:re.dIDa&&re.dIDa.toString()||"",lcid:parseInt(re.lg,10)||0}),n.when(t)})}function W(e){ae.info("on new reward found",e),te&&H(e.html.body.reward).then(function(e){ve=e,c.trigger(g.ON_REWARDS_UPDATED),C(e.claimable,!1)})}function j(e){ae.info("rewards socket update from node:",e),"FINISHED"!==e.status||d.isEmpty(e.data)||W(JSON.parse(e.data))}function q(e,r){var o="_crtPyldJson="+(0,l.default)({crtPyld:{_ecnon_GfV:Q.ecnon_egcv.value,_theSysJson:re,_thePiJson:{uID:ee.userId,nTlmt:e,jTK:ee.delegateToken},_ClmHsahDiceRwdJson:ie,_rdsPt:le}});return t.rewards.gfeWebRewardsCreate({},o).then(function(e){if(e&&e.data){P(e.data.html.body.sessionState),R().catch(function(e){ae.error("Single use values promise failed after Portal Create call"),V({type:se.REWARDS_REDEMPTION_PORTAL_FETCH_URL_FAILED_LOCAL,message:e&&e.status&&e.status.toString()||"",couponCode:r.couponCode||""})});var t=e.data.html.body.reward.persona.rdsCreate.packages;if(t&&t[0].error){ae.error("Create redemption portal url failed: ",t[0].error);var o={type:se.REWARDS_REDEMPTION_PORTAL_FETCH_URL_FAILED_RDS,message:t[0].error,couponCode:r.couponCode||"",campaignName:r.campaignName||""};return V(o),n.reject(o)}return n.when(e.data.html.body.reward.persona.rdsCreate.packages)}var i={data:"GFWSL failed to parse request JSON for gfeWebRewardsCreate, returned null"};return ae.error(i.data),n.reject(i)}).catch(function(e){return ae.error("GFWSL gfeWebRewardsCreate call failed"),(!e||e&&!e.type)&&V({type:se.REWARDS_REDEMPTION_PORTAL_FETCH_URL_FAILED_GFWSL,message:z(e),couponCode:r.couponCode||""}),k(),n.reject(e)})}function Y(e,r){var o={entPyld:{_ecnon_GfV:Q.ecnon_egcv.value,_theSysJson:re,_thePiJson:{uID:ee.userId,jTK:ee.delegateToken},_theClmRwdJson:{},_ClmHsahDiceRwdJson:ie,_rdsPt:le}},i="";return r?o.entPyld._theClmRwdJson.PKG=e:o.entPyld._theClmRwdJson.CPN=e,i="_entPyldJson="+(0,l.default)(o),t.rewards.gfeWebRewardsEntitle({},i).then(function(t){if(t&&t.data&&t.data.html&&t.data.html.body){P(t.data.html.body.sessionState),R().catch(function(t){ae.error("Single use values refresh failed after rdsEntitle"),V({type:se.REWARDS_CLAIM_ENTITLEMENT_FAILED_LOCAL,message:t&&t.status&&t.status.toString()||"",campaignName:e})});var r=t.data.html.body.reward.persona.rdsEntitle.packages;if(r&&r[0]&&r[0].error){var o={type:se.REWARDS_CLAIM_ENTITLEMENT_FAILED_RDS,message:r[0].error,deltas:r[0].deltas,campaignName:e};return r[0].definition?$(r[0].definition).then(function(e){return o.rewardPackage=e,o.campaignName=e.uuid,V(o),ae.info("About to enter catch block with package for error case: ",o.message),n.reject(o)}).catch(function(){return ae.error("Catch block for package fetch failure in entitle",o.message),V(o),n.reject(o)}):(ae.error("Package for Learn More link not available in error case: ",o.message),V(o),n.reject(o))}return n.when(r)}var i={data:"Unexpected response from GFWSL for gfeWebRewardsEntitle"};return ae.error(i.data),n.reject(i)}).catch(function(t){return ae.error("Catch block for Entitle entered"),(!t||t&&!t.type)&&V({type:se.REWARDS_CLAIM_ENTITLEMENT_FAILED_GFWSL,message:z(t),campaignName:e}),k(),n.reject(t)})}function K(e){var r="_rdmPyldJson="+(0,l.default)({rdmPyld:{_ecnon_GfV:Q.ecnon_egcv.value,_theSysJson:re,_thePiJson:{uID:ee.userId,jTK:ee.delegateToken},_theClmRwdJson:{CPN:e},_ClmHsahDiceRwdJson:ie,_rdsPt:le}});return t.rewards.gfeWebRewardsRedeem({},r).then(function(t){if(t&&t.data){P(t.data.html.body.sessionState),R().catch(function(t){ae.error("Single use values refresh failed after Redeem"),V({type:se.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_LOCAL,message:t&&t.status&&t.status.toString()||"",couponCode:e||""})});var r=t.data.html.body.reward.persona.rdsRedeem.packages;if(r&&r[0]&&r[0].error){var o={type:se.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_RDS,message:r[0].error,deltas:r[0].deltas,couponCode:e||"",campaignName:""};return r[0].definition?$(r[0].definition).then(function(e){return o.rewardPackage=e,o.campaignName=e.uuid,V(o),ae.info("About to enter catch block with package for error case: ",o.message),n.reject(o)}).catch(function(){return ae.error("Catch block for package fetch failure in redeem",o.message),V(o),n.reject(o)}):(ae.error("Package for Learn More link not available in error case: ",o.message),V(o),n.reject(o))}return n.when(r)}var i={data:"GFWSL failed to parse request JSON for gfeWebRewardsRedeem, returned null"};return ae.error(i.data),n.reject(i)}).catch(function(t){return ae.error("Catch block for Redeem entered"),(!t||t&&!t.type)&&V({type:se.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_GFWSL,message:z(t),couponCode:e||""}),k(),n.reject(t)})}function Z(e){return p.startLoad(v.REWARDS_REDEEM_CODE_VERIFICATION_RESPONSE_TIME),K(e).then(function(t){return $(t[0].definition).then(function(r){var o={rdsPackage:t[0],rewardPackage:r};return p.endLoad(v.REWARDS_REDEEM_CODE_VERIFICATION_RESPONSE_TIME,{couponCode:e||"",campaignName:r.uuid||"",gpuDeviceId:re.dIDa&&re.dIDa.toString()||"",lcid:parseInt(re.lg,10)||0}),n.when(o)}).catch(function(t){ae.error("Failed to get Reward Package during redemption");var r={type:se.REWARDS_REDEEM_CODE_VERIFICATION_FAILED_CMS,message:o.VALIDATION_ERRORS.COUPONS.PACKAGE_FETCH_FAILURE,couponCode:e||""};return V(r),n.reject(r)})})}function X(){s.onlineState&&s.onlineState.online&&te&&re.GFPV&&re.cIP&&re.lg?(de=J.getRewardsSupported(),de.then(function(e){e?(ae.info("Rewards supported, attempting to create new session"),k(),x()):ae.info("Rewards not supported, will not initialize session")})):ae.info("Event received, not ready to refresh Rewards session: onlineState, jarvisUser, DriverVersion, IP, Locale",s.onlineState,te,re.GFPV,re.cIP,re.lg)}var J=this,Q={ecnon_egcv:{}},ee=null,te=null,ne=[],re={gcV:s.version},oe={},ie={},ae=e.getInstance("main.rewards/rewardsService"),se=v,le={gx_telemetry:{deviceId:"",sessionId:"",gpuDeviceId:"",clientVer:re.gcV},rdsRlm:y.rds.portalRealm},ce=null,ue=null,de=null,fe=!1,me=!1,ge=!1,pe=null,ve=null,he=!1,ye=(o.MIN_SUPPORTED_DRIVER,[]),be=function(e){E.go("main.auth.rewards")};J.getRedeemRequestData=function(){return{sysInfo:re,gfwslInfo:ne}},J.initSession=function(){if(me)ae.info("Rewards session refresh already in progress, will not make new call");else{var e=n.defer();ce=e.promise,me=!0,Q&&Q.overallState?(ae.info("Rewards session exists, verifying"),F().then(function(){R().then(function(){e.resolve(),me=!1}).catch(function(t){ae.error("Single use values promise failed while validating session"),e.reject(t),me=!1})}).catch(function(e){ae.error("current rewards session invalid, retrying with new session"),me=!1,k()})):(ae.info("Creating a new Session for Rewards"),G().then(function(t){F().then(function(t){R().then(function(){e.resolve(),me=!1}).catch(function(t){ae.error("Single use values promise failed while creating new session"),e.reject(t),me=!1})}).catch(function(t){ae.error("GFWSL verfySession failed for new getSession"),e.reject(t),me=!1})}).catch(function(t){ae.error("GFWSL getSession failed"),e.reject(t),me=!1}))}return ce},J.getRedemptionHistory=function(){if(ge)ae.info("Reward fetch already in progress, will not make new call");else{if(ve)return n.when(ve);ge=!0,U();var e=n.defer();pe=e.promise,p.startLoad(v.REWARDS_REDEMPTION_HISTORY_FETCH_RESPONSE_TIME),n.all([ce,ue]).then(function(){B().then(function(t){return H(t).then(function(t){ve=t,e.resolve(t),ge=!1})}).catch(function(t){ae.error("Failed to get Rewards History from GFWSL"),e.reject(t),ge=!1})}).catch(function(t){ae.error("One or more promises rejected for Redemption History"),e.reject(t),ge=!1})}return pe},J.initialize=function(){c.on(u.LOGIN_STATUS_CHANGE,T),c.on(u.GFWSL_SYS_PARAMS_UPDATED,O),c.on(u.GFWSL_GEOLOCAL_PARAMS_UPDATED,M),c.on(u.GFWSL_LOCALE_PARAMS_UPDATED,D),c.on(u.ONLINE,X),c.on(g.NEW_REWARD_FOUND,W),b.register(S.REWARDS_UPDATE_FROM_NODE,g.REWARDS_UPDATE),c.on(g.REWARDS_UPDATE,j),te=i.getLoggedInUser(),le.gx_telemetry.sessionId=p.sessionId},J.getRedemptionPortalUrl=function(e,t){return U(),n.all([ce,ue]).then(function(){return q(e,t).then(function(e){return ve=null,n.when(e[0])})})},J.claimReward=function(e,t){return n.all([ce,ue]).then(function(){return p.startLoad(v.REWARDS_CLAIM_ENTITLEMENT_RESPONSE_TIME),Y(e,t).then(function(e){return p.endLoad(v.REWARDS_CLAIM_ENTITLEMENT_RESPONSE_TIME,{couponCode:"",campaignName:e[0]&&e[0].package||"",gpuDeviceId:re.dIDa&&re.dIDa.toString()||"",lcid:parseInt(re.lg,10)||0}),ve=null,n.resolve(e[0])})})},J.attemptCouponRedemption=function(e){return U(),n.all([ce,ue]).then(function(){return Z(e).then(function(e){return ve=null,n.when(e)})})},J.getRewardsSupported=function(){if(fe)return ae.info("rewards status check aready in progress, will not make a new call"),de;if(he)return n.when(he);ae.info("Making a new call for rewards status");var e=n.defer();return de=e.promise,fe=!0,t.rewards.targetGfeWebRewards({gfwslParams:{cmID:"GFE_ENABLE_REDEEM_BUTTON"}}).then(function(t){if(t&&t.data&&t.data.html&&t.data.html.body){var n=JSON.parse(t.data.html.body.sessionState.overallState);e.resolve(n),c.trigger(g.FEATURE_STATUS_UPDATED,n),n&&(ae.info("Rewards is enabled, caching status till GFE open"),he=n)}else ae.error("GFWSL returned inappropriate reponse, disabling rewards"),e.resolve(!1),c.trigger(g.FEATURE_STATUS_UPDATED,!1);fe=!1}).catch(function(){ae.error("targetGfeWebRewards Failed, disabling rewards"),e.resolve(!1),c.trigger(g.FEATURE_STATUS_UPDATED,!1),fe=!1,he=!1}),de},J.openLearnMoreWindow=function(e){p.push(v.REWARDS_LEARN_MORE),e?I.openDefaultBrowser(e):I.openDefaultBrowser(J.rewardsFaqUrl)}}]);t.rewardsService=f},,,,function(e,t,n){var r=n(100),o=n(28),i=n(44);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvAccordionPane=t.nvAccordion=void 0;var r=n(1);n(221);var o=r.ngMainCommonModule.directive("nvAccordion",["ACCORDION_MODES",function(e){return{restrict:"E",transclude:!0,scope:{nvAccordionMode:"@"},template:'<div flex layout="column" ng-transclude></div>',controller:"AccordionController",link:function(t,n,r,o,i){n.attr("layout","column"),r.nvAccordionMode===e.ONLY_ONE?n.addClass("common-accordion-only-one"):r.nvAccordionMode===e.ALWAYS_ONE?n.addClass("common-accordion-always-one"):n.addClass("common-accordion-multiple"),n.addClass("common-accordion")}}}]),i=r.ngMainCommonModule.directive("nvAccordionPane",["$compile",function(e){return{restrict:"E",require:"^nvAccordion",transclude:!0,scope:{nvStartExpanded:"@",nvOnExpand:"&",nvOnExpandOne:"&",nvOnCollapse:"&"},template:'<div ng-transclude flex layout="column"></div>',link:function(t,n,r,o){function i(e){var t,n;for(t in e.path){if(n=angular.element(e.path[t]),n.attr("ng-click"))return;if("nv-accordion-pane-header"===n[0].localName)break}o.onClick(c)}function a(){p(),o.removePane(u),l=null,m=null,g=null,f.off("click",i),f=null,s=null,d.empty(),d.remove(),d=null,c=null,u=null}var s,l,c,u,d=n,f=n.find("nv-accordion-pane-header"),m=n.find("nv-accordion-pane-content");u={onExpand:function(e){e?(d.removeClass("collapsed"),t.nvOnExpand({index:c})):(d.addClass("collapsed"),t.nvOnCollapse({index:c}))},isExpanded:function(){return!d.hasClass("collapsed")}},d.attr("flex",""),d.attr("layout","column"),s=f.wrap("<nv-accordion-pane-header-wrapper></nv-accordion-pane-header-wrapper>"),f.on("click",i);var g=s.append(e('<md-icon md-font-set="material-icons" class="md-18">keyboard_arrow_down</md-icon>')(t));l=m.wrap("<nv-accordion-pane-content-wrapper flex></nv-accordion-pane-content-wrapper"),c=o.addPane(u),u.onExpand("true"===t.nvStartExpanded);var p=r.$observe("nvStartExpanded",function(e){
u.onExpand("true"===e)});t.$on("$destroy",a),n.on("$destroy",function(){t.$destroy()})}}}]);t.nvAccordion=o,t.nvAccordionPane=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.framerateLimiterService=void 0;var o=n(4),i=r(o),a=n(1);n(12),n(181);var s=a.ngMainCommonModule.service("framerateLimiterService",["$log","framerateLimiterEndpoints","$q","jarvisService","dbCacheService","DB_NAMES",function(e,t,n,r,o,a){function s(e){return y=e.data,e.data}function l(e){return b=e.data,e.data}function c(){if(i.isNull(p)){y=null;var e=t.support();return p=e.then(s).catch(function(e){return S.error("failed to framerate Limiter support info",e),n.reject(e)})}return p}function u(){if(i.isNull(v)){b=null;var e=t.state();return v=e.then(l).catch(function(e){return S.error("failed to framerate Limiter state info",e),n.reject(e)})}return v}function d(){return y?n.when(y):c()}function f(){return b?n.when(b):u()}function m(e,t){var n,i;b&&(!e&&b.enabled&&(n=r.getLoggedInUser(),n&&(i=o.getCachedUserItem(n.userId,a.VIEW_STORE,a.VIEW_STATE),i.userTabSelectionList=[],i.persist_())),b.enabled=e,b.value=t)}function g(e,r){return t.setState({},{enabled:e,value:r}).then(function(t){return m(e,r),t}).catch(function(e){return S.error("failed framerate Limiter SetState info",e),n.reject(e)})}var p=null,v=null,h=this,y=null,b=null,S=e.getInstance("main.common/framerateLimiterService");h.getStateInfo=f,h.getSupportInfo=d,h.setStateInfo=g}]);t.framerateLimiterService=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mediaDialogService=void 0;var o=n(1),i=n(551),a=r(i);n(251),n(13),n(157),n(263);var s=o.ngMainCommonModule.service("mediaDialogService",["$mdDialog","$rootElement",function(e,t){var n=this,r={},o=function(){function e(e){t[e]=function(r){return r?(n[e]=r,t):n[e]}}var t=this,n={};e("event"),e("toolbarHtml"),e("image"),e("video")};n.show=function(r){var o=e.show({template:a.default,controller:"MediaDialogController",controllerAs:"mediaDialog",parent:t.find("nv-window"),targetEvent:r.event()});return n.setDialogModel(r),o},n.close=function(t){e.cancel()},n.setDialogModel=function(e){r=e},n.getDialogModel=function(){return r},n.customPreset=function(){return new o}}]);t.mediaDialogService=s},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvSelectMenuItem=void 0;var o=n(1),i=n(556),a=r(i);n(258);var s=o.ngMainCommonModule.directive("nvSelectMenuItem",[function(){return{restrict:"E",scope:{nvAction:"&",nvSelectedTest:"&",nvDisabled:"=ngDisabled",nvTelemetry:"@"},transclude:!0,template:a.default,controller:"SelectMenuItemController",controllerAs:"selectMenuItem",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}}]);t.nvSelectMenuItem=s},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOptimizedIcon=void 0;var o=n(11),i=n(604),a=r(i);n(341);var s=o.ngGamesModule.directive("nvOptimizedIcon",function(){return{restrict:"E",scope:{nvSystemGame:"="},transclude:!0,template:a.default,controller:"OptimizedIconController",controllerAs:"optimizedIcon",bindToController:!0,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvOptimizedIcon=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPlayGame=void 0;var o=n(1),i=n(605),a=r(i);n(342);var s=o.ngMainCommonModule.directive("nvPlayGame",[function(){return{restrict:"E",scope:{nvSystemGame:"&",nvTelemetry:"@"},template:a.default,controller:"PlayGameController",controllerAs:"vm",bindToController:!0,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}}]);t.nvPlayGame=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.systemGame=void 0;var o=n(4),i=r(o),a=n(11);n(94),n(89),n(191),n(363),n(15),n(179),n(60),n(91);var s=a.ngGamesModule.factory("SystemGame",["gamesEndpoints","$log","$q","eventAggregator","GAME_EVENTS","cmsService","CMS_IMAGE_TYPE","vopsEndpoints","vopsJsonEndpoint","$injector","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","appSettingsTranslationEndpoints","localeService","PREFETCH_EVENTS","imageFormatService","cefService",function(e,t,n,r,o,a,s,l,c,u,d,f,m,g,p,v,h){function y(e){i.extend(this,e),this._vopsMetadataPromise=null,this._vopsDataPromise=null,this._gameSettingsTranslationPromise=null,this._gameSettingsTranslationData=null,this._everTryToOptimizeOrCustomize=!1,this._opsRequestPromise=null,this._getStateDeferredList=[]}var b,S=t.getInstance("main.games/SystemGame");return y.prototype=function(){function t(e){i.extend(this,e)}function E(){var e=this;null!=e._cmsInfo.countryMetaData&&a.getCountryMetaData(e._cmsInfo).then(function(t){e._assets=t.data.assets,e.coverImage=v.formatImage(a.getImage(e.id,e._assets,s.BOX_ART_IMAGE),167),e.infoImage=a.getImage(e.id,e._assets,s.FEATURE_IMAGE);var n=a.getImage(e.id,e._assets,s.ICON_IMAGE);e.iconImage24=v.formatImage(n,24),e.iconImage36=v.formatImage(n,36),e.iconFile=e.coverImage,r.trigger(p.PREFETCH_RESOURCES,[e.iconImage24,e.iconImage36])}).catch(function(t){S.error("failed to get cmsService.getCountryMetaData ",t,e._cmsInfo)}),null!=e._cmsInfo.languageMetaData&&a.getLanguageMetaData(e._cmsInfo).then(function(t){e.longDescription=t.data.longDescription}).catch(function(t){S.error("failed to get cmsService.getLanguageMetaData ",t,e._cmsInfo)})}function _(e){e?(this._cmsInfo=e,E.call(this)):S.error("cmsinfo is null",this.shortName)}function A(){return this._cmsInfo}function w(){var e=this;return e._gameState&&e._gameState.REGULAR.recommendationAC?e._gameState.REGULAR.recommendationAC:null}function I(){var e=this;return e._gameState&&e._gameState.REGULAR.recommendationDC?e._gameState.REGULAR.recommendationDC:null}function C(){var e,t,n,r;e=this._sliderSettings.AC.resolution.recommended,this._tweakResolutionAC=this._sliderSettings.AC.resolution.values[e],t=this._sliderSettings.AC.displayMode.recommended,this._tweakDisplayModeAC=this._sliderSettings.AC.displayMode.values[t],n=this._sliderSettings.DC.resolution.recommended,this._tweakResolutionDC=this._sliderSettings.DC.resolution.values[n],r=this._sliderSettings.DC.displayMode.recommended,this._tweakDisplayModeDC=this._sliderSettings.DC.displayMode.values[r]}function x(){var e=this;e._gameState.REGULAR.sliderSettingsAC&&e._gameState.REGULAR.sliderSettingsDC?(S.debug("slider settings initialized for ",e.shortName),e._sliderSettings={AC:e._gameState.REGULAR.sliderSettingsAC,DC:e._gameState.REGULAR.sliderSettingsDC},C.call(e)):S.info("slider settings not available for ",e.shortName,e.id)}function T(){var t=this,r=n.defer();return r.promise.cancel=function(){this.cancelled=!0},t._gameState?r.resolve(t._gameState):t._gameStatePromise?t._getStateDeferredList.push(r):(t._gameStatePromise=e.state({gameId:t.id}).then(function(e){t._gameState=e.data,S.info("new state for ",t.shortName,t.id,t._gameState.REGULAR.targetACState,t._gameState.REGULAR.targetDCState),x.call(t),t._getStateDeferredList.forEach(function(e){e.promise.cancelled||e.resolve(t._gameState)}),t._getStateDeferredList=[]}).catch(function(e){t._getStateDeferredList.forEach(function(t){t.promise.cancelled||t.reject(e)}),t._getStateDeferredList=[]}).finally(function(){t._gameStatePromise=null}),t._getStateDeferredList.push(r)),r.promise}function O(){var e=this;e._vopsState.available?e._vopsState.ready?(r.trigger(o.GAMEVOPS_READY,e.shortName),i.isNull(e._vopsDataPromise)&&(e._vopsDataPromise=c.getVOPS({jsonUrl:e._vopsState.manifestURL}).then(function(t){var n={shortName:e.shortName,vopsData:t.data};r.trigger(o.GAMEVOPS_FINISHED,n),e._vopsDataPromise=null},function(t){r.trigger(o.GAMEVOPS_FAILED,e.shortName),e._vopsDataPromise=null,S.error("VOPS manifest details could not be retrieved for game with short name ",e._vopsState.manifestURL)}))):r.trigger(o.GAMEVOPS_NOTREADY,e.shortName):r.trigger(o.GAMEVOPS_UNAVAILABLE,e.shortName)}function M(){var e=this;e._vopsMetadataPromise=l.get({shortname:e.shortName}).then(function(t){e._vopsState=t.data,O.call(e)},function(t){r.trigger(o.GAMEVOPS_FAILED,e.shortName),e._vopsMetadataPromise=null,S.error("VOPS details could not be retrieved for game with short name ",e.shortName)})}function D(){var e=this;i.isNull(e._vopsMetadataPromise)&&!e._vopsState||(e._vopsState=null,r.trigger(o.GAMEVOPS_STARTED,e.shortName),M.call(e))}function N(){var e=this;r.trigger(o.GAMEVOPS_STARTED,e.shortName),e._vopsState?O.call(e):i.isNull(e._vopsMetadataPromise)&&M.call(e)}function R(){return this._gameState&&this._gameState.REGULAR?this._gameState.REGULAR.targetACState:null}function P(){return this._gameState&&this._gameState.REGULAR?this._gameState.REGULAR.targetDCState:null}function k(){return this._gameState&&this._gameState.REGULAR?this._gameState.REGULAR.targetACPosition:null}function L(){return this._gameState&&this._gameState.REGULAR?this._gameState.REGULAR.targetDCPosition:null}function G(){var e=R.call(this);return null===e?null:"OPTIMIZED"===e||"CUSTOMIZED"===e}function F(){var e=P.call(this);return null===e?null:"OPTIMIZED"===e||"CUSTOMIZED"===e}function U(){var e=P.call(this);return null===e?null:"DISABLED"===e}function V(){return U.call(this)?G.call(this):G.call(this)&&F.call(this)}function z(){return G.call(this)||F.call(this)}function B(){var e=w.call(this);return!!e}function $(){var e=I.call(this);return!!e}function H(){var t=this;e.launcherProcessId().then(function(n){h.allowSetForegroundWindow(n.data.pid),e.launch({gameId:t.id}).then(function(){S.info("game launched")}).catch(function(e){S.info("game launch failed")})}).catch(function(){S.error("get launcher process id failed")})}function W(){var e=this;return e._sliderSettings}function j(t,r){var o=this,i=n.defer(),a=e.settingsSpace({gameId:o.id,tweak:{resolution:t.value,displayMode:r}});return a.then(function(e){e.data.settings||S.error("getSettingsSpace received empty settings ",e,"for game id",o.id),i.resolve(e.data)}).catch(function(e){e.cancelled||(i.reject(e),S.error("getSettingsSpace failed for game id",o.id))}).finally(function(){a=null}),i.promise.cancel=function(){a&&e.settingsSpace.cancel(a)},i.promise}function q(){this._gameState=null,this._sliderSettings=null,this._gameStatePromise=null,S.info("setting gamestate and sliderSettings to NULL",this.shortName,this.id)}function Y(){var e=this;i.isNull(e._gameSettingsTranslationPromise)?i.isNull(e._gameSettingsTranslationData)||(e._gameSettingsTranslationData=null):(S.info("cancel application settings translation request for game:",e.id),m.get.cancel(e._gameSettingsTranslationPromise))}function K(){var e=this;i.isNull(e._gameSettingsTranslationData)?i.isNull(e._gameSettingsTranslationPromise)&&(e._gameSettingsTranslationPromise=m.get({shortname:e.shortName,locale:g.getCurrentLocaleWithUnderscore()}),e._gameSettingsTranslationPromise.then(function(t){e._gameSettingsTranslationData=t.data.reduce(function(e,t){return t.values.length&&(t.values=t.values.reduce(function(e,t){return e[t.name]=t,e},{})),e[t.name]=t,e},{}),r.trigger(o.SETTINGS_TRANSLATION_FINISHED,{id:e.id,data:e._gameSettingsTranslationData})}).catch(function(t){t.cancelled||(S.error("application settings translation failed for game:",e.id),r.trigger(o.SETTINGS_TRANSLATION_FAILED,e.id))}).finally(function(){e._gameSettingsTranslationPromise=null})):r.trigger(o.SETTINGS_TRANSLATION_FINISHED,{id:e.id,data:e._gameSettingsTranslationData})}function Z(e){S.info("setEverTryToOptimizeOrCustomize",e),this._everTryToOptimizeOrCustomize=e}function X(t,n,r){var o=this;return Z.call(this,!0),o._opsRequestPromise=e.optimizeAC({gameId:this.id},{tweak:{resolution:t,displayMode:n},settingsIndex:r}),o._opsRequestPromise.then(function(){S.info("optimize AC succeeded for game:",o.id)}).catch(function(e){S.error("optimize AC failed for game:",o.id,"with error:",e)}).finally(function(){o._opsRequestPromise=null}),o._opsRequestPromise}function J(){var e,t=w.call(this);return t?(S.debug("optimizeAC",this.shortName),e=t.recommendedIndex,X.apply(this,[this._tweakResolutionAC.value,this._tweakDisplayModeAC,e])):(S.error("no recommendations",this.shortName),n.reject())}function Q(t,n,r){var o=this;return Z.call(this,!0),o._opsRequestPromise=e.optimizeDC({gameId:this.id},{tweak:{resolution:t,displayMode:n},settingsIndex:r}),o._opsRequestPromise.then(function(){S.info("optimize DC succeeded for game:",o.id)}).catch(function(e){S.error("optimize DC failed for game:",o.id,"with error:",e)}).finally(function(){o._opsRequestPromise=null}),o._opsRequestPromise}function ee(){var e,t;return t=I.call(this),t?(S.debug("optimizeDC",this.shortName),e=t.recommendedIndex,Q.apply(this,[this._tweakResolutionDC.value,this._tweakDisplayModeDC,e])):(S.error("no DC recommendations",this.shortName),n.reject())}function te(e,t){var n=this;t&&e.then(function(){d.push(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZED_BOPS,n.shortName),d.endView(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZE_TIME_BOPS)},function(e){d.push(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZE_BOPS_FAILED,n.shortName)})}function ne(e,t){var n=this;t&&e.then(function(){d.push(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZED,n.shortName),d.endView(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZE_TIME)},function(e){d.push(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZE_FAILED,n.shortName)})}function re(e){var t,r,o,i=this;return o=q.bind(i),G.call(i)||!B.call(i)?t=n.when(null):(d.startView(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZE_TIME),t=J.call(i),ne.call(i,t,e)),F.call(i)||U.call(i)||!$.call(i)?r=n.when(null):(d.startView(f.GAMEOPTIMIZATIONS_AUTO_OPTIMIZE_TIME_BOPS),r=ee.call(i),te.call(i,r,e)),n.all([t,r])}function oe(){return this._gameState?i.isUndefined(this._gameState.currentSettings):(S.error("isCurrentEmpty - gamestate is undefined",this.shortName),!0)}function ie(e){var t,r=this,o=r.shortName,i=r.id;return z.call(r)||r.isCurrentEmpty()?(S.info("game already optimized or customized or no current",o,i),n.when()):(S.info("startOptimize for",o,i),t=W.call(r),t?re.call(r,e).catch(function(e){S.error("failed to startOptimize",o,i,e)}):(S.info("slider settings not available ",o,i),n.when()))}function ae(){var e,t;return e=this.shortName,t=ie.bind(this,!1),this.getState().then(t).catch(function(t){S.debug("failed to initAndOptimize",e,t)})}function se(){var e=this,t=e.shortName,r=e.id;return b=b?b:u.get("gamesService"),b.isAutoOptimizeEnabled().then(function(o){return o?e._everTryToOptimizeOrCustomize?(S.info("already tried to optimize/customize",t,r),n.when()):e._gameState&&e._gameState.REGULAR.everChangedByGFE?(S.info("autoOptimize - everChangedByGFE true",t,r),n.when()):(S.info("proceed with auto optimize",t,r),ie.call(e,!0)):(S.info("auto optimize disabled ",o,t,r),n.when())})}function le(){var e=this,t=se.bind(e);return S.info("tryAutoOptimize",e.shortName,e.id),T.call(e).then(t).catch(function(t){S.error("failed to auto optimize",e.shortName,t)})}function ce(){var e=this;return!e._gameState&&e._gameStatePromise?void S.error("update state invoked during init",e.shortName,e.id):(S.info("game state changed",e.shortName,e.id),q.call(e),void le.call(e).finally(function(){S.info("trigger state updated event",e.shortName,e.id),r.trigger(o.GAMESTATE_UPDATED,e)}))}function ue(){var e=[],t=i.where(this._assets,{subType:s.SCREENSHOTS});return i.each(t,function(t){e.push({original:t.url,thumbnail:t.url})}),e}function de(){return this._gameState?this._gameState.currentSettings:null}function fe(){return this._gameState?this._gameState.targetSettingsTarget:null}function me(){return this._gameState?this._gameState.REGULAR.targetACSettings:null}function ge(){return this._gameState?this._gameState.REGULAR.targetDCSettings:null}function pe(e){return i.isUndefined(e)||i.isUndefined(e.recommendationAC)?null:e.settings[e.recommendationAC.recommendedIndex]}function ve(e){return i.isUndefined(e)||i.isUndefined(e.recommendationDC)?null:e.settings[e.recommendationDC.recommendedIndex]}function he(){var e=R.call(this);return null===e?null:"OPTIMIZED"===e}function ye(){var e=R.call(this);return null===e?null:"CUSTOMIZED"===e}function be(){var e=P.call(this);return null===e?null:"OPTIMIZED"===e}function Se(){var e=P.call(this);return null===e?null:"CUSTOMIZED"===e}function Ee(){if(this._sliderSettings){var e=this._sliderSettings.AC;return e.resolution.values[e.resolution.recommended]}return null}function _e(){if(this._sliderSettings){var e=this._sliderSettings.AC;return e.displayMode.values[e.displayMode.recommended]}return null}function Ae(){if(this._sliderSettings){var e=this._sliderSettings.DC;return e.resolution.values[e.resolution.recommended]}return null}function we(){if(this._sliderSettings){var e=this._sliderSettings.DC;return e.displayMode.values[e.displayMode.recommended]}return null}function Ie(){var t=this;return t._opsRequestPromise=e.revertAC({gameId:this.id},{}),t._opsRequestPromise.then(function(){S.info("revert AC succeeded for game:",t.id),d.push(f.GAMEOPTIMIZATIONS_REVERTED_OPS,t.shortName)}).catch(function(e){d.push(f.GAMEOPTIMIZATIONS_REVERT_OPS_FAILED,t.shortName),S.error("revert AC failed for game:",t.id,"with error:",e)}).finally(function(){t._opsRequestPromise=null}),t._opsRequestPromise}function Ce(){var t=this;return t._opsRequestPromise=e.revertDC({gameId:this.id},{}),t._opsRequestPromise.then(function(){S.info("revert DC succeeded for game:",t.id),d.push(f.GAMEOPTIMIZATIONS_REVERTED_BOPS,t.shortName)}).catch(function(e){d.push(f.GAMEOPTIMIZATIONS_REVERT_BOPS_FAILED,t.shortName),S.error("revert DC failed for game:",t.id,"with error:",e)}).finally(function(){t._opsRequestPromise=null}),t._opsRequestPromise}function xe(e){return!i.isUndefined(e)&&!i.isUndefined(e.recommendationAC)&&e.recommendationAC.belowMinspec}function Te(e){return!i.isUndefined(e)&&!i.isUndefined(e.recommendationDC)&&e.recommendationDC.belowMinspec}function Oe(){return this._opsRequestPromise}function Me(){if(this._gameState)return this._gameState.REGULAR.targetPowerMode}function De(){var e=w.call(this);return!!e&&e.belowMinspec}function Ne(){var e=I.call(this);return!!e&&e.belowMinspec}function Re(){return!i.isUndefined(this._gameState)&&null!==this._gameState}return{constructor:y,launch:H,isOptimized:V,isCurrentEmpty:oe,initAndOptimize:ae,updateState:ce,getVOPS:N,refreshVOPS:D,getSliderSettings:W,getSettingsSpace:j,customizeAC:X,optimizeAC:J,customizeDC:Q,optimizeDC:ee,isACorDCoptimized:z,getScreenShots:ue,isDCDisabled:U,updateCmsInfo:_,getCurrentCmsInfo:A,getState:T,getRegularTargetSettingsDC:ge,getRegularTargetSettingsAC:me,getOpsPositionAC:k,getOpsPositionDC:L,getCurrentSettings:de,getOptimalDCSettings:ve,getOptimalACSettings:pe,getTargetSettingsTarget:fe,getRecommendedDCResolution:Ae,getRecommendedACResolution:Ee,getRecommendedDCDisplayMode:we,getRecommendedACDisplayMode:_e,isDCOptimized:be,isACOptimized:he,isDCCustomized:Se,isACCustomized:ye,revertACOptimization:Ie,revertDCOptimization:Ce,getRecommendedDCBelowMinspec:Te,getRecommendedACBelowMinspec:xe,tryAutoOptimize:le,setEverTryToOptimizeOrCustomize:Z,getOpsRequestPromise:Oe,updateInfo:t,getTargetPowerMode:Me,clearAppSettingTranslation:Y,getGameSettingsTranslation:K,isACRecommendationAvailable:B,isDCRecommendationAvailable:$,isRecommendedACBelowMinspecFromState:De,isRecommendedDCBelowMinspecFromState:Ne,hasGameState:Re}}(),y}]);t.systemGame=s},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ngNotificationsModule=void 0;var r=n(22),o=angular.module("main.notifications",["main.common",r.ngMainConstantsModule.name,"ngResource","pascalprecht.translate","ngSanitize"]);angular.module("main").requires.push("main.notifications"),o.constant("NOTIFICATION_TYPE",{NEW_REWARD:0,NEW_FRIEND_REQUEST:1}),t.ngNotificationsModule=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redeemRewardController=void 0;var r=n(34);n(98),n(15),n(13);var o=r.ngRewardsModule.controller("RedeemRewardController",["$log","$mdDialog","REWARDS_CONSTANTS","$sce","$timeout","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","$document","rewardsService",function(e,t,n,r,o,i,a,s,l){function c(e){p.dialogRequestInProgress=e}function u(){p.dialogState=h.EXTERNAL_PAGE,o(function(){s.ready(function(){c(!1)})},0)}function d(e,t){return _.findWhere(e,{error:t})}function f(e){switch(e.message){case n.VALIDATION_ERRORS.COUPONS.HARDWARE_RESTRICTION:p.errorMessage="l10n.minHardwareReqsNotMet",p.codeValidationErrorIcon=y.BLOCK;break;case n.VALIDATION_ERRORS.COUPONS.RESTRICTION:e.deltas&&_.size(e.deltas)>0?d(e.deltas,n.VALIDATION_ERRORS.COUPONS.HARDWARE_RESTRICTION)&&d(e.deltas,n.VALIDATION_ERRORS.COUPONS.REGIONAL_RESTRICTION)?p.errorMessage="l10n.minHwRegReqsNotMet":d(e.deltas,n.VALIDATION_ERRORS.COUPONS.HARDWARE_RESTRICTION)?p.errorMessage="l10n.minHardwareReqsNotMet":d(e.deltas,n.VALIDATION_ERRORS.COUPONS.REGIONAL_RESTRICTION)?p.errorMessage="l10n.minRegionReqsNotMet":d(e.deltas,n.VALIDATION_ERRORS.COUPONS.AGE_RESTRICTION)?e.rewardPackage&&e.rewardPackage.translations&&e.rewardPackage.translations["GFE.ERROR.AGE_RESTRICTION"]?(v.info("Using RDS override for Age restricted condition"),p.errorMessage=e.rewardPackage.translations["GFE.ERROR.AGE_RESTRICTION"]):(v.info("No override found for age restriction, using fallback"),p.errorMessage="l10n.minReqsNotMet"):(v.error("Unexpected delta in RDS error response, using hw/reg fallback"),p.errorMessage="l10n.minReqsNotMet"):(v.error("Could not find deltas in RDS error response, using hw/reg fallback"),p.errorMessage="l10n.minReqsNotMet"),p.codeValidationErrorIcon=y.BLOCK;break;case n.VALIDATION_ERRORS.PACKAGES.RESTRICTION:e.deltas&&_.size(e.deltas)>0?d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.HARDWARE_RESTRICTION)&&d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.REGIONAL_RESTRICTION)?e.rewardPackage&&e.rewardPackage.translations&&e.rewardPackage.translations["GFE.ERROR.HARDWARE_AND_REGION_RESTRICTION"]?(v.info("Using RDS override for Hardware and Region restriction condition"),p.errorMessage=e.rewardPackage.translations["GFE.ERROR.HARDWARE_AND_REGION_RESTRICTION"]):(v.info("No override found for hardware and region, using client message"),p.errorMessage="l10n.rewardsHwAndRegionReqsNotMet"):d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.HARDWARE_RESTRICTION)?e.rewardPackage&&e.rewardPackage.translations&&e.rewardPackage.translations["GFE.ERROR.HARDWARE_RESTRICTION"]?(v.info("Using RDS override for Hardware restriction condition"),p.errorMessage=e.rewardPackage.translations["GFE.ERROR.HARDWARE_RESTRICTION"]):(v.info("No override found for hardware restriction, using client message"),p.errorMessage="l10n.rewardsHwReqNotMet"):d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.REGIONAL_RESTRICTION)?e.rewardPackage&&e.rewardPackage.translations&&e.rewardPackage.translations["GFE.ERROR.HARDWARE_RESTRICTION"]?(v.info("Using RDS override for Hardware restriction condition"),p.errorMessage=e.rewardPackage.translations["GFE.ERROR.HARDWARE_RESTRICTION"]):(v.info("No override found for hardware restriction, using client message"),p.errorMessage="l10n.rewardsRegionReqNotMet"):(v.error("Unexpected delta in RDS error response, using hw/reg fallback"),p.errorMessage="l10n.rewardsMinReqsNotMet"):(v.error("Could not find deltas in RDS error response, using hw/reg fallback"),p.errorMessage="l10n.rewardsMinReqsNotMet"),p.codeValidationErrorIcon=y.BLOCK;break;case n.VALIDATION_ERRORS.COUPONS.OUT_OF_STOCK:case n.VALIDATION_ERRORS.PACKAGES.OUT_OF_STOCK:e.rewardPackage&&e.rewardPackage.translations&&e.rewardPackage.translations["GFE.ERROR.OUT_OF_STOCK"]?(v.info("Using RDS override for Out of Stock condition"),p.errorMessage=e.rewardPackage.translations["GFE.ERROR.OUT_OF_STOCK"]):(v.info("No override found for out of stock, using client message"),p.errorMessage="l10n.outOfStock"),p.codeValidationErrorIcon=y.WARNING;break;case n.VALIDATION_ERRORS.COUPONS.DISABLED:case n.VALIDATION_ERRORS.COUPONS.EXPIRED:p.errorMessage="l10n.couponExpired",p.codeValidationErrorIcon=y.WARNING;break;case n.VALIDATION_ERRORS.PACKAGES.MAXIMUM_OWNERSHIP_GENERIC:e.deltas&&_.size(e.deltas)>0?d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.MAXIMUM_OWNERSHIP_HARDWARE)&&d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.MAXIMUM_OWNERSHIP_USER)||d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.MAXIMUM_OWNERSHIP_USER)?e.rewardPackage&&e.rewardPackage.name?(p.errorMessage="l10n.alreadyOwnedUser",p.errorTranslateValues={campaignName:e.rewardPackage.name}):p.errorMessage="l10n.alreadyOwnedUserFallback":d(e.deltas,n.VALIDATION_ERRORS.PACKAGES.MAXIMUM_OWNERSHIP_HARDWARE)?e.rewardPackage&&e.rewardPackage.name?(p.errorMessage="l10n.campaignAlreadyOwned",p.errorTranslateValues={campaignName:e.rewardPackage.name}):p.errorMessage="l10n.couponAlreadyOwned":(v.error("Unexpected delta in RDS error response, using al_own fallback"),p.errorMessage="l10n.couponAlreadyRedeemed"):(v.error("Could not find deltas in RDS error response, using al_own fallback"),p.errorMessage="l10n.couponAlreadyRedeemed"),p.codeValidationErrorIcon=y.BLOCK;break;case n.VALIDATION_ERRORS.COUPONS.ALREADY_OWNED:case n.VALIDATION_ERRORS.COUPONS.REDEEMED:p.errorMessage="l10n.couponAlreadyRedeemed",p.codeValidationErrorIcon=y.BLOCK;break;case n.VALIDATION_ERRORS.COUPONS.NOT_ACTIVATED:case n.VALIDATION_ERRORS.COUPONS.NOT_ACTIVE:p.errorMessage="l10n.cannotBeRedeemedYet",p.codeValidationErrorIcon=y.BLOCK;break;case n.VALIDATION_ERRORS.COUPONS.NOT_FOUND:p.errorMessage="l10n.checkCodeAndTryAgain",p.codeValidationErrorIcon=y.BLOCK;break;case n.VALIDATION_ERRORS.COUPONS.PACKAGE_FETCH_FAILURE:default:p.errorMessage="l10n.unableToProcessRedemption",p.codeValidationErrorIcon=y.WARNING}e.rewardPackage&&e.rewardPackage.assets&&e.rewardPackage.assets.information&&e.rewardPackage.assets.information.more_information&&(b=e.rewardPackage.assets.information.more_information.url,v.info("Got Learn More URL from RDS",b))}function m(){p.isDialogStateCouponValidation()?i.push(a.REDEEM_CODE_FAILED_CLOSE):i.push(a.REWARDS_REDEMPTION_PORTAL_CLOSE,{couponCode:p.code||""})}function g(){p.nvRedemptionError?(p.dialogState=h.COUPON_VALIDATION,f(p.nvRedemptionError)):p.nvRedemptionPortalIframeUrl?(c(!0),p.externalUrl=r.trustAsResourceUrl(p.nvRedemptionPortalIframeUrl),u(),v.debug("Portal rendered in-app with url",p.externalUrl)):v.error("Rewards Dialog initialised incorrectly")}var p=this,v=e.getInstance("main.rewards/RedeemRewardController"),h={COUPON_VALIDATION:"VALIDATE_COUPON_CODE",EXTERNAL_PAGE:"SHOW_EXTERNAL_PAGE"},y={WARNING:"warning",BLOCK:"block"},b=l.rewardsFaqUrl;p.isDialogStateCouponValidation=function(){return p.dialogState===h.COUPON_VALIDATION},p.isDialogStateExternalPage=function(){return p.dialogState===h.EXTERNAL_PAGE},p.onLearnMoreClicked=function(){l.openLearnMoreWindow(b)},p.closeDialog=function(){m(),t.cancel()},p.tryAgain=function(){m(),t.hide()},g()}]);t.redeemRewardController=o},,,,function(e,t,n){t=e.exports=n(8)(),t.push([e.id,".crimson md-backdrop{background-color:#0e0e0e;opacity:.8}::selection{background:#478b06}.crimson-dialog-container-tall{height:538px}.crimson-dialog{min-width:408px;max-width:528px;max-height:538px;overflow-x:hidden;border-radius:0}.crimson-dialog.honeycomb-tall{min-height:406px;max-height:538px;width:408px;background-image:url("+n(137)+");background-size:100%}.crimson-dialog.honeycomb-tall-max{min-height:406px;max-height:594px;width:408px;background-image:url("+n(135)+");background-size:100%}.crimson-dialog.honeycomb-square{height:467px;width:528px;background-image:url("+n(136)+');background-size:100%}.crimson-dialog.feature-error-dialog{width:480px!important;height:152px!important}.crimson-dialog.feature-error-dialog h1{font-family:Roboto;font-size:12px!important;opacity:.75}.crimson-dialog.feature-error-dialog p{font-family:Roboto-Light;font-size:11px!important;opacity:.45}.common-window .feature-error-dialog .md-primary.md-hue-2.foreground{color:#fff!important}.crimson-dialog.honeycomb-tall-max md-dialog-content{padding-top:0}.crimson-dialog.honeycomb-square md-dialog-content,.crimson-dialog.honeycomb-tall md-dialog-content{padding-top:24px}.crimson-dialog .dialog-service-dialog-contents-title{margin:24px 24px 0;font-size:20px;font-weight:300;color:rgba(255,255,255,.9)}.crimson-dialog .dialog-service-dialog-contents-subtitle h2{margin:8px 0 0 24px;font-size:10px;font-weight:400}.crimson-dialog md-dialog-content .last-dialog-child,.crimson-dialog md-dialog-content ng-form:last-child,.crimson-dialog md-dialog-content:last-child{margin-bottom:0}.crimson-dialog .dialog-service-dialog-contents-subtitle a:link{color:#76b900;text-decoration:none}.crimson-dialog .dialog-service-dialog-contents-subtitle a:hover{color:#76b900;border:1px #76b900;border-bottom-style:dotted}.crimson-dialog .dialog-service-dialog-contents-subtitle ae:active{color:rgba(118,185,0,.65);border:1px rgba(118,185,0,.65);border-bottom-style:dotted}.crimson-dialog error-div{height:48px;line-height:48px;margin-top:12px;padding-left:24px;padding-right:24px;font-size:10px;font-weight:400;color:#fff;color:rgba(255,255,255,.6);background-color:#303030}.crimson-dialog error-div span{display:inline-block;vertical-align:middle;line-height:normal}.crimson-dialog md-dialog-content{font-size:12px;font-weight:400;color:#fff;color:rgba(255,255,255,.6);padding:24px;width:initial}.crimson-dialog md-dialog-content p:first-child{margin-top:0}.crimson-dialog .md-actions{padding:0}.crimson-dialog .md-actions button:first-child{margin-right:8px}.crimson-dialog waiting-overlay{position:absolute;background-color:rgba(14,14,14,.7);z-index:5}.crimson-dialog-progress-bar{height:5px;position:absolute;width:100%}.crimson-dialog .dialog-service-dialog-contents-image{width:245px;height:317px}.crimson-dialog .dialog-email-verification{position:absolute;left:0;top:0;padding:24px;height:100%;width:100%;box-sizing:border-box}.crimson-dialog .dialog-email-verification-email{margin-top:136px;margin-bottom:112px}.crimson-dialog .dialog-logo img{margin-top:104px;margin-bottom:12px}.crimson-dialog .dialog-progress md-progress-circular{margin-top:128px;margin-bottom:36px}.common-window .dialog-service-container-size a,.crimson-dialog md-dialog-content[nv-dialog-html] a{color:#FFF;opacity:1;text-decoration:none}.common-window .dialog-service-container-size a:focus::after,.common-window .dialog-service-container-size a:hover,.common-window .dialog-service-container-size a[selected],.crimson-dialog md-dialog-content[nv-dialog-html] a:focus::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:hover,.crimson-dialog md-dialog-content[nv-dialog-html] a[selected]{color:#FFF;opacity:.75}.common-window .dialog-service-container-size a:focus::after,.common-window .dialog-service-container-size a:hover::after,.common-window .dialog-service-container-size a[selected]::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:focus::after,.crimson-dialog md-dialog-content[nv-dialog-html] a:hover::after,.crimson-dialog md-dialog-content[nv-dialog-html] a[selected]::after{color:#FFF;opacity:.75;content:"\\e921";padding-right:3px;font-size:11px;padding-left:2px;vertical-align:middle;line-height:11px;display:inline-block;font-family:nvCustomIcons}.crimson .md-datepicker-container .md-datepicker-button,.crimson-dialog md-dialog-content[nv-dialog-html] .expandedInfo .crimson-dialog.article-content .expandedInfo,.crimson-dialog md-dialog-content[nv-dialog-html] .return-to-top,.crimson-dialog md-dialog-content[nv-dialog-html] .toc,.crimson-dialog.article-content .return-to-top,.crimson-dialog.article-content .toc{display:none}.crimson-dialog md-dialog-content[nv-dialog-html],.crimson-dialog md-dialog-content[nv-license-agreement]{margin:24px 0;padding:0 24px}.crimson-dialog.feedback-dialog .dialog-service-dialog-contents-title{font-size:12px;text-transform:uppercase}.crimson-dialog .dialog-service-dialog-contents-title .feature-error-dialog{font-size:12px!important}.common-window .feature-error-dialog md-dialog-content{overflow-y:hidden!important;margin-top:-12px!important}.crimson-dialog.article-content md-dialog-content{overflow-x:hidden;margin:10px 0 5px;padding:0}.crimson-dialog.article-content{background-image:none;max-height:80vh;min-height:250px;min-width:678px;max-width:700px;transition:all;transform:translate(0,0) scale(1);animation-delay:0s;transition-delay:0s}.crimson-dialog.article-content .dialog-service-dialog-contents-sub-title{font-size:12px;margin-left:24px;color:rgba(255,255,255,.75);font-weight:lighter;margin-top:0}.crimson-dialog.article-content .dialog-service-dialog-contents-title{font-size:16px;margin-left:24px;margin-bottom:6px;color:#fff;font-weight:300;height:100%}.crimson-dialog .dialog-service-dialog-contents-close-button{float:right}.crimson-dialog .dialog-service-dialog-contents-close-button md-icon:hover{color:rgba(255,255,255,.9)}.crimson-dialog .dialog-service-dialog-contents-footer{min-height:0}.crimson .md-label{color:#fff;color:rgba(255,255,255,.45)}.crimson md-input-container{position:relative;padding:0;transition:height .25s;min-height:initial}.crimson md-input-container .md-input,.crimson md-input-container md-select{font-size:12px;font-weight:400;text-shadow:none;margin-top:16px;margin-bottom:4px}.crimson md-input-container label{font-size:12px;font-weight:400;text-shadow:none;bottom:inherit}.crimson md-input-container.md-input-focused label:not(.md-no-float),.crimson md-input-container.md-input-has-value label:not(.md-no-float){transform:perspective(1px) translate3d(0,8px,0) scale(.75)}.crimson .md-datepicker-container [ng-message],.crimson md-input-container [data-ng-message],.crimson md-input-container [ng-message],.crimson md-input-container [x-ng-message],.crimson md-input-container data-ng-message,.crimson md-input-container ng-message,.crimsong md-input-container x-ng-message{font-size:10px;padding-top:0}.crimson md-input-container .md-errors-spacer{min-height:0}.crimson md-input-container [ng-message-exp] div,.crimson md-input-container [ng-message] div,.crimson md-input-container [ng-messages] div{color:gray;color:rbga(255,255,255,.45)}.crimson md-input-container.md-default-theme:not(.md-input-invalid).md-input-focused label:not(.md-no-float),.crimson md-input-container:not(.md-input-invalid).md-input-focused label:not(.md-no-float){color:#76B900}.crimson md-input-container.md-default-theme:not(.md-input-invalid).md-input-focused .md-input,.crimson md-input-container:not(.md-input-invalid).md-input-focused .md-input{border-color:#76B900}.crimson .md-datepicker-input-container.md-datepicker-invalid,.crimson .md-default-theme .md-datepicker-input-container.md-datepicker-invalid,.crimson md-input-container.md-input-invalid .md-input{border-color:#B5291C}.crimson md-input-container.md-input-invalid [ng-message-exp] div:not(.md-char-counter),.crimson md-input-container.md-input-invalid [ng-message] div:not(.md-char-counter),.crimson md-input-container.md-input-invalid [ng-messages] div:not(.md-char-counter){color:#B5291C}.crimson md-input-container.md-default-theme.md-input-invalid label,.crimson md-input-container.md-input-invalid label{color:gray;color:rgba(255,255,255,.45)}.crimson md-checkbox{margin-bottom:0}.crimson md-checkbox div{line-height:20px}.crimson .md-datepicker-container{min-height:initial}.crimson md-datepicker{padding-right:0;min-height:32px;margin:16px 0 0}.crimson .md-datepicker-input{font-size:12px;font-weight:400;text-shadow:none;color:#fff;color:rgba(255,255,255,.45)}.crimson .md-datepicker-container .md-datepicker-triangle-button{right:4px}.crimson .md-datepicker-input-container{margin-left:0}.crimson .md-datepicker-container [ng-message],.crimson .md-datepicker-container [ng-messages]{color:#B5291C}.crimson .md-datepicker-container .md-errors-spacer{min-height:0}.crimson-dialog md-input-container+md-input-container{margin-top:12px}.crimson .md-datepicker-container+md-checkbox,.crimson md-input-container+md-checkbox{margin-top:32px}.crimson md-checkbox+.md-datepicker-container{margin-top:20px}.crimson md-checkbox+md-checkbox{margin-top:24px}.crimson .md-button:not(.md-icon-button):not(.md-fab),.crimson md-menu-item>.md-button{font-size:12px;font-weight:500;height:36px;min-width:64px;padding-left:16px;padding-right:16px;border-radius:0}',""]);
},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,"@font-face{font-weight:400;font-style:normal;font-family:nvCustomIcons;src:url("+n(72)+"#iefix) format('embedded-opentype'),url("+n(72)+"),url("+n(133)+") format('woff'),url("+n(132)+') format(\'truetype\')}.nv-custom-icons{font-family:nvCustomIcons}.icon-NVcheck:before{content:"\\e930"}.icon-battery-charging:before{content:"\\e936"}.icon-account-circle:before{content:"\\e938"}.icon-alert-circle_reg:before{content:"\\e939"}.icon-alert-circle_sm:before{content:"\\e93a"}.icon-notoptimized_reg:before{content:"\\e93b"}.icon-notoptimized_sm:before{content:"\\e93c"}.icon-optimized_reg:before{content:"\\e93e"}.icon-optimized_sm:before{content:"\\e93f"}.icon-play-circle-outline:before{content:"\\e940"}.icon-play-circle:before{content:"\\e941"}.icon-profile_generic:before{content:"\\e942"}.icon-share:before{content:"\\e943"}.icon-onbattery:before{content:"\\e902"}.icon-pluggedin:before{content:"\\e934"}.icon-monitor:before{content:"\\e901"}.icon-GFE-logo_outline_update:before{content:"\\e920"}.icon-quality-high:before{content:"\\e931"}.icon-detailed_view:before{content:"\\e932"}.icon-detailed_view2:before{content:"\\e933"}.icon-guage:before{content:"\\e92f"}.icon-home:before{content:"\\e92d"}.icon-package-down:before{content:"\\e92e"}.icon-notoptimized:before{content:"\\e92c"}.icon-maximize_mode:before{content:"\\e929"}.icon-minimize_mode:before{content:"\\e92a"}.icon-window_mode:before{content:"\\e92b"}.icon-GFE-logo:before{content:"\\e91f"}.icon-folder-browsing:before{content:"\\e91e"}.icon-imgur-logo:before{content:"\\e914"}.icon-youtube-logo:before{content:"\\e90d"}.icon-alert:before{content:"\\e900"}.icon-bell:before{content:"\\e903"}.icon-chevron-down:before{content:"\\e904"}.icon-chevron-up:before{content:"\\e905"}.icon-content-paste:before{content:"\\e906"}.icon-delete:before{content:"\\e907"}.icon-download:before{content:"\\e908"}.icon-eye-off:before{content:"\\e909"}.icon-eye:before{content:"\\e90a"}.icon-file-document:before{content:"\\e90b"}.icon-folder:before{content:"\\e90c"}.icon-google-circles-communities:before{content:"\\e90e"}.icon-heart:before{content:"\\e90f"}.icon-help-circle:before{content:"\\e910"}.icon-menu-down:before{content:"\\e911"}.icon-menu-up:before{content:"\\e912"}.icon-message-text:before{content:"\\e913"}.icon-pause:before{content:"\\e915"}.icon-play:before{content:"\\e916"}.icon-settings:before{content:"\\e917"}.icon-shopping:before{content:"\\e918"}.icon-speedometer:before{content:"\\e919"}.icon-GFE_logo_outline:before{content:"\\e920"}.icon-launch:before{content:"\\e921"}.icon-close:before{content:"\\e922"}.icon-star-circle:before{content:"\\e91a"}.icon-tag:before{content:"\\e91b"}.icon-wrench:before{content:"\\e91c"}.icon-check:before{content:"\\e91d"}.icon-dots-vertical:before{content:"\\e923"}.icon-filter-variant:before{content:"\\e924"}.icon-send-feedback:before{content:"\\e925"}.icon-sort-variant:before{content:"\\e926"}.icon-star:before{content:"\\e927"}.icon-view-module:before{content:"\\e928"}.icon-batteryboost:before{content:"\\e935"}.icon-desktop:before{content:"\\e937"}.icon-gamestream:before{content:"\\e945"}.icon-arrow-left:before{content:"\\e947"}.icon-edit:before{content:"\\e949"}.icon-emptycheckbox:before{content:"\\e94a"}.icon-gpu:before{content:"\\e94d"}.icon-memory:before{content:"\\e94f"}.icon-nvlogo:before{content:"\\e951"}.icon-ram:before{content:"\\e952"}.icon-selectcheckbox:before{content:"\\e953"}.icon-shield:before{content:"\\e95b"}.icon-shieldTV:before{content:"\\e95c"}.icon-tablet:before{content:"\\e95d"}.icon-twitch-logo:before{content:"\\e95e"}.icon-VR:before{content:"\\e963"}.icon-rewards:before{content:"\\e93d"}',""])},function(e,t,n){e.exports=n.p+"nv-custom-icons.ttf"},function(e,t,n){e.exports=n.p+"nv-custom-icons.woff"},,function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-max.png"},function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-square.png"},function(e,t,n){e.exports=n.p+"dialogbox-honeycomb-tall.png"},function(e,t,n){e.exports="<md-dialog class=rewards-dialog ng-switch=redeemReward.dialogState ng-class=\"{'rewards-redeem-reward': redeemReward.isDialogStateCouponValidation(), 'rewards-external-page-container': redeemReward.isDialogStateExternalPage()}\"> <div layout=row flex layout-fill ng-switch-when=VALIDATE_COUPON_CODE> <img ng-src="+n(529)+' alt=l10n.couponRedemption /> <div layout=column flex layout-fill class=constants-position-relative> <md-dialog-content flex> <div class=coupon-redemption-header layout=column> <md-button class="md-icon-button close-button" ng-click=redeemReward.closeDialog() type=button> <md-icon md-font-set=material-icons>close</md-icon> </md-button> <md-subheader class="color-white-hue-3 line-height-sm1" translate=l10n.couponRedemption></md-subheader> </div> <div class="coupon-redemption-block-error-container constants-position-relative" layout=column layout-align="center center"> <md-icon md-font-set=material-icons class="block-error-base-icon margin-zero color-white-hue-8">card_giftcard</md-icon> <nv-overlay class="common-overlay no-background"> <md-icon md-font-set=material-icons class="block-error-overlay-icon margin-zero nv-custom-alert-icon-color">{{redeemReward.codeValidationErrorIcon}}</md-icon> </nv-overlay> <p class="margin-zero block-error-message color-white-hue-4" translate={{redeemReward.errorMessage}} translate-values={{redeemReward.errorTranslateValues}} translate-compile></p> <a class="md-accent foreground" ng-click=redeemReward.onLearnMoreClicked() translate=l10n.learnMore></a> </div> </md-dialog-content> <md-dialog-actions layout=row dir=rtl class=padding-left-zero> <md-button class=md-accent translate=l10n.tryAgain type=submit aria-label=l10n.tryAgain ng-click=redeemReward.tryAgain()></md-button> <span flex></span> </md-dialog-actions> </div> </div> <md-dialog-content flex layout=column layout-fill ng-switch-when=SHOW_EXTERNAL_PAGE> <nv-overlay class="common-overlay no-background iframe-top-toolbar constants-z-layers-two" layout=row> <md-button class="md-icon-button close-button" ng-click=redeemReward.closeDialog()> <md-icon md-font-set=material-icons>close</md-icon> </md-button> </nv-overlay> <div flex layout=column layout-fill> <div class=iframe-scrollbar-spacer></div> <iframe flex ng-src={{redeemReward.externalUrl}} frameborder=0></iframe> </div> </md-dialog-content> <nv-overlay class=common-overlay layout-fill ng-show=redeemReward.dialogRequestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> '},,,,,,,,,,,,,function(e,t,n){var r=n(130);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(131);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.articleInformationController=void 0;var r=n(1);n(23);var o=r.ngMainCommonModule.controller("ArticleInformationController",["$mdDialog","$sce","$log",function(e,t,n){var r=this;r.waiting=!0;var o=n.getInstance("main.common/ArticleInformationController");r.getArticleCallback().then(function(e){r.waiting=!1,e&&e.body?(r.title=e.title,r.subTitle=e.subTitle,r.content=t.trustAsHtml(e.body),r.style=e.style):(r.error=!0,o.error("get article returned null"))}).catch(function(e){r.waiting=!1,r.error=!0,o.error("get article information failed with error: ",e)}),r.closeDialog=function(){e.cancel()},r.style="article-content"}]);t.articleInformationController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvBadge=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvBadge",function(){return{restrict:"A",link:function(e,t,n,r,o){n.$observe("nvBadge",function(e){e&&"0"!==e?t.removeClass("nv-hide-after"):t.addClass("nv-hide-after")})}}});t.nvBadge=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarousel=void 0;var i=n(4),a=o(i),s=n(1);n(248),n(13),n(228);var l=n(537),c=r(l);n(225);var u=s.ngMainCommonModule.directive("nvCarousel",["eventAggregator","GAME_EVENTS",function(e,t){function n(n,r,o,i){function s(r){if(r.name)for(var o=n.nvSlides.length,s=0;s<o;s++)if(a.has(n.nvSlides[s],"annotation")){var l=a.findWhere(n.nvSlides[s].annotation,{nvSettingName:r.name});if(!a.isUndefined(l)){i.selectedIndex=s,e.trigger(t.GAMEVOPSITEM_MATCHED,r),n.nvSlides[s].loaded?(e.trigger(t.SETTING_ITEM_HOVER_CAROUSEL_READY,r),d=null,f=null):(d=r,f=n.nvSlides[s].image);break}e.trigger(t.GAMEVOPSITEM_UNMATCHED,{})}}function l(r){var o=a.findWhere(n.nvSlides,{image:r});a.isUndefined(o)||(o.loaded=!0,a.isNull(f)||f!==r||(e.trigger(t.SETTING_ITEM_HOVER_CAROUSEL_READY,d),d=null,f=null))}function c(e){var t=a.findWhere(n.nvSlides,{image:e});a.isUndefined(t)||(t.loaded=!1)}function u(){e.off(t.SETTING_ITEM_HOVER,s),e.off(t.IMAGE_LOADED,l),e.off(t.IMAGE_UNLOADED,c),r.empty(),r.remove(),r=null}var d=null,f=null;e.on(t.SETTING_ITEM_HOVER,s),e.on(t.IMAGE_LOADED,l),e.on(t.IMAGE_UNLOADED,c),n.$on("$destroy",u),r.on("$destroy",function(){n.$destroy()})}return{restrict:"E",scope:{nvSelectedIndex:"=",nvSlides:"=",nvIsBanner:"@"},template:c.default,controller:"CarouselController",controllerAs:"carousel",link:n}}]);t.nvCarousel=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvBindHtmlCompile=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvBindHtmlCompile",["$compile",function(e){return{restrict:"A",link:function(t,n,r){var o,i=angular.element("<placeholder></placeholder>");n.append(i),r.$observe("nvBindHtmlCompile",function(n){n&&(o=e(n)(t),i.replaceWith(o),i=o)})}}}]);t.nvBindHtmlCompile=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogEditEmail=void 0;var o=n(1),i=n(540),a=r(i);n(234),n(162),n(92);var s=o.ngMainCommonModule.directive("nvDialogEditEmail",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"DialogEditEmailController",controllerAs:"editEmailCtrl"}}]);t.nvDialogEditEmail=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogEmailVerification=void 0;var o=n(1),i=n(541),a=r(i),s=o.ngMainCommonModule.directive("nvDialogEmailVerification",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"emailVerificationCtrl"}}]);t.nvDialogEmailVerification=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvExtendedPattern=void 0;var o=n(1),i=n(751),a=r(i),s=o.ngMainCommonModule.directive("nvExtendedPattern",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var o=null,i=[],s=0;n.$observe("nvExtendedPattern",function(e){try{var t=angular.fromJson(e);t.pattern&&(o=a.default(t.pattern)),t.patternGroups&&(s=t.patternGroups.required,i=[],angular.forEach(t.patternGroups.patterns,function(e){i.push(a.default(e))}))}catch(e){s=0,o=null}}),r.$validators.extendedPattern=function(e){var t=0;return s>0?(angular.forEach(i,function(n){n.test(e)&&(t+=1)}),t>=s):!o||o.test(e)}}}}]);t.nvExtendedPattern=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeedback=void 0;var o=n(1),i=n(547),a=r(i);n(242),n(223),n(246);var s=o.ngMainCommonModule.directive("nvFeedback",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"FeedbackController",controllerAs:"feedbackCtrl"}}]);t.nvFeedback=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvFieldsMatch=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvFieldsMatch",[function(){return{restrict:"A",require:"ngModel",scope:{nvFieldsMatch:"@"},link:function(e,t,n,r){r.$validators.fieldsMatch=function(t){return t===e.nvFieldsMatch},n.$observe("nvFieldsMatch",function(e){r.$validate()})}}}]);t.nvFieldsMatch=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvInputAutofocus=void 0;var o=n(1),i=n(4),a=r(i),s=o.ngMainCommonModule.directive("nvInputAutofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n,r){var o=n.find("input").eq(0);a.isEmpty(o)||e(function(){o.focus()})}}}]);t.nvInputAutofocus=s},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvKeyAction=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvKeyAction",[function(){return{restrict:"A",link:function(e,t,n){t.bind("keyup",function(t){var r=t.which||t.keyCode;r==n.nvKeyCode&&e.$apply(function(){e.$eval(n.nvKeyAction,{$event:t})})})}}}]);t.nvKeyAction=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.keyboardService=void 0;var o=n(684),i=r(o),a=n(1),s=a.ngMainCommonModule.service("keyboardService",["$log",function(e){function t(e){return e in o?(r.info("key and value: ",e,o[e]),o[e]):(r.info("else string fromCharCode:",String.fromCharCode(e)),String.fromCharCode(e))}var n=this,r=e.getInstance("main.common/keyboardService"),o={0:"None",8:"Backsp",9:"Tab",16:"Shift",17:"Ctrl",18:"Alt",12:"Clear",13:"Enter",19:"Pause",20:"Caps",27:"Esc",32:"Space",33:"PgUp",34:"PgDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",41:"Select",42:"Print",43:"Exec",44:"PrtScn",45:"Insert",46:"Delete",47:"Help",91:"Win",92:"Win",93:"Apps",95:"Sleep",96:"Num0",97:"Num1",98:"Num2",99:"Num3",100:"Num4",101:"Num5",102:"Num6",103:"Num7",104:"Num8",105:"Num9",106:"Num*",107:"Num+",108:"Separ",109:"Num-",110:"Num.",111:"Num/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLck",145:"ScrLck",160:"Shift",161:"Shift",162:"Ctrl",163:"Ctrl",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};i.default&&(0,i.default)(o),n.shortcutToStr=function(e){for(var n="",o=0;o<e.length;o++)r.info("char: ",e[o]),n+=t(e[o]),o<e.length-1&&(n+="+");return n}}]);t.keyboardService=s},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvNewsItem=t.nvNews=void 0;var o=n(1),i=n(554),a=r(i),s=n(553),l=r(s);n(254),n(21);var c=o.ngMainCommonModule.directive("nvNews",function(){return{restrict:"E",transclude:!0,scope:{nvShortName:"@",nvNewsSource:"@"},template:a.default,controller:"NewsController",controllerAs:"news"}}),u=o.ngMainCommonModule.directive("nvNewsItem",function(){return{restrict:"E",scope:{nvNews:"="},template:l.default}});t.nvNews=c,t.nvNewsItem=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvTelemetry=void 0;var o=n(4),i=r(o),a=n(1);n(15);var s=a.ngMainCommonModule.directive("nvTelemetry",["telemetryService",function(e){return{restrict:"A",priority:1,link:function(t,n,r,o,a){function s(t){if(!t.defaultPrevented){var r=!0;if("nv-inline-dropdown"===c&&n[0].attributes.class.nodeValue.indexOf("open")===-1&&(r=!1,t.preventDefault()),"nv-accordion-pane"===c){if("a"===t.target.tagName.toLowerCase())return;n[0].attributes.class.nodeValue.indexOf("collapsed")!==-1&&(r=!1,t.preventDefault())}r&&(e.push(d.tarconID,d.url,d.eventMetaData),"a"!==c&&t.preventDefault())}}function l(){f(),n.off("click",s),n.remove(),n=null}var c=n[0].tagName.toLowerCase(),u=i.propertyOf(r)("nvTelemetry"),d=u&&"string"==typeof u&&JSON.parse(u),f=r.$observe("nvTelemetry",function(e){d=JSON.parse(e)});n.on("click",s),t.$on("$destroy",l)}}}]);!function(e){angular.forEach(e,function(e){a.ngMainCommonModule.directive(e,["telemetryService",function(e){return{restrict:"E",link:function(e,t,n,r,o){if(!n.hasOwnProperty("nvTelemetry")){var i={};angular.forEach(n,function(e,t){"string"==typeof e&&(i[t]=e)})}}}}])})}(["a","button","img"]),t.nvTelemetry=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvValidDisplayName=void 0;var r=n(1);n(7);var o=r.ngMainCommonModule.directive("nvValidDisplayName",["$q","jarvisService",function(e,t){return{restrict:"A",require:"ngModel",link:function(n,r,o,i){i.$asyncValidators.notAvailable=function(n){var r=e.defer();return t.displayNameExists(n).then(function(e){r.reject()},function(e){r.resolve()}),r.promise}}}}]);t.nvValidDisplayName=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.windowSpawnService=void 0;var o=n(4),i=r(o),a=n(1);n(14);var s=a.ngMainCommonModule.service("windowSpawnService",["$log","$window","$document","cefService","$interval","eventAggregator","COMMON_EVENTS",function(e,t,n,r,o,a,s){function l(e){p&&!p.closed?(e.preventDefault(),p.focus(),r.windowFocus(p.name)):c()}function c(){o.cancel(h),t.removeEventListener("click",l),t.removeEventListener("keydown",l),v.remove(),p&&(p.close(),p=null),a.trigger(s.CHILD_WINDOW_CLOSED)}function u(){v=angular.element('<div class="common-content-blocker-overlay"></div>'),n.find("body").eq(0).append(v),t.addEventListener("click",l),t.addEventListener("keydown",l),h=o(function(){p&&!p.closed||c()},100)}function d(e,n,r,o,a){return p=t.open(e,r||"app_childWindow",n),i.isNull(p)?y.error("unable to open child window with url ",e,"and params",n):(p.sharedData=o,y.debug("Child window opened with url: ",e),a&&u()),p}function f(e,n,r,o,a){return r=r?"borderless_app_"+r:"borderless_app_childWindow",p=t.open(e,r,n),i.isNull(p)?y.error("unable to open borderless popup with url ",e,"and params",n):(p.sharedData=o,y.debug("Borderless popup opened with url: ",e),a&&u()),p}function m(e,n){var r=t.open(e,"_blank",n);return y.debug("New browser window should have opened with url: ",e),r}var g=this,p=null,v=null,h=null,y=e.getInstance("main.common/windowSpawnService");g.openChildWindow=d,g.openDefaultBrowser=m,g.openBorderlessPopup=f}]);t.windowSpawnService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryService=void 0;var r=n(17);n(30);var o=r.ngGalleryModule.service("galleryService",["tbdService",function(e){var t=this;t.getGalleryItems=e.getGalleryItems,t.getGalleryShowcaseItems=e.getGalleryShowcaseItems,t.listVideos=e.listVideos}]);t.galleryService=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMediaPreviewToolbar=void 0;var o=n(17),i=n(593),a=r(i),s=o.ngGalleryModule.directive("nvMediaPreviewToolbar",[function(){return{restrict:"E",template:a.default}}]);t.nvMediaPreviewToolbar=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameDetails=void 0;var o=n(11);n(230),n(120),n(121),n(344),n(340),n(330),n(168),n(253),n(61);var i=n(598),a=r(i);n(331);var s=o.ngGamesModule.directive("nvGameDetails",function(){return{restrict:"E",scope:{nvSelectedGameId:"=",nvClassicViewEnabled:"@"},template:a.default,controller:"GameDetailsController",controllerAs:"gameDetails",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvGameDetails=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.gameListController=void 0;var o=n(4),i=r(o),a=n(11);n(32),n(12),n(62),n(15),n(20),n(97);n(5);n(7);var s=a.ngGamesModule.controller("GameListController",["$scope","eventAggregator","GAME_EVENTS","gamesService","$filter","$log","userGamesService","$window","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","jarvisService","COMMON_GAME_EVENTS","GAME_SCAN_STATE","dbCacheService","DB_NAMES","toastService","$timeout","localeService","oobeGamesService","OOBE_SCAN_STATE","COMMON_DYNAMIC_REDIRECT",function(e,t,n,r,o,a,s,l,c,u,d,f,m,g,p,v,h,y,b,S,E){function _(e){de.selectedGame=i.findWhere(e,{id:de.selectedGameId})}function A(){v.showProgress({textContent:o("translate")("l10n.scanning")}),ee()}function w(){fe?de.scanText="l10n.scanning":de.scanText="l10n.scanForGames"}function I(e){ye.info("setting scan in progress",e),fe=e,w()}function C(){var e=r.getUiScanState();ye.info("games service scan in progress ",e),e===m.UI_SCAN?(A(),I(!0)):w()}function x(){v.showProgress({textContent:o("translate")("l10n.optimizing")}),oe()}function T(){me?de.optimizeText="l10n.optimizing":de.optimizeText="l10n.optimizeAllGames"}function O(e){ye.info("setting optimize in progress",e),me=e,T()}function M(){var e=r.isOptimizeInProgress();ye.info("games service optimize in progress ",e),e?(x(),O(!0)):T()}function D(){if(de.listLimitTo<de.filteredGameList.length&&!he){var e=100;he=h(function(){de.listLimitTo=de.filteredGameList.length,he=null},e)}else de.listLimitTo>de.filteredGameList.length&&(de.listLimitTo=de.filteredGameList.length)}function N(){i.size(de.filteredGameList)>0&&(_(de.filteredGameList),de.selectedGame||(de.selectedGameId=de.filteredGameList[0].id,t.trigger(f.SELECTED_GAME_CHANGED,de.selectedGameId)))}function R(){i.size(de.gameList)>0&&(de.filteredGameList=de.gameList,de.filteredGameList=o("filter")(de.filteredGameList,de.filter),de.filteredGameList=o("filter")(de.filteredGameList,r.filterOptimized(se)),de.filteredGameList=o("orderBy")(de.filteredGameList,de.sort)),N(),D()}function P(){var e=s.getUserGames();ye.debug("refresh Games",e.length),de.gameList=i.map(e,function(e){var t=r.getSystemGame(e.gameId),n={};return i.extend(n,e),i.isUndefined(t)?ye.error("systemGame undefined"):n.systemGame=t,n}),de.gameList=i.filter(de.gameList,function(e){if(e.systemGame)return e}),ye.info("After filtering gameList for defined systemGames, count is:",de.gameList.length),R()}function k(e){if(de.gameList){ye.debug("refreshGameState",e.shortName);var t=i.filter(de.gameList,function(t){return t.systemGame.id===e.id});t&&1===t.length?(t[0].systemGame=e,R()):ye.error("refreshGameState - system game not found")}else ye.error("refreshGameState - game list undefined")}function L(){de.filter={},angular.forEach(se.gamesFilters,function(e,t){"favorite"===t&&e===!0?de.filter.favorite=!0:"hidden"===t&&(de.filter.hidden=e)}),R()}function G(){de.sort="","descending"===se.gamesSortOrder&&(de.sort="-"),"playtime"===se.gamesSortType?de.sort+="playedTime":"recent"===se.gamesSortType?de.sort+="lastLaunchDate":de.sort+="systemGame.displayName",R()}function F(e){if(de.gameList){ye.debug("refreshUserGame",e.id);var t=i.findIndex(de.gameList,function(t){return t.id===e.id});if(t!==-1){var n=de.gameList[t].systemGame;de.gameList[t]=e,de.gameList[t].systemGame=n,R()}else ye.error("refreshUserGame - user game not found")}else ye.error("refreshUserGame - game list undefined");N()}function U(){return i.size(i.filter(de.gameList,function(e){return e.systemGame&&e.systemGame.isACorDCoptimized()}))<=0}function V(){return!r.hasNoGame(de.gameList)&&de.matchFilter("optimized")&&U()}function z(){return i.size(i.filter(de.gameList,{favorite:!0}))<=0}function B(){return!r.hasNoGame(de.gameList)&&de.matchFilter("favorite")&&z()}function $(){return!r.hasNoGame(de.gameList)&&!B()&&!V()&&r.hasHiddenGame(de.gameList,de.filter,se)}function H(){return i.size(i.filter(de.gameList,{hidden:!0}))<=0}function W(){return!r.hasNoGame(de.gameList)&&de.matchFilter("hidden")&&H()}function j(){de.isGameOpsSupported=r.getGameOpsSupported(),ye.info("opsfeaturestatus on init ",de.isGameOpsSupported)}function q(e){de.selectedGameId=e,_(de.gameList)}function Y(){L(),G(),P()}function K(e){ye.info("opsfeaturestatus update",e),de.isGameOpsSupported=e}function Z(){ye.info("initialized received"),b.getScanState()===S.SCANNING?ve===!1&&!function(){var e=function e(){ye.info("setting initialized to true, on scan complete"),pe=!0,t.off(n.SCAN_FINISHED,e),t.off(n.SCAN_FAILED,e)};ye.info("oobe scan in progress, initialized to remain false"),t.on(n.SCAN_FINISHED,e),t.on(n.SCAN_FAILED,e),ve=!0}():pe=!0,P()}function X(){de.topIndex=le?ce.classicViewTopIndex:ce.topIndex,ue=e.$watch("games.topIndex",function(){le?ce.classicViewTopIndex=de.topIndex:ce.topIndex=de.topIndex,ce.persist_(),t.trigger(f.GAME_LIST_TOP_INDEX_CHANGED,{topIndex:de.topIndex,gamesCount:de.filteredGameList.length})})}function J(){ye.info("initialize"),t.on(n.USERGAMES_UPDATED,Z),t.on(n.USERGAME_UPDATED,F),t.on(n.GAMESTATE_UPDATED,k),t.on(n.GAMESTATE_INITIALIZED,R),t.on(f.SELECTED_GAME_CHANGED,q),t.on(n.OPSFEATURE_UPDATED,K),j(),C(),fe?O(!1):M(),se=g.getCachedUserItem(ge.userId,p.JARVIS_GFE_STORE,p.JARVIS_VIEW_STATE),ce=g.getCachedUserItem(ge.userId,p.VIEW_STORE,p.VIEW_STATE),le=se.classicViewEnabled,X(),se.observe_(Y)}function Q(){t.off(n.USERGAMES_UPDATED,Z),t.off(n.USERGAME_UPDATED,F),t.off(n.GAMESTATE_UPDATED,k),t.off(n.GAMESTATE_INITIALIZED,R),t.off(f.SELECTED_GAME_CHANGED,q),t.off(n.OPSFEATURE_UPDATED,K),te(),ie(),he&&(h.cancel(he),he=null),se.unobserve_(Y),ue()}var ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de=this,fe=!1,me=!1,ge=d.getLoggedInUser(),pe=s.getInitializedOnce(),ve=!1;de.selectedGame=null,de.gameList=null,de.filteredGameList=[],de.filter={},de.sort="",de.selectedGameId=e.nvSelectedGameId,de.devFeatures=g.getCachedGlobalItem(p.DEV_STORE,p.DEV_FEATURES),de.listLimitTo=10;var he=null;de.topIndex=0;var ye=a.getInstance("main.games/GameListController");ye.info("GameListController created"),de.changeView=function(e){t.trigger(f.GAME_VIEW_CHANGED,e)},de.setSelectedGameId=function(e){de.selectedGameId!==e&&(de.selectedGameId=e,t.trigger(f.SELECTED_GAME_CHANGED,e))},de.isSelected=function(e){return de.selectedGameId===e},de.setSort=function(e,t){se.gamesSortType=e,se.gamesSortOrder=t?"descending":"ascending",se.persist_(),G()},de.matchSort=function(e){return se.gamesSortType===e},de.setFilter=function(e){se.gamesFilters={all:!1,optimized:!1,favorite:!1,hidden:!1},se.gamesFilters[e]=!0,se.persist_(),L()},de.setFallbackFilter=function(){var e=$()&&!W()?"hidden":"all";de.setFilter(e)},de.matchFilter=function(e){var t=!1;return t="optimized"===e?se.gamesFilters&&se.gamesFilters.optimized:se.gamesFilters&&se.gamesFilters[e]},de.findAWayToPlay=function(){de.findPlayUrl=E.BASE_URL+y.getCurrentLocaleWithUnderscore()+"&page="+E.SUPPORTED_GAMES,ye.info("SupportedGames redirects to url:: "+de.findPlayUrl),l.open(de.findPlayUrl)},de.getGamesCount=function(){var e=0;return de.gameList&&(e=de.gameList.length),e},de.getOptimizedGamesCount=function(){return i.size(i.filter(de.gameList,function(e){return e.systemGame&&e.systemGame.isACorDCoptimized()}))},de.getFavoriteGamesCount=function(){return i.size(i.filter(de.gameList,{favorite:!0}))},de.getHiddenGamesCount=function(){return i.size(i.filter(de.gameList,{hidden:!0}))},de.scanGames=function(){ye.info("scan local games"),A(),c.startLoad(u.HOME_SCANTIME_GAMES),r.scanLocalGames(!1),I(!0)},de.scanGamesProgressText=function(e){var t="l10n.scanGamesProgress";return 0===e?t="l10n.noGamesFound":1===e&&(t="l10n.scanGameProgress"),t},ee=function(){ye.debug("registering game scan events"),t.on(n.SCAN_FINISHED,ne),t.on(n.SCAN_FAILED,re)},te=function(){ye.debug("unregistering game scan events"),I(!1),t.off(n.SCAN_FINISHED,ne),t.off(n.SCAN_FAILED,re)},ne=function(){c.endLoad(u.HOME_SCANTIME_GAMES);var e=i.size(de.gameList),t={textContent:o("translate")(de.scanGamesProgressText(e),{numGamesScanned:e})};r.hasNoGame(de.gameList)||r.allGamesOptimized(de.gameList)||r.hasHiddenGame(de.gameList,de.filter,se)?v.show(t):(ye.info("game optimization required"),r.isAutoOptimizeEnabled().then(function(e){e||angular.extend(t,{button:{text:o("translate")("l10n.optimize"),action:de.optimizeGamesFromScan}})}).finally(function(){v.show(t)})),te()},re=function(){te(),v.showError({textContent:o("translate")("l10n.scanningFailed")})},de.optimizeGamesFromScan=function(){ye.info("optimize local games after scan"),de.optimizeGames()},de.optimizeGames=function(){ye.info("optimize local games"),x(),c.startLoad(u.HOME_OPTIMIZETIME_GAMES),r.optimizeLocalGames(),O(!0)},oe=function(){ye.debug("registering game optimize events"),t.on(n.OPTIMIZE_GAMES_UPDATE,ae)},ie=function(){ye.debug("unregistering game optimize events"),O(!1),t.off(n.OPTIMIZE_GAMES_UPDATE,ae)},ae=function(e){c.endLoad(u.HOME_OPTIMIZETIME_GAMES),ie(),v.show({textContent:o("translate")("l10n.optimizeFinished")})},de.fallbackButtonText=function(){return $()&&!W()?"l10n.viewHiddenGames":"l10n.viewAllGames"},de.showNoGameFallbackMessage=function(){return pe&&r.hasNoGame(de.gameList)},de.gameListReady=function(){return!(r.hasNoGame(de.gameList)||B()||$()||V())},de.showFallbackMessage=function(){return V()||B()||$()},de.fallbackMessage=function(){return V()?"l10n.gamesAreNotOptimized":B()?"l10n.noFavoriteGames":W()?"l10n.noHiddenGames":"l10n.gamesAreHidden"},de.fallbackImage=function(){return V()?"remove_circle":B()?"star_border":W()?"visibility_off":void 0},de.buttonDisabled=function(e){switch(e){case"all":return r.hasNoGame(de.gameList)||de.getGamesCount()<=0;case"favorite":return r.hasNoGame(de.gameList)||B()||z()||de.getGamesCount()<=0;case"optimized":return r.hasNoGame(de.gameList)||V()||U()||de.getGamesCount()<=0;case"optimizeAll":return r.hasNoGame(de.gameList)||r.allGamesOptimized(de.gameList)||r.hasHiddenGame(de.gameList,de.filter,se)||fe||me;case"sort":return r.hasNoGame(de.gameList)||B()||V()||r.hasHiddenGame(de.gameList,de.filter,se);case"scanGames":return fe||me;case"hiddenGamesVisible":return r.hasNoGame(de.gameList);case"hidden":return r.hasNoGame(de.gameList)||W()||H();default:return!1}},de.isGameSelected=function(e){var t=!1;return e&&e.id?t=de.selectedGameId===e.id:ye.info("Game is undefined."),t},de.toggleFavorite=function(e){de.selectedGame?(de.selectedGame.favorite=!de.selectedGame.favorite,s.updateFavoriteHiddenState(de.selectedGameId,de.selectedGame.favorite,de.selectedGame.hidden)):ye.error("toggle favorite recieved for unselected game"),e.stopPropagation()},de.toggleVisibility=function(e){de.selectedGame?(de.selectedGame.hidden=!de.selectedGame.hidden,s.updateFavoriteHiddenState(de.selectedGameId,de.selectedGame.favorite,de.selectedGame.hidden)):ye.error("toggle visible recieved for unselected game"),N(),e.stopPropagation()},e.$on("$destroy",Q),J()}]);t.gameListController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameStore=void 0;var o=n(18);n(351);var i=n(610),a=r(i);n(349);var s=o.ngGfnModule.directive("nvGameStore",function(){return{restrict:"E",scope:{nvGameType:"@"},template:a.default,controller:"GameStoreController",controllerAs:"games"}});t.nvGameStore=s},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),
t.oobeTelemetryService=void 0;var o=n(5),i=n(4),a=r(i),s=o.ngOobeModule.factory("oobeTelemetryService",["telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","TELEMETRY_STATUS","TELEMETRY_OOBE_LAUNCH_STATE","TELEMETRY_GFE_SESSION_STATE",function(e,t,n,r,o,i){function s(e){return(a.isUndefined(e)||a.isNull(e))&&(e=""),e=e.toString()}function l(e){return e=s(e),a.has(r,e)&&(e=r[e]),e}var c,u={},d=null,f={};return u.updateScreen=function(t){e.setScreen(n[t])},u.recordAction=function(n){if(c===i.OOBE){var r=t[n];e.push(t[n],{currentScreen:e.getScreen(),action:r.enumId})}},u.startActionAsync=function(n){var r=t[n];f[n]={currentScreen:e.getScreen()},e.startLoad(r)},u.endActionAsync=function(n,r,o){var i,u=a.propertyOf(f)(n),d=t[n];u&&("APP_EXIT"===r&&(i={appExit:!0}),e.endLoad(d,{action:d.enumId,gfeSessionState:c,currentScreen:u.currentScreen,status:l(r),errorDetails:s(o)},i),delete f[n])},u.startFlow=function(n){n?(c=i.OOBE,d=o[n],e.startLoad(t.OOBE_START_EXIT_SEQUENCE)):(d=null,c=i.NON_OOBE)},u.updateFlow=function(e){d&&(d=o[e])},u.endFlow=function(n){var r;n&&("APP_EXIT"===n&&(r={appExit:!0}),d&&e.endLoad(t.OOBE_START_EXIT_SEQUENCE,{oobeLaunchState:d,oobeExitScreen:e.getScreen(),status:l(n)},r),a.each(f,function(e,t){u.endActionAsync(t,n)}))},u.changeSetting=function(n,r){e.changeSetting(t[n],r)},u.changeSettingFail=function(n,r,o){e.changeSettingFail(t[n],r,o)},u}]);t.oobeTelemetryService=s},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdateDownloadProgress=void 0;var o=n(6),i=n(671),a=r(i),s=o.ngUpdatesModule.directive("nvUpdateDownloadProgress",function(){return{restrict:"E",scope:{nvMessage:"@",nvValue:"@"},template:a.default,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdateDownloadProgress=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDriverItem=void 0;var o=n(6),i=n(681),a=r(i),s=o.ngUpdatesModule.directive("nvDriverItem",function(){return{restrict:"E",scope:{nvDriver:"=",nvMdIcon:"@"},template:a.default,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvDriverItem=s},function(e,t,n){e.exports=n.p+"scancomplete_left_pane.png"},function(e,t,n){e.exports=n.p+"bckgnd.jpg"},function(e,t){e.exports='<md-dialog layout=column class=crimson-dialog ng-class=vm.style> <waiting-overlay flex layout-fill layout layout-align="center center" ng-if=vm.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=70></md-progress-circular> </waiting-overlay> <div class=dialog-service-dialog-contents-close-button> <md-button class="md-icon-button dialog-service-dialog-contents-close-button" ng-click=vm.closeDialog()> <md-icon md-font-set=material-icons>close</md-icon> </md-button> <h1 class=dialog-service-dialog-contents-title translate={{vm.title}} translate-values={{vm.translateValues}}></h1> </div> <h2 translate={{vm.subTitle}} ng-if=vm.subTitle translate-value={{vm.translateValues}} class=dialog-service-dialog-contents-sub-title></h2> <div ng-if=vm.error layout=column layout-align="center center" flex layout-fill> <i class="material-icons font-size-xxxl">info</i> <p class="color-dark-gray common-nv-no-content-fallback-tip" translate=l10n.noInformationAvailable></p> </div> <md-dialog-content ng-if=!vm.error> <span class="md-primary md-hue-2" ng-bind-html=vm.content></span> </md-dialog-content> </md-dialog> '},function(e,t){e.exports='<form name=nvCouponValidation autocomplete=off novalidate class=coupon-validation-container layout=row layout-align="center start" ng-submit=couponInput.redeemCoupon($event)> <div layout=column> <input class="coupon-code-input color-white-hue-1 font-uppercase padding-zero padding-left-16 font-size-xxs bg-dark-vh-hue-2 font-family-roboto-light" type=text placeholder={{couponInput.nvInputPlaceholder}} name=coupon ng-model=couponInput.couponCode ng-change=couponInput.validateCoupon() spellcheck=false ng-trim=false /> <p ng-show=couponInput.codeInvalid translate={{couponInput.nvErrorMessage}} class="coupon-input-error-message margin-zero color-red-hue-1 line-height-sm1"></p> </div> <md-button class="md-raised md-accent margin-zero margin-left-16" type=submit ng-disabled=couponInput.actionButtonDisabled> <span translate={{couponInput.nvButton.text}} class=color-white-important></span> </md-button> </form> '},,,,,,,,,,,,,,,,,function(e,t,n){function r(e){return n(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./gold.svg":501,"./gray.svg":502};r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=216},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.appService=void 0;var o=n(686),i=r(o),a=n(96);n(14),n(64),n(41),n(15),n(7),n(19),n(98),n(25),n(220);var s=n(616),l=r(s),c=a.ngMainModule.service("appService",["$log","$window","$translate","$translatePartialLoader","$state","$rootScope","$interpolate","eventAggregator","gfeService","cefService","gfwslEndpoints","gfservicesEndpoints","oobeDialogService","nodeService","gfeUpdatesService","updatesService","socketService","annotoriousService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","jarvisService","dbService","dbCacheService","DB_NAMES","GFECLIENT_CONFIG","GFECLIENT_BUILD_INFO","COMMON_EVENTS","COMMON_EVENTS_VALUE","COMMON_DEFAULT_STATES","ANNOTATION_PROPERTIES","GAME_EVENTS","rewardsService","hardwareService","COMMON_ERRORS","oobeOptionsService","preferencesService","abService",function(e,t,n,r,o,a,s,c,u,d,f,m,g,p,v,h,y,b,S,E,_,A,w,I,C,x,T,O,M,D,N,R,P,k,L,G,F){function U(e,t,n,r,o){return Z.debug("$stateChangeStart from state:",r.name," to state:",t.name),""!==r.name&&t.name.indexOf("main.auth")>=0&&!_.hasSession()?(Z.error("$stateChangeStart: No valid session"),void e.preventDefault()):r.name===t.name?void e.preventDefault():(r.nvEventNames&&S.endView(r.nvEventNames.viewTime),void(t.nvEventNames&&S.startLoad(t.nvEventNames.loadTime)))}function V(e,t,n,r,o){if(Z.debug("$stateChangeSuccess from state:",r.name," to state:",t.name),"main.auth"===t.name.slice(0,9)&&"main.auth.preferences"!==t.name&&t.name.indexOf(X)===-1){X=t.name;var i=_.getLoggedInUser(),a=w.getCachedUserItem(i.userId,I.VIEW_STORE,I.VIEW_STATE);a.lastRouterToState=X,a.lastRouterToStateParams=n,a.lastRouterFromState=r.name,a.lastRouterFromStateParams=o,X.indexOf("main.auth.preferences")>-1&&(a.lastPreferencesRouterState=X),a.persist_()}t.nvEventNames&&(S.endLoad(t.nvEventNames.loadTime),S.startView(t.nvEventNames.viewTime))}function z(e,t,n,r,o,i){Z.info("$stateChangeError from state:",r.name," to state:",t.name),e.preventDefault(),i!==k.NODE_START_FAILED&&u.logout("sessionExpired"===i)}function B(e){H(e)}function $(e){var t=e;return"en-us"!==e.toLowerCase()&&(t+=", en-us"),t}function H(e){var t={userAgent:C.userAgent+"/"+u.version};e?n(["l10n.pageCouldNotBeLoaded","l10n.retry"]).then(function(n){t.onLoadError=s(l.default)({errorMessage:n["l10n.pageCouldNotBeLoaded"],retry:n["l10n.retry"]}),t.acceptLanguage=$(e.code),d.loadStringTable(t)},function(e){Z.error("Failed to load CEF string table")}):d.loadStringTable(t)}function W(){t.addEventListener("focus",function(){Z.info("Trigger window focus"),c.trigger(T.WINDOW_FOCUS)}),t.addEventListener("resize",t._.debounce(function(){Z.debug("Trigger window resize"),c.trigger(T.WINDOW_RESIZE)},O.RESIZE_DEBOUNCE_TIME)),t.addEventListener("online",function(){Z.info("Transition to online mode"),u.setOnline(!0),c.trigger(T.ONLINE)}),t.addEventListener("offline",function(){Z.info("Transition to offline mode"),u.setOnline(!1),c.trigger(T.OFFLINE)}),t.addEventListener("unload",function(){Z.debug("Trigger unload"),S.changeSync(!0),g.close("APP_EXIT"),S.endView(E.GFE_EXIT_UI,null,{appExit:!0}),y.disconnect()}),c.on(T.LOCALE_CHANGED,B),a.$on("$stateChangeStart",U),a.$on("$stateChangeSuccess",V),a.$on("$stateChangeError",z)}function j(){var e,t=(0,i.default)(a);e={go:o.go.bind(o)},o.includes&&(e.includes=o.includes.bind(o)),t.$state=e}function q(){b.setProperties(D),b.addHandler("onPopupShown",function(e){e.nvSettingName&&c.trigger(N.VOPS_POPUP_SHOWN,{name:e.nvSettingName})}),b.addHandler("onMouseOutOfAnnotation",function(){c.trigger(N.VOPS_POPUP_SHOWN,{name:null})})}var Y=this,K=!1,Z=e.getInstance("main/appService"),X=M.HOME_STATE;Y.main=function(){Z.info("Init"),Z.info("GFE Build Info:",x),t.name=C.windowName,a.telemetryEventNames=E,S.setEventsCommonData({clientVersion:u.version}),u.setOnline(t.navigator.onLine),H(),W(),A.getGlobalStore(I.GLOBAL_STORE),r.addPart("l10n/main"),r.addPart("l10n/games"),r.addPart("l10n/gallery"),r.addPart("l10n/friends"),r.addPart("l10n/share"),r.addPart("l10n/updates"),r.addPart("l10n/oobe"),r.addPart("l10n/gfn"),r.addPart("l10n/settings"),r.addPart("l10n/notifications"),r.addPart("l10n/rewards"),r.addPart("l10n/preferences"),j(),q(),K=!0},Y.initializeUI=function(e,t,n,r){Z.info("Init UI"),S.changeSync(!1),S.handleLaunchTimeTelemetry(),S.setGfeInitializeStartTime(),P.initialize(),S.startView(E.GFE_EXIT_UI),S.push(E.GFE_LAUNCH_UI),d.setWindowStyle(n),p.initialize(),y.connect(),R.initialize(),F.initialize(),f.initialize(u.version,e,t,r),m.initialize(e,t),v.initialize(),h.initialize(),Z.info("checkForUpdates Requested"),h.checkForUpdates(),L.initialize(),G.getNodeAddons(),G.getFeatures()}}]);t.appService=c},function(e,t,n){"use strict";n(219),n(14),n(12),n(7),n(247),n(383),n(463),n(95),n(41),n(32),n(15),n(62),n(25),n(24),n(164),n(239),n(255),n(390);var r=n(96);n(278),n(272),n(301),n(174),n(346),n(353),n(313),n(469),n(420),n(435),n(418),n(426),n(444),n(236),n(457),n(238),r.ngMainModule.config(["$stateProvider","$urlRouterProvider","TELEMETRY_CRIMSON_EVENT_NAMES","$httpProvider",function(e,t,n,r){t.otherwise("/auth/home/games-and-friends"),r.interceptors.unshift("httpLoggingService"),e.state("main",{url:"",template:'<nv-main flex layout="column"></nv-main>',abstract:!0,resolve:{localNodeInfo:["$log","$q","cefService","localSdk","nvAccountEndpoints",function(e,t,n,r,o){var i=e.getInstance("/main/uiRouter/main/resolve/localNodeInfo");return i.info("Requested"),n.localNodeInfo().then(function(e){i.info("local nodeinfo Resolved");var t=JSON.parse(e);return r.updateNodeInfo(t),o.updateNodeInfo(t),t}).catch(function(){return i.info("local nodeinfo Rejected"),{}})}],isWindowBorderless:["$log","$q","cefService",function(e,t,n){var r=e.getInstance("/main/uiRouter/main/resolve/isWindowBorderless");return r.info("Requested"),n.isBorderless().then(function(e){return r.info("Resolved"),e}).catch(function(){return r.info("Rejected"),!1})}],hardwareInfo:["$log","$q","localNodeInfo","hardwareService","telemetryService","localeService","dbService","DB_NAMES","TELEMETRY_ERROR_MESSAGE",function(e,t,r,o,i,a,s,l,c){var u=e.getInstance("/main/uiRouter/main/resolve/hardwareInfo"),d=c.SERVICE_RESOLVED_WITHOUT_DEVICE_ID;u.info("Requested");var f=s.getGlobalStore(l.GLOBAL_STORE);return o.getSystemInfo().then(function(e){u.info("Resolved"),e.TelemetryDeviceId||i.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:d}),i.setEventsCommonData({deviceId:e.TelemetryDeviceId}),a.setSystemLocale(e.UserDefaultUILanguage);var t={deviceId:e.TelemetryDeviceId};return f.setItem(l.SYSTEM_INFO,t),e}).catch(function(){return u.info("Rejected"),d=c.SERVICE_REJECTED_GLOBAL_STORE_WITHOUT_DEVICE_ID,f.getItem(l.SYSTEM_INFO).then(function(e){e&&e.deviceId?i.setEventsCommonData({deviceId:e.deviceId}):i.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:d})},function(){d=c.SERVICE_REJECTED_GLOBAL_STORE_REJECTED,i.push(n.DEVICE_ID_IS_UNDEFINED,{errorMessage:d})}).catch(function(e){u.info("Error in processing error getItem",e)}),{}})}],language:["$log","$q","localeService","localNodeInfo","hardwareInfo","nodeService","COMMON_ERRORS",function(e,t,n,r,o,i,a){var s=e.getInstance("/main/uiRouter/main/resolve/language");s.info("Requested");var l=t.defer();return n.setApplicationLocale().then(function(e){return s.info("language Resolved"),r.active===!1?(s.error("node start fails"),i.showErrorMessage(),l.reject(a.NODE_START_FAILED)):l.resolve(e)}).catch(function(){return s.info("language Rejected"),l.reject()}),l.promise}],geoLocationInfo:["$log","$q","hardwareInfo","dbService","DB_NAMES","gfwslGeoLocationEndpoints","language","telemetryService",function(e,t,n,r,o,i,a,s){var l=e.getInstance("/main/uiRouter/main/resolve/geoLocation");l.info("Requested");var c=r.getGlobalStore(o.GLOBAL_STORE),u={gfwslParams:{cUid:s.sessionId}};return n&&n.deviceId&&(u.gfwslParams.cUId=n.deviceId),i.getGeoLocation(u).then(function(e){if(l.info("Resolved"),!e.data)return l.error("failed to receive response data from geo location call"),t.reject();try{if(e.data.html.body.Ip2LocDetails.countryCode&&"-"!=e.data.html.body.Ip2LocDetails.countryCode){var n=e.data.html.body.Ip2LocDetails;return c.setItem(o.GEO_DETAILS,n),l.info("Geo Details :",n),n}return t.reject()}catch(e){return l.error("failed to extract geo location details"),t.reject()}}).catch(function(e){return l.info("Rejected - returning stored info from store or based on locale "),c.getItem(o.GEO_DETAILS).then(function(e){return e?(l.info("Returning geo information from the cache store: ",e),e):(l.error("No geo information found in the cache store"),t.reject())}).catch(function(){var e={countryCode:"US"};return a&&a.code?(l.info("Returning geo information based on locale"),e.countryCode=a.countryCode):l.info("Returning geo information as US"),c.setItem(o.GEO_DETAILS,e),t.resolve(e)})})}]},onEnter:["$log","appService","language","hardwareInfo","isWindowBorderless","geoLocationInfo",function(e,t,n,r,o,i){e.getInstance("/main/uiRouter/main/onEnter");t.initializeUI(n,r,o,i)}]}).state("main.loggedOut",{url:"/logged-out?sessionExpired",abstract:!1,onEnter:["oobeDialogService","$stateParams","jarvisService","telemetryService","GFE_LAUNCH_STATE","localNodeInfo",function(e,t,n,r,o,i){var a="true"===t.sessionExpired;n.logout(),e.launch(a),a?r.handleGfeInitializeTimeTelemetry(o.INVALID_SESSION):r.handleGfeInitializeTimeTelemetry(o.NO_SESSION_TOKEN)}],parent:"main"}).state("main.auth",{url:"/auth",abstract:!0,template:"<div layout flex ui-view></div>",onEnter:["telemetryService","GFE_LAUNCH_STATE","$state","$log","hardwareService","currentUser","syncViewState","oobeDialogService","gfeService","localNodeInfo","dbService","DB_NAMES","previousState",function(e,t,n,r,o,i,a,s,l,c,u,d,f){var m=r.getInstance("main/urlRouter/main.auth/onEnter");e.handleGfeInitializeTimeTelemetry(t.VALID_SESSION),"main.loggedOut"!==f.name&&(l.syncData(i),s.finishOobe(i));var g,p=!1,v=u.getGlobalStore(d.GLOBAL_STORE);v.getItem(d.DRIVER_INSTALL_STATE).then(function(e){g=e,m.debug("found resume driver installation entry",g)}).catch(function(e){m.error("failed to read displayDriverInstallation key in database: ",e)}).finally(function(){g?n.go("main.auth.updates",{updateState:"checkForUpdate",resumeDriverInstallation:g},{location:"replace"}):o.getSystemInfo().then(function(e){!e||e.DriverVersion&&""!==e.DriverVersion||(p=!0)}).catch(function(e){m.error("fail to get driver info")}).finally(function(){p&&(m.info("redirect to driver page"),n.go("main.auth.updates",{updateState:"checkForUpdate"},{location:"replace"}))})})}],resolve:{currentUser:["localNodeInfo","$q","jarvisService","$log","telemetryService",function(e,t,n,r,o){var i=r.getInstance("main/urlRouter/main.auth/resolve");return i.info("main.auth resolved called"),n.hasSession()?n.getLoggedInUser():n.loginFromDatabase().then(function(e){return o.setEventsCommonData({userId:e.user.userId}),e.user.core.primaryEmailVerified?n.startSession(e):t.reject(e)}).catch(function(e){return i.error("exception in loginFromDatabase",e),t.reject(e&&401===e.status?"sessionExpired":null)})}],syncViewState:["currentUser","dbCacheService","DB_NAMES",function(e,t,n){return t.getCachedUserItem(e.userId,n.VIEW_STORE,n.VIEW_STATE).sync_()}],previousState:["$state",function(e){return{name:e.current.name,params:e.params,url:e.href(e.current.name,e.params)}}]},parent:"main"}).state("main.auth.home",{url:"/home",template:'<div id="home" flex layout="column" ui-view></div>',parent:"main.auth"}).state("main.auth.home.gamesAndFriends",{url:"/games-and-friends",template:"<nv-home layout flex></nv-home>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAMES_AND_FRIENDS,loadTime:n.HOME_LOADTIME_GAMES_AND_FRIENDS,viewTime:n.HOME_VIEWTIME_GAMES_AND_FRIENDS}}).state("main.auth.home.gamesAndFriends.friendDetails",{url:"/friends-details/:userId",template:"<nv-friend-details layout flex></nv-friend-details>",parent:"main.auth.home"}).state("main.auth.home.gamesAndFriends.gameDetails",{url:"/game-details/:userGameId",template:"<nv-game-details layout flex></nv-game-details>",parent:"main.auth.home",nvEventNames:{view:n.HOME_VIEW_GAME_INFO,loadTime:n.HOME_LOADTIME_GAME_INFO,viewTime:n.HOME_VIEWTIME_GAME_INFO}}).state("main.auth.gfn",{url:"/gfn/:tabId",template:"<nv-gfn layout flex></nv-gfn>",parent:"main.auth"}).state("main.auth.gfn.genreGames",{url:"/gfn.genreGames/:id",template:"<nv-genre-games layout flex></nv-genre-games>",parent:"main.auth"}).state("main.auth.gallery",{url:"/gallery",template:"<nv-gallery-main layout flex></nv-gallery-main>",parent:"main.auth"}).state("main.auth.gameroom",{url:"/gameroom",template:'<md-content flex class="md-padding">GAMEROOM</md-content>',parent:"main.auth"}).state("main.auth.updates",{url:"/updates",params:{updateState:null,resumeDriverInstallation:null},template:"<nv-updates layout flex></nv-updates>",parent:"main.auth",nvEventNames:{view:n.UPDATES_VIEW_UPDATES,loadTime:n.UPDATES_LOADTIME_UPDATES,viewTime:n.UPDATES_VIEWTIME_UPDATES}}).state("main.auth.preferences",{url:"/preferences",template:"<nv-preferences layout flex></nv-preferences>",parent:"main.auth",nvEventNames:{view:n.PREFERENCES_VIEW_PREFERENCES,loadTime:n.PREFERENCES_LOADTIME_PREFERENCES,viewTime:n.PREFERENCES_VIEWTIME_PREFERENCES},onEnter:["$state","COMMON_DEFAULT_STATES","dbCacheService","DB_NAMES","syncViewState","currentUser","$timeout",function(e,t,n,r,o,i,a){var s=n.getCachedUserItem(i.userId,r.VIEW_STORE,r.VIEW_STATE),l=s.lastPreferencesRouterState||t.PREFERENCES_STATE;a(function(){"main.auth.preferences.accounts"!==e.$current.name&&e.go(l,{},{location:"replace"})})}]}).state("main.auth.preferences.general",{url:"/general",template:"<nv-preferences-general></nv-preferences-general>",parent:"main.auth.preferences"}).state("main.auth.preferences.accounts",{url:"/accounts",template:"<nv-preferences-accounts></nv-preferences-accounts>",parent:"main.auth.preferences"}).state("main.auth.preferences.games",{url:"/games",template:"<nv-preferences-games></nv-preferences-games>",parent:"main.auth.preferences"}).state("main.auth.preferences.shield",{url:"/shield",template:"<nv-preferences-shield></nv-preferences-shield>",parent:"main.auth.preferences"}).state("main.auth.rewards",{url:"/rewards",template:"<nv-rewards-center flex></nv-rewards-center>",parent:"main.auth"})}])},function(e,t,n){"use strict";n(746),n(39),n(53),n(54),n(58),n(56),n(57),n(55),n(38),n(109),n(108),n(59),n(747),n(743),n(52),n(50),n(49),n(729),n(731),n(730),n(51),n(151),n(213),n(734),n(735),n(152),n(736),n(737),n(738),n(739)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.abService=void 0;var o=n(4),i=(r(o),n(1));n(7);var a=i.ngMainCommonModule.service("abService",["$window","$q","$log","jarvisService","eventAggregator","COMMON_EVENTS",function(e,t,n,r,o,i){function a(e){c=e?r.getLoggedInUser():null}var s=this,l=n.getInstance("main.common/ABService"),c=null;s.initialize=function(){o.on(i.LOGIN_STATUS_CHANGE,a),c=r.getLoggedInUser()},s.getVariant=function(n){var r=t.defer();return c?(l.info("Getting variant"),e.adobe.target.getOffer({mbox:"gfe-app-mbox",params:{activityName:n,mbox3rdPartyId:c.userId},success:function(e){e&&e[0].content?r.resolve(e[0].content):r.resolve(e)},error:function(e,t){r.reject("Error: "+e+": "+t)},timeout:5e3})):r.reject("Undefined jarvis user"),r.promise},s.trackEvent=function(n){var r=t.defer();return c?(l.info("Tracking Event"),e.adobe.target.getOffer({mbox:"gfe-app-mbox",params:{objectiveName:n,mbox3rdPartyId:c.userId},success:function(e){r.resolve(e)},error:function(e,t){r.reject("Error: "+e+": "+t)},timeout:5e3})):r.reject("Undefined jarvis user"),r.promise}}]);t.abService=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accordionController=void 0;var r=n(1),o=r.ngMainCommonModule.controller("AccordionController",["$scope","ACCORDION_MODES",function(e,t){var n=this,r=[],o=0;void 0===e.nvAccordionMode&&(e.nvAccordionMode=t.MULTIPLE_OPEN),n.addPane=function(e){return r[o]=e,o++},n.getNumPanes=function(){return r.length},n.removePane=function(e){r=_.without(r,e),o=r.length},n.onClick=function(n){e.nvAccordionMode===t.ONLY_ONE?angular.forEach(r,function(e,t){e.onExpand(t===n&&!r[n].isExpanded())}):e.nvAccordionMode===t.ALWAYS_ONE?angular.forEach(r,function(e,t){e.onExpand(t===n)}):r[n].onExpand(!r[n].isExpanded())}}]);t.accordionController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.affectedGamesListController=void 0;var r=n(1);n(260);var o=r.ngMainCommonModule.controller("AffectedGamesListController",["supportedGamesService","$log","$scope",function(e,t,n){var r=this,o=t.getInstance("main.common/AffectedGamesListController");r.selectedGame="",r.affectedGamesList=[],r.getSupportedGamesList=function(){e.getSupportedGames().then(function(e){e.data.forEach(function(e){e.regularSupported&&r.affectedGamesList.push({displayName:e.displayName,shortName:e.shortName})})},function(e){o.error("Supported games not found!"+e)})},r.getSupportedGamesList(),r.onChange=function(){n.nvSelectedGame=r.selectedGame}}]);t.affectedGamesListController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvAffectedGameList=void 0;var o=n(1),i=n(534),a=r(i);n(222);var s=o.ngMainCommonModule.directive("nvAffectedGameList",[function(){return{restrict:"E",scope:{nvSelectedGame:"="},template:a.default,controller:"AffectedGamesListController",controllerAs:"affectedGameCtrl"}}]);t.nvAffectedGameList=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteFilter=void 0;var r=n(1),o=r.ngMainCommonModule.filter("convertBytesToKBMBGB",["$filter",function(e){var t=e("translate"),n=function(e){var n=1;if(0===e)return t("l10n.byte",{value:0});if(isNaN(parseFloat(e))||!isFinite(e))return"-";var r=["l10n.bytes","l10n.kb","l10n.mb","l10n.gb","l10n.tb"],o=Math.floor(Math.log(e)/Math.log(1024)),i=t(r[o],{value:(e/Math.pow(1024,Math.floor(o))).toFixed(n)});return i};return n}]);t.byteFilter=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.carouselController=void 0;var i=n(4),a=o(i),s=n(1),l=n(740),c=r(l);n(113),n(60);var u=s.ngMainCommonModule.controller("CarouselController",["$scope","mediaDialogService","MEDIA_FILE_TYPE","VIDEO_TYPE","$log","gfeService","toastService","$filter","CAROUSEL_INDICATOR_ART",function(e,t,n,r,o,i,s,l,u){var d=this,f=o.getInstance("main.common/CarouselController");d.selectedIndex=e.nvSelectedIndex,d.slides=e.nvSlides,d.isBanner=e.nvIsBanner,a.each(d.slides,function(e){if(a.isArray(e.settingInfo)&&!a.isEmpty(e.settingInfo)){e.annotation=[];for(var t=0;t<e.settingInfo.length;t++){var r=e.settingInfo[t];if(r.regionRect.width>0&&r.regionRect.height>0){var o=r.vopsSettingEnName?r.vopsSettingEnName.toLowerCase():"";e.annotation[t]={text:(0,c.default)({title:r.name,description:r.textInfo}),geometry:{x:r.regionRect.left,y:r.regionRect.top,width:r.regionRect.width,height:r.regionRect.height},nvSettingName:r.name,nvSettingEnName:o,nvSettingDescription:r.textInfo}}}}else if(!a.isEmpty(e.video)){var i=e.video;e.annotation={type:n.VIDEO,url:i.url,name:i.name}}}),d.centerIndicators=function(){var e=a.size(d.slides);if(e>0){var t=u.WIDTH*e;return{width:t+u.CONTAINER_HORIZONTAL_MARGIN+"px",margin:"auto"}}return null},d.isIndicatorsVisible=function(){return d.slides&&d.slides.length>1},d.isVideoAvailable=function(e){return e.video&&!a.isEmpty(e.video)&&e.video.url&&!a.isEmpty(e.video.url)},d.previewMedia=function(e,n){if(d.isVideoAvailable(n))if(i.onlineState&&i.onlineState.online===!0){var o=n.video.type===r.LOCAL;f.info("video type",n.video.type,"defaultVideoControl",o);var a=t.customPreset().event(e);a=a.video({source:n.video.url,type:n.video.type,defaultVideoControl:o}),t.show(a)}else{var c=l("translate")("l10n.unableToFetchVideo");s.show({textContent:c,icon:"cloud off"})}else f.info("video is not available: ",n)}}]);t.carouselController=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarouselIndicator=void 0;var o=n(1),i=n(535),a=r(i),s=o.ngMainCommonModule.directive("nvCarouselIndicator",function(){return{restrict:"E",template:a.default,scope:{nvIsSelected:"&"},link:function(e,t){function n(){a||t.addClass("md-accent background focused")}function r(){a||t.removeClass("md-accent background focused")}function o(){t.on("mouseenter",n),t.on("mouseleave",r)}function i(){t.off("mouseenter",n),t.off("mouseleave",r),t.remove(),t=null}var a=!1;e.$watch("nvIsSelected()",function(e){a=e,a?t.removeClass("focused").addClass("md-accent background"):t.removeClass("md-accent background")}),e.$on("$destroy",i),t.on("$destroy",function(){e.$destroy()}),o()}}});t.nvCarouselIndicator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.carouselIndicatorsController=void 0;var r=n(1),o=r.ngMainCommonModule.controller("CarouselIndicatorsController",["$scope",function(e){var t=this;t.slides=e.nvSlides,t.isSelected=function(t){return t===e.nvSelectedIndex},t.setIndex=function(t){e.nvSelectedIndex=t}}]);t.carouselIndicatorsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCarouselIndicators=void 0;var i=n(4),a=(o(i),n(1));n(226);var s=n(536),l=r(s);n(227);var c=a.ngMainCommonModule.directive("nvCarouselIndicators",[function(){function e(e,t){e.$on("$destroy",function(){t.empty(),t.remove(),t=null}),t.on("$destroy",function(){e.$destroy()})}return{restrict:"E",scope:{nvSlides:"=",nvSelectedIndex:"="},template:l.default,controller:"CarouselIndicatorsController",controllerAs:"carouselIndicators",link:e}}]);t.nvCarouselIndicators=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCustomDate=void 0;var o=n(214),i=r(o),a=n(1);n(256);var s=n(538),l=r(s),c=a.ngMainCommonModule.directive("nvCustomDate",function(){return{template:l.default,restrict:"E",scope:{titleString:"@",formatString:"@",localeString:"@"},require:"ngModel",controller:["$scope",function(e){var t=e;t.maxYearValue=(0,i.default)().year(),t.minYearValue=1900,t.maxDayValue=31,t.minDayValue=1,t.maxMonthValue=12,t.minMonthValue=1,t.errors={required:!1,pattern:!1,min:!1,max:!1,invalid:!1},t.isDateValid=function(e){return(0,i.default)(e,["YYYY-MM-DD"],!0).isValid()&&(0,i.default)().isAfter(e)},t.newDate=function(e,t,n){var r=e+"-"+t+"-"+n;return(0,i.default)(r,["YYYY-M-D"],!0).format("YYYY-MM-DD")},t.localeString=t.localeString||"en",i.default.locale(t.localeString),t.months=i.default.months().map(function(e,t){var n={};return n.index=t+1,n.value=e,n})}],compile:function(e,t){var n=e.find("md-input-container"),r=angular.element('<label translate="l10n.day"></label> <input ng-model="day" maxlength="2" ng-focus="focus=true" ng-blur="focus=false" numbers-only type = "text" nv-min = {{minDayValue}} nv-max = {{maxDayValue}} name="day" required>'),o=angular.element('<label translate="l10n.year"></label> <input ng-model="year" maxlength="4" ng-focus="focus=true" ng-blur="focus=false" numbers-only type = "text" nv-min = {{minYearValue}} nv-max = {{maxYearValue}} name="year" required ng-pattern = "/^[0-9]{4}$/">'),i=angular.element('<label translate="l10n.month"></label> <md-select ng-model="month" name="month" required><md-option ng-repeat="month in months" ng-focus="focus=true" ng-blur="focus=false" ng-value="month.index">{{ month.value }} </md-option> </md-select>'),a="MM-DD-YY";t.formatString&&t.formatString.length>0&&(a=t.formatString);var s=a.split("-"),l={DD:{ele:r,cls:"is-day-field"},YY:{ele:o,cls:"is-year-field"},MM:{ele:i,cls:"is-month-field"}};return angular.element(n[0]).append(l[s[0]].ele).addClass(l[s[0]].cls),angular.element(n[1]).append(l[s[1]].ele).addClass(l[s[1]].cls),angular.element(n[2]).append(l[s[2]].ele).addClass(l[s[2]].cls),{post:function(e,t,n,r){e.$watch("[month,day,year]",function(){var t=e.newDate(e.year,e.month,e.day);if(e.isDateValid(t))e.nvCtrl.day.$invalid=!1,r.$setViewValue(t);else{e.nvCtrl.month.$invalid||e.nvCtrl.year.$invalid||(e.nvCtrl.day.$invalid=!0);var n=e.year+"-"+e.month+"-"+e.day;r.$setViewValue(n)}e.errors.required=e.nvCtrl.day.$error.required||e.nvCtrl.month.$error.required||e.nvCtrl.year.$error.required,e.errors.invalid=e.nvCtrl.day.$invalid||e.nvCtrl.year.$invalid,e.errors.pattern=e.nvCtrl.year.$error.pattern}),r.$render=function(){if(r.$viewValue){var t=r.$viewValue.split("-");3===t.length&&(e.year=parseInt(t[0]),e.month=parseInt(t[1]),e.day=parseInt(t[2]))}}}}}}});t.nvCustomDate=c},function(e,t,n){"use strict";var r=n(1);r.ngMainCommonModule.value("nvTimeUtility",{calculateDelta:function(e,t){var n;return n=t?new Date(t):new Date,Math.round(Math.abs(n-e)/1e3)},isPast:function(e,t){var n;return n=t?new Date(t):new Date,n>=e},calculate:function(e,t,n,r,o){var i,a=60,s=60*a,l=24*s,c=7*l,u=30*l,d=365*l,f=this.calculateDelta(e,o),m=n(e,"MMMM"),g=n(e,"yyyy"),p=t("l10n.monthYear",{month:m,year:g});switch(!1){case!(f<=1):i=f+" "+t("l10n.second");break;case!(f<a):i=f+" "+t("l10n.seconds");break;case!(f<2*a):i="1 "+t("l10n.minute");break;case!(f<s):i=Math.floor(f/a)+" "+t("l10n.minutes");break;case 1!==Math.floor(f/s):i="1 "+t("l10n.hour");break;case!(f<l):i=Math.floor(f/s)+" "+t("l10n.hours");break;case!(f<2*l):if(r)return t("l10n.yesterday");i="1 "+t("l10n.day");break;case!(f<c):i=Math.floor(f/l)+" "+t("l10n.days");break;case 1!==Math.floor(f/c):i="1 "+t("l10n.week");break;case!(f<u):i=Math.floor(f/c)+" "+t("l10n.weeks");break;case 1!==Math.floor(f/u):i="1 "+t("l10n.month");break;case!(f<d):if(r)return p;i=Math.floor(f/u)+" "+t("l10n.months");break;case 1!==Math.floor(f/d):if(r)return p;i="1 "+t("l10n.year");break;default:if(r)return p;i=Math.floor(f/d)+" "+t("l10n.years")}var v=i.split(" ");return t("l10n.timeago",{number:v[0],timeUnit:v[1]})}});r.ngMainCommonModule.filter("convertSecondsToRelativeDate",["$filter","nvTimeUtility",function(e,t){var n=e("translate"),r=e("date"),o=function(e,o){if(o){var i=new Date,a=i.getTime()-1e3*o,s=t.calculate(new Date(a),n,r,!1).split(" ");return n(e,{number:s[0],timeUnit:s[1]})}return e};return o}]),r.ngMainCommonModule.filter("convertUTCToTimeAgo",["$filter","nvTimeUtility",function(e,t){var n=e("translate"),r=e("date"),o=function(e,o){if(e){var i=new Date(e);return t.isPast(i,o)?t.calculate(i,n,r,!0,o):e}};return o}]),r.ngMainCommonModule.filter("convertSecondsToHHMMSS",[function(){var e=function(e,t){var n=Math.floor(e/3600)+10>20?Math.floor(e/3600):("00"+Math.floor(e/3600)).slice(-2),r=("00"+Math.floor(e%3600/60)).slice(-2),o=("00"+e%3600%60).slice(-2);
return t||(t="00"!==n?"h:m:s":"m:s"),t.replace("h",n).replace("m",r).replace("s",o)};return e}]),r.ngMainCommonModule.filter("convertSecondsToTime",["$filter",function(e){var t=e("translate"),n=function(e,n){var r=parseInt(e,10),o=Math.floor(r/3600),i=Math.floor((r-3600*o)/60),a=r-3600*o-60*i,s="";if(o){var l=1===o?t("l10n.hr",{value:o}):n&&o>=2?t("l10n.aboutHrs",{value:o}):t("l10n.hrs",{value:o});s=n&&o>=2?l:l+" "}if(i&&!(n&&o>=2)){var c=1===i?t("l10n.min",{value:i}):t("l10n.mins",{value:i});s=s+c+" "}if(a&&(!n||!o)){var u=1===a?t("l10n.sec",{value:a}):t("l10n.secs",{value:a});s+=u}return s};return n}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dbConfig=void 0;var o=n(134),i=r(o),a=angular.module("main.common.config",["main.common"]);a.constant("DATABASE_DEFAULTS",{rememberSession:!0,sessionToken:null,userToken:null,autoOptimize:!1,viewState:{vopsImageContainerSize:"50%",selectedGameId:null,feedbackFloatOverlayEnabled:!0,feedbackFloatShowState:!1,feedbackFloatOpenOnMouseEnter:!1,targetPowerMode:null,userTabSelectionList:[],driverExpandState:{},lastRouterFromState:"main.auth.home",lastRouterFromStateParams:{},lastRouterToState:"main.auth.home",lastRouterToStateParams:{},classicViewTopIndex:0,topIndex:0},synchedViewState:{gamesSortType:"alphabetical",gamesSortOrder:"ascending",gamesFilters:{all:!0,optimized:!1,favorite:!1,hidden:!1},classicViewEnabled:!1}}),a.config(["dbServiceProvider","DATABASE_DEFAULTS","DB_NAMES",function(e,t,n){e.init("gfeclient").defineGlobalStore({storeName:n.GLOBAL_STORE,description:"Stores settings that apply to all users"}).upgradeGlobalStore(n.GLOBAL_STORE,1,function(e){return e.setItem(n.SESSION,{rememberSession:t.rememberSession,sessionToken:t.sessionToken,userToken:t.userToken})}).upgradeGlobalStore(n.GLOBAL_STORE,2,function(e){return e.setItem(n.GAMES,{autoOptimize:t.autoOptimize})}).upgradeGlobalStore(n.GLOBAL_STORE,3,function(e){return e.getItem(n.GAMES).then(function(r){if(void 0===r.autoOptimize||null===r.autoOptimize)return e.setItem(n.GAMES,{autoOptimize:t.autoOptimize})})}).defineUserStore({storeName:n.JARVIS_COMMON_STORE,description:"Jarvis user-specific settings that apply to all clients"},!0).upgradeUserStore(n.JARVIS_COMMON_STORE,1,function(e){return e.setItem(n.SUBSCRIPTIONS,{ts:null})}).defineUserStore({storeName:n.JARVIS_GFE_STORE,description:"Jarvis user-specific settings that apply to gfeclient"}).upgradeUserStore(n.JARVIS_GFE_STORE,1,function(e){return e.setItem(n.JARVIS_VIEW_STATE,{ts:null,gamesSortType:t.synchedViewState.gamesSortType,gamesSortOrder:t.synchedViewState.gamesSortOrder,gamesFilters:t.synchedViewState.gamesFilters})}).upgradeUserStore(n.JARVIS_GFE_STORE,2,function(e){return e.setItem(n.JARVIS_AVATAR,{ts:null,url:i.default})}).upgradeUserStore(n.JARVIS_GFE_STORE,3,function(e){return e.getItem(n.JARVIS_VIEW_STATE).then(function(t){var r=t.gamesFilters;if(r.hidden&&(r.all||r.optimized||r.favorite))return t.gamesFilters.hidden=!1,e.setItem(n.JARVIS_VIEW_STATE,t)})}).upgradeUserStore(n.JARVIS_GFE_STORE,4,function(e){return e.setItem(n.NOTIFICATIONS_VIEW_STATE,{})}).defineUserStore({storeName:n.VIEW_STORE,description:"Persisted view settings per user"}).upgradeUserStore(n.VIEW_STORE,1,function(e){return e.setItem(n.VIEW_STATE,{vopsImageContainerSize:t.viewState.vopsImageContainerSize,selectedGameId:t.viewState.selectedGameId,targetPowerMode:t.viewState.targetPowerMode,userTabSelectionList:t.viewState.userTabSelectionList,feedbackFloatOverlayEnabled:t.viewState.feedbackFloatOverlayEnabled,feedbackFloatShowState:t.viewState.feedbackFloatShowState,feedbackFloatOpenOnMouseEnter:t.viewState.feedbackFloatOpenOnMouseEnter,driverExpandState:t.viewState.driverExpandState,classicViewTopIndex:t.viewState.classicViewTopIndex,topIndex:t.viewState.topIndex})})}]),a.config(["dbCacheServiceProvider","DB_NAMES",function(e,t){e.loadUserKey(t.VIEW_STORE,t.VIEW_STATE),e.loadUserKey(t.JARVIS_COMMON_STORE,t.SUBSCRIPTIONS),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_GAME_LIST),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_VIEW_STATE),e.loadUserKey(t.JARVIS_GFE_STORE,t.JARVIS_AVATAR),e.loadUserKey(t.JARVIS_GFE_STORE,t.NOTIFICATIONS_VIEW_STATE)}]),t.dbConfig=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogContents=void 0;var o=n(1),i=n(539),a=r(i);n(237);var s=o.ngMainCommonModule.directive("nvDialogContents",["$compile",function(e){return{restrict:"E",scope:{nvDirective:"@",nvModel:"="},template:a.default,link:function(t,n,r){var o,i=angular.element(n.find("md-dialog-content")[0]);r.$observe("nvDirective",function(r){o&&(i.isolateScope().$destroy(),i.removeAttr(o)),r&&i.attr(r,""),o=r,e(i)(t),n.find("form").eq(0).controller("form").$setPristine()})}}}]);t.nvDialogContents=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dialogController=void 0;var r=n(1),o=r.ngMainCommonModule.controller("DialogController",["$timeout","dialogService","initialDirective","$scope",function(e,t,n,r){function o(n){a.directive=n,a.model=t.model,e(angular.noop,0)}function i(){a.directive=null,t.model=a.model=null,t.onViewChange(null)}var a=this;o(n),t.onViewChange(o),r.$on("$destroy",i)}]);t.dialogController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dialogEditEmailController=void 0;var r=n(1),o=r.ngMainCommonModule.controller("DialogEditEmailController",["$log",function(e){var t=this,n=e.getInstance("main.common/DialogEditEmailController");t.done=function(){t.emailForm.$invalid?(n.debug("tried to submit invalid form"),t.nvDialogModel.is2FactorAuthentication||t.emailForm.password.$setTouched(),t.emailForm.email.$setTouched(),t.emailForm.reEnterEmail.$setTouched()):(t.nvDialogModel.error=null,t.nvDialogModel.waiting=!0,t.nvDialogModel.sessionObject.user.core.primaryEmail===t.email||t.nvDialogModel.is2FactorAuthentication?(n.debug("Email did not change or 2 factor authentication. Resend verification"),t.nvDialogModel.actionVerifyEmail(t.email)):(n.debug("Email has changed. Attempt to change email address"),t.nvDialogModel.password=t.password,t.nvDialogModel.actionUpdateEmail(t.nvDialogModel.sessionObject,t.email,t.password).catch(function(e){t.nvDialogModel.waiting=!1,401===e.status?(n.debug("Change Email: Invalid credentials"),t.emailForm.password.$setValidity("invalidPassword",!1),t.emailForm.password.$setTouched()):403===e.status?(n.debug("Change Email: Account has no password, must be a social-only account"),t.nvDialogModel.error="l10n.noPassword"):409===e.status?(n.debug("Change Email: Email address is already being used"),t.emailForm.email.$setValidity("notAvailable",!1),t.emailForm.email.$setTouched()):(n.debug("Change Email: Generic server error. status:",e.status),t.nvDialogModel.error="l10n.unableToConnect")})))},t.emailChanged=function(){t.emailForm.email.$setValidity("notAvailable",!0)},t.passwordChanged=function(){t.emailForm.password.$setValidity("invalidPassword",!0)},t.cancel=function(){n.debug("cancel pressed"),t.nvDialogModel.actionCancelUpdateEmail(t.nvDialogModel.sessionObject)},angular.merge(t.nvDialogModel,{style:"honeycomb-square",button1:{text:t.nvDialogModel.is2FactorAuthentication?"l10n.update":"l10n.done",action:t.done},button2:{text:"l10n.cancel",action:t.cancel}})}]);t.dialogEditEmailController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogHtml=void 0;var o=n(1),i=n(542),a=r(i),s=o.ngMainCommonModule.directive("nvDialogHtml",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"dialogHtmlCtrl"}}]);t.nvDialogHtml=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogMessage=void 0;var o=n(1),i=n(543),a=r(i),s=o.ngMainCommonModule.directive("nvDialogMessage",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"dialogMessageCtrl"}}]);t.nvDialogMessage=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogProgressBar=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvDialogProgressBar",[function(){return{restrict:"E",scope:{nvProgressActive:"@",nvProgressSections:"@"},template:'<span flex ng-repeat="section in getSections() track by $index" ng-class="{\'md-accent background\': isActive($index)}"></span>',controller:["$scope",function(e){e.getSections=function(){return new Array(Number(e.nvProgressSections))},e.isActive=function(t){return t===Number(e.nvProgressActive)}}]}}]);t.nvDialogProgressBar=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDialogText=void 0;var o=n(1),i=n(544),a=r(i),s=o.ngMainCommonModule.directive("nvDialogText",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"dialogTextCtrl"}}]);t.nvDialogText=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.exceptionService=void 0;var o=n(27),i=r(o),a=n(1);n(240),n(16);var s=n(748),l=r(s),c=a.ngMainCommonModule.provider("exceptionService",function(){var e=!0;return{setEnabled:function(t){e=t},$get:["$log","$mdDialog","$filter","preferencesService","GFECLIENT_CONFIG",function(t,n,r,o,a){function s(t,s){if(u.info("UnHandled Exception was caught"),e){c.exception=t,c.cause=s;var d={name:t.name,message:t.message,stackFrame:null};try{d.stackFrame=l.default.parse(t)}catch(e){u.error("cannot generate stack trace from error object",e),d.stackFrame=t.toString()}c.exceptionstr=(0,i.default)(d),c.properties=t.stack?t.stack.replace(/ at /g,"<br>&nbsp;&nbsp;&nbsp;at ").replace(/([^\/]+):(\d+):(\d+)/g,'<span class="common-window exception-standout">$1</span>: <span class="common-window exception-standout">$2</span>:$3')+"<br>":"","prod"===a.mode&&o.postFeedback("FEEDBACK_AUTOMATIC_CRIMSON_UI_ERROR",c.exceptionstr).then(function(){}).catch(function(e){u.error("post feedback was failed for FEEDBACK_AUTOMATIC_CRIMSON_UI_ERROR",e)}),"dev"===a.mode&&n.show(n.alert().parent(angular.element(document.body)).clickOutsideToClose(!0).title(r("translate")("l10n.unhandledexception")).content(c.properties).ok(r("translate")("l10n.close")))}}var c=this,u=t.getInstance("main.common/exceptionService");return c.exception=null,c.cause="",c.properties="",c.exceptionstr="",{logException:s}}]}});t.exceptionService=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exceptionConfig=void 0;var r=n(1),o=r.ngMainCommonModule.config(["$provide",function(e){e.decorator("$exceptionHandler",["$log","$delegate","$injector",function(e,t,n){return function(e,r){var o=n.get("exceptionService");o.logException(e,r),t(e,r)}}])}]);t.exceptionConfig=o},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.feedbackController=void 0;var o=n(4),i=r(o),a=n(1);n(23),n(16),n(12),n(32),n(20);var s=a.ngMainCommonModule.controller("FeedbackController",["$log","dialogService","preferencesService","FEEDBACK_TYPE","$filter","gamesService","$scope","toastService",function(e,t,n,r,o,a,s,l){function c(){""!==v.filePath&&v.selectedFiles.push(v.filePath),0===v.selectedGames.length&&""!==v.selectedSupportedGame?v.selectedGames.push(v.selectedSupportedGame):h.info("Multiple local games selected.");var e={category:v.selectedCategory.name,subcategory:v.selectedSubCategory.id,relatedApplications:v.selectedGames,relatedFiles:v.selectedFiles,message:v.comments};return e}function u(){l.show({textContent:o("translate")("l10n.feedbackThanksMessage")});var e=c();h.info(e),n.postFeedback(e.subcategory,e.message,e.relatedApplications,e.relatedFiles).then(function(e){h.info("Feedback posted successfully with status code:"+e.status)},function(e){h.error("Post feedback failed: ",e)}),t.cancel()}function d(){v.selectedGames=[],v.selectedSupportedGame="",v.filePath="",v.validateRequiredFields()}function f(){var e=!1;switch(v.selectedSubCategory.id){case r[0].subcategories[5].id:case r[1].subcategories[4].id:case r[4].subcategories[1].id:case r[4].subcategories[2].id:case r[4].subcategories[5].id:e=!0}switch(v.selectedCategory.name){case r[2].name:case r[3].name:case r[5].name:case r[6].name:e=!0}return e}function m(){return f()&&0===v.selectedGames.length&&""===v.selectedSupportedGame&&""===v.filePath||0!==v.selectedGames.length&&""===v.selectedSupportedGame&&""===v.filePath||0===v.selectedGames.length&&""===v.selectedSupportedGame&&""!==v.filePath&&v.selectedSubCategory.id!==r[0].subcategories[0].id||0===v.selectedGames.length&&""!==v.selectedSupportedGame&&""!==v.filePath}function g(){a.getCachedGames().then(function(e){v.affectedLocalGamesList=[],i.each(e,function(e,t){var n=a.getSystemGame(e.id);v.affectedLocalGamesList.push({displayName:n.displayName,shortName:n.shortName})}),v.affectedLocalGamesList=o("orderBy")(v.affectedLocalGamesList,"displayName"),h.info("Number of games found on the system: ",v.affectedLocalGamesList.length)},function(e){h.error("Error getting cached games!",e)})}function p(e,t,n){""!==e&&e!==t?v.validateRequiredFields():h.info(n)}var v=this;v.categories=r;var h=e.getInstance("main.common/FeedbackController");v.affectedLocalGamesList=[],v.selectedGames=[],v.filePath="",v.selectedFiles=[],v.selectedSupportedGame="",v.nvDialogModel.button2={text:"l10n.cancel",action:t.cancel},v.nvDialogModel.button1={text:"l10n.send",action:u,disabled:!0},v.nvDialogModel.title="l10n.sendfeedback",v.nvDialogModel.style="feedback-dialog",v.onCategoryChange=function(){v.selectedSubCategory="",d()},v.onSubCategoryChange=function(){v.showAffectedLocalGamesList()&&g(),d()},v.isGameSelected=function(e){return v.selectedGames.indexOf(e)>-1},v.validateRequiredFields=function(){void 0!==v.comments&&""!==v.comments&&void 0!==v.selectedCategory&&""!==v.selectedCategory&&void 0!==v.selectedSubCategory&&""!==v.selectedSubCategory&&m()?v.nvDialogModel.button1.disabled=!1:v.nvDialogModel.button1.disabled=!0},v.showAffectedGameDropDown=function(){return v.selectedSubCategory&&v.selectedSubCategory.id===r[0].subcategories[0].id},v.showAffectedLocalGamesList=function(){var e=!1;if(v.selectedSubCategory)switch(v.selectedSubCategory.id){case r[0].subcategories[1].id:case r[0].subcategories[2].id:case r[0].subcategories[3].id:case r[0].subcategories[4].id:case r[1].subcategories[0].id:case r[1].subcategories[1].id:case r[1].subcategories[2].id:case r[1].subcategories[3].id:case r[4].subcategories[0].id:case r[4].subcategories[3].id:case r[4].subcategories[4].id:e=!0}return e},v.showUploadFileOption=function(){return v.selectedSubCategory&&(v.selectedSubCategory.id===r[0].subcategories[0].id||v.selectedSubCategory.id===r[0].subcategories[6].id)},v.toggleGameSelection=function(e){var t=v.selectedGames.indexOf(e);t>-1?v.selectedGames.splice(t,1):v.selectedGames.push(e),v.validateRequiredFields()},s.$watch("feedbackCtrl.filePath",function(e,t){p(e,t,"New filePath is same as the old file path or empty.")}),s.$watch("feedbackCtrl.selectedSupportedGame",function(e,t){p(e,t,"New selectedSupportedGame is same as the old selectedSupportedGame or empty.")})}]);t.feedbackController=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.feedbackFloatController=void 0;var r=n(1);n(23),n(12),n(7),n(24),n(161);var o=r.ngMainCommonModule.controller("FeedbackFloatController",["dialogService","dbCacheService","DB_NAMES","jarvisService","hardwareService","$log","COMMON_EVENTS","eventAggregator","$scope",function(e,t,n,r,o,i,a,s,l){function c(e){g.info("onSysInfoUpdated ",e.DriverVersion),m.driverless=e&&(!e.DriverVersion||""===e.DriverVersion)}function u(){var e=r.getLoggedInUser();e?m.viewState=t.getCachedUserItem(r.getLoggedInUser().userId,n.VIEW_STORE,n.VIEW_STATE):m.viewState={}}function d(){u(),s.on(a.SYSTEMINFO_UPDATED,c),s.on(a.LOGIN_STATUS_CHANGE,u)}function f(){s.off(a.SYSTEMINFO_UPDATED,c),s.off(a.LOGIN_STATUS_CHANGE,u)}var m=this;m.isDialogOpen=!1,m.driverless=!1;var g=i.getInstance("main.common/FeedbackFloatController");o.getSystemInfo().then(function(e){m.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),g.info("driverless:",m.driverless)},function(e){g.error("failed to get systemInfo")}),m.showFeedbackButton=function(){var e=r.getLoggedInUser();return void 0!==e&&null!==e&&!m.driverless},m.onOpenFeedbackDialog=function(){e.show("nv-feedback")},m.disableFeedbackFloat=function(){m.viewState.feedbackFloatOverlayEnabled=!1,m.viewState.feedbackFloatShowState=!1,m.viewState.persist_()},m.onMouseEnter=function(){m.viewState.feedbackFloatShowState||m.viewState.feedbackFloatOverlayEnabled||(m.viewState.feedbackFloatOpenOnMouseEnter?(m.viewState.feedbackFloatShowState=!0,m.viewState.persist_()):(m.viewState.feedbackFloatOpenOnMouseEnter=!0,m.viewState.persist_()))},m.onMouseLeave=function(){m.isDialogOpen=e.isOpen(),!m.viewState.feedbackFloatShowState||m.viewState.feedbackFloatOverlayEnabled||m.isDialogOpen||(m.viewState.feedbackFloatShowState=!1,m.viewState.persist_())},m.showFloatStateButton=function(){return!m.viewState.feedbackFloatOverlayEnabled&&!m.viewState.feedbackFloatShowState&&!m.isDialogOpen},m.showFloatStateOpen=function(){return m.viewState.feedbackFloatOverlayEnabled||(m.viewState.feedbackFloatShowState||m.isDialogOpen)&&m.viewState.feedbackFloatOpenOnMouseEnter},d(),l.$on("$destroy",f)}]);t.feedbackFloatController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeedbackFloat=void 0;var o=n(1),i=n(546),a=r(i);n(243);var s=o.ngMainCommonModule.directive("nvFeedbackFloat",[function(){return{restrict:"E",scope:{},template:a.default,controller:"FeedbackFloatController",controllerAs:"feedbackFloatCtrl"}}]);t.nvFeedbackFloat=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileUploadController=void 0;var r=n(1);n(14);var o=r.ngMainCommonModule.controller("FileUploadController",["$scope","cefService","$log",function(e,t,n){var r=this;r.filePath="";var o=n.getInstance("main.common/FileUploadController");r.openFileDialog=function(){var n={"Programs and shortcuts":"*.exe; *.lnk; *.bat; *.url"};return t.localDirectoryExplorer(!0,n,!0).then(function(t){r.filePath=t,e.nvFilePath=t},function(e){o.error("Request for localDirectoryExplorer failed. Error: ",e)})}}]);t.fileUploadController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFileUpload=void 0;var o=n(1),i=n(548),a=r(i);n(245);var s=o.ngMainCommonModule.directive("nvFileUpload",[function(){return{restrict:"E",scope:{nvFilePath:"="},template:a.default,controller:"FileUploadController",controllerAs:"fileUploadCtrl"}}]);t.nvFileUpload=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpLoggingService=void 0;var r=n(1),o=r.ngMainCommonModule.service("httpLoggingService",["$log","GFECLIENT_CONFIG","$q",function(e,t,n){function r(e){try{_.isUndefined(e.config)||(e.config.headers.X_LOCAL_SECURITY_COOKIE="",_.isUndefined(e.config.data)||_.isUndefined(e.config.data.userInfo)||(e.config.data.userInfo=""))}catch(e){i.error("Could not sanitize Security Cookie",e)}return e}var o=this,i=e.getInstance("main.common/httpLoggingService");o.requestError=function(e){return i.error("http request FAILED for method",e.method," url ",e.url),n.reject(e)},o.response=function(e){var n=r(e);return i.debug("Http response for request ",n.config.url," returns status: ",n.status),n.config.url.match(t.gfwsl.server)&&i.debug(" gfwsl returned successfully with response ",n),n},o.responseError=function(e){var t=r(e);return _.isUndefined(t.config)?i.error("Http request method FAILED with response ",t):i.error("Http request method ",t.config.method,", url ",t.config.url," FAILED with response ",t),n.reject(t)}}]);t.httpLoggingService=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.nvImageAnnotation=void 0;var i=n(4),a=o(i),s=n(1);n(29);var l=n(549),c=r(l),u=s.ngMainCommonModule.directive("nvImageAnnotation",["annotoriousService","eventAggregator","GAME_EVENTS","$timeout","$interval","SCROLL_STEPS","COMMON_EVENTS","$document",function(e,t,n,r,o,i,s,l){function u(e,t,n,r){return n*(Math.pow(e/r-1,3)+1)+t}function d(c,d){function f(){var e=1,t=parseInt(d[0].offsetWidth);return _.naturalWidth>t&&(e=(t-8)/_.naturalWidth),e}function m(e,t){var n=d[0].getBoundingClientRect(),r=d[0].scrollTop,a=r+n.height,s=e.shape.geometry.y,c=l[0].getElementById(e.id);if(c){var f=s+c.getBoundingClientRect().height;if(r>=s||a<=s||a<=f){var m=0,g=s-r-n.height/2;a+g<=f&&(g=f-a),S=o(function(){d[0].scrollTop=u(m,r,Math.ceil(g),i),m++,m>=i&&(o.cancel(S),t())},0)}else t()}}function g(t){o.cancel(S);var n=e.getAnnotationBySettingName(_,t.name);n&&m(n,function(){e.highlightAnnotation(_,t.name)})}function p(){e.hideAnnotations(_)}function v(t){e.makeAnnotatable(_),a.each(c.nvAnnotation,function(n){if(n.geometry.width>0&&n.geometry.height>0){var r=n.geometry.x*t-n.geometry.width/2,o=n.geometry.y*t-n.geometry.height/2,i={text:n.text,shape:{type:"rect",geometry:{x:r>0?r:0,y:o>0?o:0,width:n.geometry.width,height:n.geometry.height}},nvSettingName:n.nvSettingName,nvSettingEnName:n.nvSettingEnName,nvPopupWidth:n.nvPopupWidth,nvPopupHeight:n.nvPopupHeight};e.addAnnotation(_,i)}})}function h(){var t=f();r.cancel(b),b=r(function(){e.destroy(_),v(t)})}function y(){r.cancel(E),E=r(function(){v(f()),t.on(s.WINDOW_RESIZE,h),t.on(n.SETTING_ITEM_MOUSE_LEAVE,p),t.on(n.SETTING_ITEM_HOVER_CAROUSEL_READY,g),t.trigger(n.IMAGE_LOADED,_.getAttribute("src"))})}var b,S,E,_=d.find("img")[0];a.size(c.nvAnnotation)>0&&(angular.element(d.find("img")[0]).on("load",y),c.$on("$destroy",function(){e.destroy(_),t.trigger(n.IMAGE_UNLOADED,_.getAttribute("src")),t.off(n.SETTING_ITEM_HOVER_CAROUSEL_READY,g),t.off(n.SETTING_ITEM_MOUSE_LEAVE,p),t.off(s.WINDOW_RESIZE,h),angular.element(d.find("img")[0]).off("load",y),r.cancel(b),o.cancel(S),r.cancel(E),_=null,b=null,S=null,E=null,d.empty(),d.remove(),d=null}),d.on("$destroy",function(){c.$destroy()}))}return{restrict:"E",scope:{nvImageSrc:"@",nvAnnotation:"=",nvImageAlt:"@"},template:c.default,link:d}}]);t.nvImageAnnotation=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvInlineDropdown=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvInlineDropdown",[function(){return{scope:!0,restrict:"E",bindToController:!0,controller:[function(){}],controllerAs:"nvInlineDropdownCtrl",template:function(e,t){var n,r,o;if(2!==e.children().length||"nv-inline-dropdown-header"!==e.children()[0].tagName.toLowerCase()||"md-list"!==e.children()[1].tagName.toLowerCase())throw Error("Invalid HTML for nv-inline-dropdown. Expected nv-inline-dropdown-header and md-list");e.attr("layout","column"),e.addClass("layout"),e.addClass("layout-column"),n=angular.element(e.children()[0]),r=angular.element(e.children()[1]),n.attr("flex",""),n.attr("layout-fill",""),n.attr("layout","row"),n.attr("layout-align","start center"),n.attr("ng-click","nvInlineDropdownCtrl.onClick()"),r.attr("ng-click","nvInlineDropdownCtrl.onClick()"),n.append(angular.element("<span flex></span")),n.append(angular.element('<md-icon class="md-18" material-icons>expand_more</md-icon>')),o=angular.element("<nv-inline-dropdown-list-container layout></nv-inline-dropdown-list-container"),r=r.replaceWith(o),o.append(r)},link:function(e,t,n,r){var o=!1;r.onClick=function(){o=!o,o?t.addClass("open"):t.removeClass("open")},t.bind("mouseleave",function(){o&&(o=!o,t.removeClass("open"))})}}}]);t.nvInlineDropdown=o},,function(e,t,n){"use strict";var r=n(1);r.ngMainCommonModule.controller("MediaDialogController",["mediaDialogService","$window","$document","VIDEO_TYPE",function(e,t,n,r){function o(e,n){return t.getComputedStyle(e[0]).getPropertyValue(n)}function i(){var e=angular.element(n[0].querySelector(".md-dialog-container"));if(e&&e.css({height:t.innerHeight+"px"}),a.dialog&&a.overlay&&a.media){var i=0,s=0;if(a.model.video()&&a.model.video().type&&a.model.video().type===r.YOUTUBE){if(a.commonVideoDivElement){var l=16,c=9,u=a.dialog[0].clientWidth,d=a.dialog[0].clientHeight*l/c;a.dialog[0].clientWidth>d?(u=d,a.commonVideoDivElement.css({width:d+"px"})):a.commonVideoDivElement.css({width:u+"px"});var f=o(a.commonVideoDivElement,"height");f=parseInt(f.substring(0,f.lastIndexOf("px")));var m=0,g=0;a.dialog[0].clientWidth>u&&(m=(a.dialog[0].clientWidth-u)/2),a.dialog[0].clientHeight>f&&(g=(a.dialog[0].clientHeight-f)/2),a.commonVideoDivElement.css({"margin-left":m+"px","margin-top":g+"px"}),a.overlay.css({visibility:"visible",left:m+"px",top:g+"px",width:u+"px"})}}else{a.media[0]&&a.dialog[0].clientWidth>a.media[0].clientWidth&&(i=(a.dialog[0].clientWidth-a.media[0].clientWidth)/2),a.media[0]&&a.dialog[0].clientHeight>a.media[0].clientHeight&&(s=(a.dialog[0].clientHeight-a.media[0].clientHeight)/2);var p=a.media[0].clientHeight+"px";a.model.video().defaultVideoControl&&(p="auto"),a.overlay.css({visibility:"visible",left:i+"px",top:s+"px",width:a.media[0].clientWidth+"px",height:p})}}}var a=this;a.model=e.getDialogModel(),a.showOverlay=!1,a.videoLoaded=!1,a.media=null,a.dialog=null,a.overlay=null,a.commonVideoDivElement=null,a.close=function(){e.close()},a.setShowOverlay=function(e){a.showOverlay=e},a.setVideoLoaded=function(e){a.videoLoaded=e,a.videoLoaded&&i()},n.ready(function(){null===a.dialog&&(a.commonVideoDivElement=angular.element(n[0].querySelector(".common-video-directive")),a.dialog=angular.element(n[0].querySelector(".common-media-dialog-service-media-dialog")),a.media=a.model.image()?a.dialog.find("img"):a.dialog.find("video"),a.overlay=a.dialog.find("nv-overlay")),a.dialog.focus(),a.model.image()&&(a.media[0].complete?i():a.media.bind("load",function(){i()}))}),t.onresize=function(){i()}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaTileController=void 0;var r=n(1);n(173),n(113),n(91);var o=r.ngMainCommonModule.controller("MediaTileController",["$scope","MEDIA_FILE_TYPE","mediaDialogService","imageFormatService",function(e,t,n,r){var o=this;o.mediaItem={thumbnail:r.formatImage(e.nvMediaThumbnail,169),alt:e.nvMediaAlt,fileType:e.nvMediaType,original:e.nvMediaOriginal},o.previewMedia=function(e){var r=n.customPreset().toolbarHtml("<nv-media-preview-toolbar></nv-media-preview-toolbar>").event(e);if(o.mediaItem.fileType===t.IMAGE)r=r.image(o.mediaItem.original),n.show(r);else{if(o.mediaItem.fileType!==t.VIDEO)return!1;r=r.video({source:o.mediaItem.original}),n.show(r)}},o.isVideo=function(){return t.VIDEO===o.mediaItem.fileType}}]);t.mediaTileController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMediaTile=void 0;var o=n(1),i=n(552),a=r(i);n(252),n(13),n(29);var s=o.ngMainCommonModule.directive("nvMediaTile",function(){return{restrict:"E",scope:{nvMediaThumbnail:"@",nvMediaType:"@",nvMediaAlt:"@",nvMediaOriginal:"@"},template:a.default,controller:"MediaTileController",controllerAs:"mediaTile"}});t.nvMediaTile=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newsController=void 0;var r=n(1);n(30);var o=r.ngMainCommonModule.controller("NewsController",["$scope","$log","tbdService",function(e,t,n){var r,o=this,i=t.getInstance("main.common/NewsController");o.gameShortName=e.nvShortName,o.newsList=[],r="gfn"===e.nvNewsSource?n.getGfnNews(o.gameShortName):n.getGameNews(o.gameShortName),r.then(function(e){o.newsList=e},function(e){i.error("getNews failed with Status: "+e.status)})}]);t.newsController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nodeService=void 0;var r=n(1);n(14),n(23),n(15);var o=r.ngMainCommonModule.service("nodeService",["$log","cefService","dialogService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","eventAggregator","SOCKETIO_EVENTS","socketService","GFECLIENT_CONFIG",function(e,t,n,r,o,i,a,s,l){function c(){t.enableCloseButton(!0),r.push(o.GFE_NODE_FAILURE),v.info("display oops message"),n.show("nv-dialog-message",{title:"l10n.nvidiaGeforceExperience",text:"l10n.errorRestartApplication",button1:{text:"l10n.close",action:function(){t.windowClose()}}})}function u(){s.setReconnectionAttempts(1/0)}function d(){s.setReconnectionAttempts(h.reconnectionAttempts)}function f(e){v.info("Successful reconnection attempt number: ",e),s.setReconnectionAttempts(h.reconnectionAttempts)}function m(e){v.info("socket event reconnecting attempt number: ",e)}function g(){v.info("socket event reconnect_failed"),c()}function p(){v.info("registering event listeners"),i.on(a.RECONNECT,f),i.on(a.RECONNECTING,m),i.on(a.RECONNECT_FAILED,g)}var v=e.getInstance("main.common/nodeService"),h=angular.merge({},l.nodeService);return{initialize:p,showErrorMessage:c,setReconnectionToInfinity:u,setReconnectionToDefault:d}}]);t.nodeService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numbersOnly=void 0;var r=n(1),o=r.ngMainCommonModule.directive("numbersOnly",function(){return{require:"ngModel",scope:{nvMin:"@",nvMax:"@"},link:function(e,t,n,r){function o(t){if(t){var n=t.replace(/[^0-9]/g,"");n!==t&&(r.$setViewValue(n),r.$render());var o=parseInt(n)>=e.nvMin&&parseInt(n)<=e.nvMax;return r.$setValidity("numbersOnly",o),n}}r.$parsers.push(o)}}});t.numbersOnly=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvNotificationIndicator=void 0;var r=n(1),o=r.ngMainCommonModule.directive("nvNotificationIndicator",function(){return{restrict:"A",link:function(e,t,n,r,o){n.$observe("nvNotificationIndicator",function(e){e&&"true"!==e?t.addClass("nv-hide-after"):t.removeClass("nv-hide-after")})}}});t.nvNotificationIndicator=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectMenuItemController=void 0;var r=n(1);n(15);var o=r.ngMainCommonModule.controller("SelectMenuItemController",["$scope","telemetryService",function(e,t){var n=this;n.action=e.nvAction,n.disabled=e.nvDisabled,n.nvTelemetry=e.nvTelemetry,e.$watch("nvSelectedTest()",function(e){n.itemStyle={"font-weight":e?"bold":"normal"}}),e.$watch("nvDisabled",function(e){n.disabled=e}),n.handleClick=function(){if(n.action(),n.nvTelemetry){var e=JSON.parse(n.nvTelemetry);t.push(e.tarconID,e.url)}}}]);t.selectMenuItemController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signPayloadService=void 0;var r=n(1),o=r.ngMainCommonModule.service("signPayloadService",["$log","$base64",function(e,t){var n=(e.getInstance("main.common/signingPayloadService"),this),r=16,o=2*r,i=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t};n.getBytesFromEncodedString=function(e){var n=decodeURIComponent(e),r=t.decode(n),o=i(r);return o},n.convertStringToHexWithWordShift=function(e,t){for(var n=0,r=0;r<t;r++)switch(e[t-1-r]){case"0":n|=0<<4*r;break;case"1":n|=1<<4*r;break;case"2":n|=2<<4*r;break;case"3":n|=3<<4*r;break;case"4":n|=4<<4*r;break;case"5":n|=5<<4*r;break;case"6":n|=6<<4*r;break;case"7":n|=7<<4*r;break;case"8":n|=8<<4*r;break;case"9":n|=9<<4*r;break;case"a":case"A":n|=10<<4*r;break;case"b":case"B":n|=11<<4*r;break;case"c":case"C":n|=12<<4*r;
break;case"d":case"D":n|=13<<4*r;break;case"e":case"E":n|=14<<4*r;break;case"f":case"F":n|=15<<4*r}return n},n.base64FromByteArray=function(e){for(var t,n,r,o,i,a="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(e),c=l.byteLength,u=c%3,d=c-u,f=0;f<d;f+=3)i=l[f]<<16|l[f+1]<<8|l[f+2],t=(16515072&i)>>18,n=(258048&i)>>12,r=(4032&i)>>6,o=63&i,a+=s[t]+s[n]+s[r]+s[o];return 1==u?(i=l[d],t=(252&i)>>2,n=(3&i)<<4,a+=s[t]+s[n]+"=="):2==u&&(i=l[d]<<8|l[d+1],t=(64512&i)>>10,n=(1008&i)>>4,r=(15&i)<<2,a+=s[t]+s[n]+s[r]+"="),a},n.buildNonceBytes=function(e){e.length>o&&(e=e.slice(0,o));var t=e.split("");if(t.length===o){for(var i,a=new ArrayBuffer(r),s=new DataView(a,0),l=0;l<r;l++)i=n.convertStringToHexWithWordShift(t.slice(2*l,2*l+2),2),s.setUint8(r-l-1,i);var c=new Uint8Array(a,0);return n.nonce=Array.prototype.slice.call(c),n.nonce}return null},n.getHexStringFromBytes=function(e){for(var t="",n="00",r=0;r<e.length;r++)t+=(n+e[r].toString(16)).slice(-2);return t},n.buildProgramId=function(e,t){var n=e.split(".").join("")+t.split(".").join(""),r="00000000",o=n.length>8?n.substring(0,8):(r+n).slice(-8);return parseInt(o,16)},n.formatHashedEcid=function(e){var t=n.getHexStringFromBytes(e).replace("-","").toLowerCase();return encodeURIComponent(n.base64FromByteArray(i(t)))},n.formatSignedPaylod=function(e){return encodeURIComponent(n.base64FromByteArray(e))},n.formatPayloadRequest=function(e){if(e.key){var t=n.getBytesFromEncodedString(e.key),r=n.buildProgramId(e.clientVersion,e.driverVersion),i=n.buildNonceBytes(e.nonce.length>o?e.nonce.substring(0,o):e.nonce);return{algorithm:e.signAlgo,nonce:i,programId:r,key:t,sessionId:0}}return null},n.formatSignedPayload=function(e){var t="00000000",r=(t+e.deviceInfo.chipId.toString(16)).slice(-4),o=(t+e.deviceInfo.revisionId.toString(16)).slice(-4);return{deviceChipsetId:r,deviceRevision:o,hashedEcid:n.formatHashedEcid(e.ecidSha2Hash),signedPayload:n.formatSignedPaylod(e.data),ucodeVersion:(t+e.uCodeVersion.toString()).slice(-8)}}}]);t.signPayloadService=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.supportedGamesService=void 0;var o=n(4),i=r(o),a=n(1),s=a.ngMainCommonModule.service("supportedGamesService",["supportedGamesEndpoints","$q","$log",function(e,t,n){var r,o,a=this,s=n.getInstance("main.games/supportedGamesService");a.getSupportedGamesList=function(){return r=e.getSupportedApplications().then(function(e){return o=e,s.info("supportedGamesService - got supported games response."),o},function(e){return s.error("error getting supportedGames "+e),t.reject(e)})},a.getSupportedGames=function(){return i.isUndefined(r)?(s.info("getSupportedGamesList called in getSupportedGames."),a.getSupportedGamesList()):i.isUndefined(o)?r:t.when(o)}}]);t.supportedGamesService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toastController=void 0;var r=n(1),o=r.ngMainCommonModule.controller("ToastController",["toastService","nvToastModel",function(e,t){var n=this;n.toastModel=t,n.close=function(){e.cancel()},n.handleAction=function(){e.cancel(),n.toastModel.button.action()},n.isGenericToastIcon=function(){return n.toastModel.icon&&!n.toastModel.isCustomIcon},n.isCustomToastIcon=function(){return n.toastModel.icon&&n.toastModel.isCustomIcon}}]);t.toastController=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.videoController=void 0;var o=n(4),i=r(o),a=n(1),s=a.ngMainCommonModule.controller("VideoController",["$scope","$window","$document","$interval","$filter","$sce","VIDEO_TYPE","YOUTUBE_PLAYER_STATE","$mdToast","MEDIA_NETWORK_STATE","$log",function(e,t,n,r,o,a,s,l,c,u,d){function f(e){var t=/youtu\.be\/(.*)/g,n=t.exec(e);return n[1]}function m(){v.totalDuration=0;var e=0;v.totalDuration=o("date")(1e3*v.media[0].duration,"mm:ss","UTC"),r(function(){if(e!==v.sliderPosition){var t=v.sliderPosition*v.media[0].duration/100;return v.currentVideoTime=o("date")(1e3*t,"mm:ss","UTC")+" / "+v.totalDuration,v.media[0].currentTime=t,void(e=v.sliderPosition)}v.media[0].paused&&v.media[0].currentTime!==v.media[0].duration||(v.currentVideoTime=o("date")(1e3*v.media[0].currentTime,"mm:ss","UTC")+" / "+v.totalDuration,v.sliderPosition=e=Math.floor(v.media[0].currentTime/v.media[0].duration*100))},1e3)}function g(){h=new t.YT.Player("ytPlayer",{events:{onReady:v.onYTPlayerReady()}})}function p(){var e=n[0].getElementsByTagName("script"),t="https://www.youtube.com/iframe_api";if(i.find(e,function(e){return e.getAttribute("src")===t}))g();else{var r=n[0].createElement("script");r.src=t;var o=n[0].getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)}}var v=this;v.showOverlay=!1,v.currentVideoTime="00:00 / 00:00",v.sliderPosition=0,v.videoLoaded=!1,v.directiveElement=null,v.media=null,v.totalDuration=0,v.nvSrc=e.nvSrc,v.nvVideoLoaded=e.nvVideoLoaded,v.nvVideoType=e.nvVideoType,v.nvVideoClose=e.nvVideoClose,v.nvDefaultVideoControl=e.nvDefaultVideoControl,v.youtubePlayer=null,v.videoWaiting=!0;var h=null,y=d.getInstance("main.common/VideoController");v.formatVideoSource=function(){v.nvSrc?(v.nvVideoType===s.YOUTUBE&&(v.nvSrc="https://www.youtube.com/embed/"+f(v.nvSrc)+"?wmode=transparent&controls=1&showinfo=0&autoplay=1"),v.nvSrc=a.trustAsResourceUrl(v.nvSrc)):(y.error("Video source is null"),v.nvVideoClose&&v.nvVideoClose())},v.formatVideoSource(),v.isVideoTypeYoutube=function(){return v.nvVideoType===s.YOUTUBE},v.showDefaultOverlay=function(){return v.isVideoTypeYoutube()||"true"===v.nvDefaultVideoControl},v.setShowOverlay=function(e){v.showOverlay=e},v.toggleMediaPlay=function(){v.nvVideoType===s.YOUTUBE?v.youtubePlayer&&(v.youtubePlayer.getPlayerState()===l.PAUSED?v.youtubePlayer.playVideo():v.youtubePlayer.pauseVideo()):v.media&&(v.media[0].paused?v.media[0].play():v.media[0].pause())},v.showPlaybutton=function(){return!!v.media&&v.media[0].paused},v.muted=function(){return!!v.media&&v.media[0].muted},v.muteUnmute=function(){v.media&&(v.media[0].muted=!v.media[0].muted)},v.onYTPlayerReady=function(){v.videoWaiting=!1,v.videoLoaded=!0,v.youtubePlayer=h,v.nvVideoLoaded&&v.nvVideoLoaded({value:!0})},t.onYouTubeIframeAPIReady=function(){g()},n.ready(function(){function t(){e.$apply(function(){v.videoWaiting=!1})}function r(){e.$apply(function(){v.videoWaiting=!0})}if(v.nvVideoType===s.YOUTUBE)return void p();null===v.directiveElement&&(v.directiveElement=angular.element(n[0].querySelector(".common-video-directive")),v.media=v.directiveElement.find("video"),v.media&&"true"===v.nvDefaultVideoControl&&v.media.attr("controls",!0));var i="error";v.media.bind(i,function(){var e=o("translate")("l10n.mediaerror.generic");if(v.media[0].error)switch(v.media[0].error.code){case v.media[0].error.MEDIA_ERR_ABORTED:e=o("translate")("l10n.mediaerror.aborted");break;case v.media[0].error.MEDIA_ERR_NETWORK:e=o("translate")("l10n.mediaerror.network");break;case v.media[0].error.MEDIA_ERR_DECODE:e=o("translate")("l10n.mediaerror.decode");break;case v.media[0].error.MEDIA_ERR_SRC_NOT_SUPPORTED:e=o("translate")("l10n.mediaerror.notsupported")}var t=c.simple().content(e).highlightAction(!0).hideDelay(3e3).capsule("true").position("top center");c.show(t),v.nvVideoClose&&v.nvVideoClose()});var a="loadedmetadata";v.media.bind(a,function(){e.$apply(function(){v.videoLoaded=!0}),v.nvVideoLoaded&&v.nvVideoLoaded({value:!0}),m()});var l="progress";v.media.bind(l,function(){v.media[0].networkState===u.NETWORK_LOADING&&v.media[0].buffered.length>0&&v.media[0].played.length>0&&v.media[0].buffered.end(0)<=v.media[0].played.end(0)+.5?v.videoWaiting=!0:v.videoWaiting=!1}),v.media.bind("canplay",function(){t()}),v.media.bind("playing",function(){t()}),v.media.bind("waiting",function(){r()}),v.media.bind("stalled",function(){r()}),e.$apply()})}]);t.videoController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvVideo=void 0;var o=n(1),i=n(559),a=r(i);n(262),n(13);var s=o.ngMainCommonModule.directive("nvVideo",function(){return{restrict:"E",transclude:!0,scope:{nvSrc:"@",nvVideoType:"@",nvVideoLoaded:"&",nvVideoClose:"&",nvDefaultVideoControl:"@"},template:a.default,controller:"VideoController",controllerAs:"videoCtrl"}});t.nvVideo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.virtualGridListController=void 0;var r=n(1),o=r.ngMainCommonModule.controller("VirtualGridListController",["$element","$scope","eventAggregator","COMMON_EVENTS",function(e,t,n,r){function o(){return e[0].offsetWidth}function i(e,t){var n=e||1;return Math.floor(t/n)}function a(e,t){var n=e||1;return Math.ceil(t/n)}function s(e,t,n){v[e]||(v[e]=[]);var r,o,i=v[e];for(i.length=0,r=0;r<t;r++){if(o=e*t+r,o>=n.getLength())return i;i.push(n.getItemAtIndex(o))}return i}function l(e){var t,n;if(e>v.length)for(n=e-v.length,t=0;t<n;t++)v.push([]);v.length=e,v[v.length-1]=[]}function c(e,n){var r,o,i=a(n,e.getLength());for(l(i),t.nvVirtualGridListItems=v,r=0;r<i;r++)o=s(r,n,e),t.nvVirtualGridListItems[r]=o}function u(e,n){var r=a(n,e.getLength());l(r),t.nvVirtualGridListItems={getLength:function(){return r},getItemAtIndex:function(t){return s(t,n,e)}}}function d(e){var t=!1;e.columnCount&&e.columnCount!==p.columnCount&&(p.columnCount=e.columnCount,t=!0),e.itemWidth&&e.itemWidth!==p.itemWidth&&(p.itemWidth=e.itemWidth),e.list&&e.list!==p.list&&(p.list=e.list,"[object Array]"===Object.prototype.toString.call(p.list)&&(p.list={getLength:function(){return e.list.length},getItemAtIndex:function(t){return e.list[t]}}),t=!0),p.list.getLength()!=p.listLength&&(p.listLength=p.list.getLength(),t=!0);var n=i(p.itemWidth,o());n!==p.columnCount&&(p.columnCount=n,t=!0),t&&this.refreshFn(p.list,p.columnCount)}function f(){n.on(r.WINDOW_RESIZE,g)}function m(){n.off(r.WINDOW_RESIZE,g)}var g,p={list:{getLength:function(){return 0},getItemAtIndex:angular.noop},columnCount:0,itemWidth:0,listLength:0},v=[];t.nvVirtualGridListItems={getLength:function(){return 0},getItemAtIndex:function(e){return null}},this.initialize=function(e){this.refresh=d.bind({refreshFn:e?u:c})},this.refresh=angular.noop,this.resize=function(e){var n=i(p.itemWidth,o());n!==p.columnCount&&this.refresh({columnCount:n}),t.$apply()},this.getRowCount=function(){return a(p.columnCount,p.list.getLength())},g=this.resize.bind(this),t.$on("$destroy",m),f()}]);t.virtualGridListController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvVirtualGridListItem=t.nvVirtualGridListRepeat=t.nvVirtualGridList=void 0;var r=n(1);n(264);var o=r.ngMainCommonModule.directive("nvVirtualGridList",function(){return{restrict:"E",template:function(e){return e[0].innerHTML},controller:"VirtualGridListController"}}),i=r.ngMainCommonModule.directive("nvVirtualGridListRepeat",["$document","_","$compile",function(e,t,n){function r(e){var t,n,r,o,i;if(t=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!t)throw new Error('Expected expression in form of "_item_ in _collection_[ track by _id_]" but got {0}',e);return n=t[1],r=t[2],o=t[3],i=t[4],{key:n,collection:r,aliasAs:o,trackBy:i}}function o(t,n,o,i){var a=r(n.attr("nv-virtual-grid-list-repeat")),c=i,u=void 0!==n.attr("nv-on-demand"),d=parseInt(s)+parseInt(l);e.ready(function(){var e=n[0].offsetWidth,r=Math.floor(e/d);c.initialize(u),c.refresh({list:t.$eval(a.collection),itemWidth:d,columnCount:r}),t.$watchCollection(function(){return t.$eval(a.collection)},function(e,n){e&&c.refresh({list:t.$eval(a.collection)})})})}function i(t,n,r,o){for(var i=e[0].styleSheets,a=n.attr("nv-repeat-item-class"),c=0,u=i.length;c<u;c++){var d=i[c];if(d.cssRules)for(var f=0,m=d.cssRules.length;f<m;f++){var g=d.cssRules[f];if(g.selectorText&&g.selectorText.split(",").indexOf("."+a)!==-1)return s=g.style["max-width"],void(l=g.style["margin-right"])}}}function a(e){var t,n,o=r(e.attr("nv-virtual-grid-list-repeat")),i=void 0!==e.attr("nv-on-demand"),a=e[0].outerHTML,s=e.attr("nv-repeat-item-class"),l="",c=e.attr("nv-top-index"),u="";return t=o.key+" in row",o.aliasAs&&(t+=" alias as "+o.aliasAs),o.trackBy&&(t+=" track by "+o.trackBy),i&&(l="md-on-demand"),c&&(u='md-top-index="'+c+'"'),a=a.replace(/nv-virtual-grid-list-repeat=["'].*?['"]/g,""),n='<md-content layout="row" flex><md-virtual-repeat-container flex id="vertical-container" '+u+'><div md-virtual-repeat="row in nvVirtualGridListItems" layout="row" flex '+l+' class="'+s+'"><nv-virtual-grid-list-item ng-repeat="'+t+'">'+a+"</nv-virtual-grid-list-item></div></md-virtual-repeat-container></md-content>"}var s=null,l=null;return{restrict:"A",require:"^nvVirtualGridList",replace:!0,template:a,compile:function(e,t){return e.removeAttr("style"),e.removeAttr("class"),{pre:i,post:o}}}}]),a=r.ngMainCommonModule.directive("nvVirtualGridListItem",[function(){return{restrict:"E"}}]);t.nvVirtualGridList=o,t.nvVirtualGridListRepeat=i,t.nvVirtualGridListItem=a},,,,,,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.homeController=void 0;var o=n(4),i=r(o);n(7),n(25),n(12);var a=angular.module("main").controller("HomeController",["jarvisService","dbCacheService","DB_NAMES","eventAggregator","COMMON_GAME_EVENTS","$scope","toastService",function(e,t,n,r,o,a,s){function l(e){u.synchedViewState.classicViewEnabled=e===!0,u.synchedViewState.persist_()}function c(e){u.viewState.selectedGameId=e,u.viewState.persist_()}var u=this;u.user=e.getLoggedInUser();var d=i.debounce(l,500,!0);r.on(o.SELECTED_GAME_CHANGED,c),r.on(o.GAME_VIEW_CHANGED,d),a.$on("$destroy",function(){s.isOpen()&&s.cancel(),r.off(o.SELECTED_GAME_CHANGED,c),r.off(o.GAME_VIEW_CHANGED,d)}),u.viewState=t.getCachedUserItem(u.user.userId,n.VIEW_STORE,n.VIEW_STATE),u.synchedViewState=t.getCachedUserItem(u.user.userId,n.JARVIS_GFE_STORE,n.JARVIS_VIEW_STATE),u.unselectSelectedGame=function(e){r.trigger(o.SELECTED_GAME_CHANGED,null),e.stopPropagation()}}]);t.homeController=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvHome=void 0,n(332),n(326);var o=n(563),i=r(o);n(271);var a=angular.module("main").directive("nvHome",function(){return{restrict:"E",scope:{},template:i.default,controller:"HomeController",controllerAs:"homeCtrl",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvHome=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mainController=void 0,n(63);var r=angular.module("main").controller("MainController",["cefService","WINDOW_STYLES","eventAggregator","gfeUpdatesEndpoints","GFE_SOCK_MESSAGE","$log",function(e,t,n,r,o,i){var a=this;a.newVersionAvailable=!1;var s=i.getInstance("main/MainController");a.isWindowsOS=function(){return e.getWindowStyle()===t.WINDOWS},n.on(o.NEW_VERSION_AVAIL,function(e){a.downloadInfo=e,a.newVersionAvailable=!0}),a.install=function(){r.startInstall("",a.downloadInfo.downloadedLocation).then(function(){e.windowClose()},function(e){s.error("install trigger from main failed "+e)})}}]);t.mainController=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainTabButton=void 0;var o=n(564),i=r(o),a=angular.module("main").directive("nvMainTabButton",["$state",function(e){return{restrict:"E",scope:{nvMdIcon:"@",nvLabel:"@",nvState:"@",nvParam:"=",nvDisabled:"@"},template:i.default,link:function(t,n,r){function o(){i.addClass(s),a.addClass(s)}var i=angular.element(n.find("md-icon")),a=angular.element(n.find("span")),s="md-accent foreground";t.$on("$stateChangeSuccess",function(e,n,r,l,c){n.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled?o():(i.removeClass(s),a.removeClass(s))}),e.current.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled&&o(),n.bind("click",function(n){"true"!==t.nvDisabled&&e.go(t.nvState,t.nvParam)})}}}]);t.nvMainTabButton=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainTabIcon=void 0;var o=n(565),i=r(o);n(16);var a=angular.module("main").directive("nvMainTabIcon",["$state","$log",function(e,t){t.getInstance("main/mainTabIcon");return{restrict:"E",scope:{nvMdIcon:"@",nvState:"@",nvToolTip:"@",nvParam:"=",nvDisabled:"@",nvCustomIcon:"@",nvTabIconClicked:"&",nvChangeIconColor:"@",nvShareAddonLoaded:"="},template:i.default,link:function(t,n,r){function o(){i.addClass(a)}var i=angular.element(n.find("md-icon")),a="md-accent foreground",s={opacity:"0.9"},l={opacity:"0.75"},c={opacity:"1"},u={opacity:"0.4"},d={color:"#76b900"},f={color:""};t.$on("$stateChangeSuccess",function(e,n,r,s,l){n.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled?o():i.removeClass(a)}),e.current.name.indexOf(t.nvState)>-1&&"true"!==t.nvDisabled&&o(),t.$watch("nvDisabled",function(e,n){_.isUndefined(t.nvState)&&"true"===e?i.css(u):_.isUndefined(t.nvState)&&e!==n&&"false"===e&&i.css(l)}),n.bind("click",function(n){e.current.name.indexOf(t.nvState)===-1&&"true"!==t.nvDisabled&&(_.isUndefined(t.nvState)?("true"===t.nvShareAddonLoaded&&i.css(d),i.css(c),t.nvTabIconClicked()):e.go(t.nvState,t.nvParam))}),n.bind("mouseenter",function(e){_.isUndefined(t.nvState)&&"true"!==t.nvDisabled&&i.css(s)}),n.bind("mouseleave",function(e){_.isUndefined(t.nvState)&&"true"!==t.nvDisabled&&i.css(l)}),t.$watch("nvChangeIconColor",function(e,t){"true"===e?i.css(d):i.css(f)})}}}]);t.nvMainTabIcon=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(7),n(12),n(19),n(24),n(90),n(16);var o=n(138);r(o);n(126),n(98);angular.module("main").controller("MainToolbarController",["$scope","jarvisService","gfeService","CHECK_FOR_UPDATE","eventAggregator","COMMON_EVENTS","dbCacheService","DB_NAMES","$log","hardwareService","preferencesService","toastService","$filter","socketService","SHARE_SOCKET_EVENTS","$document","$timeout","REWARDS_EVENTS","$state","gfwslEndpoints","COMMON_HTTP_ERROR_CODES","dialogService","PREFERENCES_EVENTS","DEFAULT_AVATAR",function(e,t,n,r,o,i,a,s,l,c,u,d,f,m,g,p,v,h,y,b,S,E,_,A){function w(){var e=t.getLoggedInUser();e?(F.displayName=e.core.displayName,F.avatar=a.getCachedUserItem(e.userId,s.JARVIS_GFE_STORE,s.JARVIS_AVATAR)):(F.displayName=null,F.avatar={url:A.URL}),v(function(){var e=angular.element(p[0].querySelector(".md-toolbar-tools")),t=angular.element(e[0].querySelector(".display-name"));F.showTooltip=t[0].scrollWidth>t[0].offsetWidth})}function I(){u.isShareFeatureSupportedOnSystem().then(function(e){F.isShareSupported=e,F.isShareSupported&&(F.shareLoaded=u.shareAddonLoaded),U.info("isShareFeatureSupportedOnSystem response: ",F.isShareSupported)},function(e){U.error("isShareFeatureSupported failed.")})}function C(){u.getShareRunningStatus().then(function(e){F.isShareRunning=e},function(e){F.isShareRunning=!1,F.isShareButtonDisabled=!1,U.error("getShareRunningStatus failed.")})}function x(e){U.info("onSysInfoUpdated ",e.DriverVersion),F.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),I()}function T(){d.showError({textContent:f("translate")("l10n.openShareFailure")})}function O(e){F.isShareButtonDisabled=e,C()}function M(e){F.rewardsFeatureEnabled=e,U.info("Setting rewards feature enabled to: ",F.rewardsFeatureEnabled)}function D(){var e={gfwslParams:{cmID:"GFE_ENABLE_NOTIFICATIONS"}};b.feature.getNotificationsFeature(e).then(function(e){e&&e.data&&e.data.html&&e.data.html.body&&(F.notificationsEnabled=JSON.parse(e.data.html.body.sessionState.overallState))}).catch(function(e){U.error("gfwsl target notifications failed with error:",e)})}function N(e){F.shareLoaded=JSON.parse(e.shareAddonLoaded),U.info("Share node addon loaded event status: ",F.shareLoaded)}function R(){o.on(_.NODE_ADDONS_FETCHED,N),o.on(i.LOGIN_STATUS_CHANGE,w),o.on(i.SYSTEMINFO_UPDATED,x),o.on(i.SHARE_STATUS_CHANGE_IN_PROGRESS,O),o.on(i.OSC_READY,k),o.on(h.FEATURE_STATUS_UPDATED,M),m.register(g.OSCREADY_UPDATE,i.OSC_READY),F.logout=n.logout,F.checkforUpdate={updateState:r},F.devFeatures=a.getCachedGlobalItem(s.DEV_STORE,s.DEV_FEATURES),w(),I(),C(),D()}function P(){F.isShareButtonClicked=!1,o.trigger(i.SHARE_OPEN_IN_PROGRESS,F.isShareButtonClicked),u.showOnscreenOverlay(!0).then(function(e){U.info("showOnscreenOverlay status: ",e),d.cancel(),F.isShareButtonDisabled=!1},function(e){U.error("showOnscreenOverlay failed."),T(),F.isShareButtonDisabled=!1})}function k(e){F.isShareButtonDisabled=!1,F.isShareRunning=!0,F.isShareButtonClicked&&(U.info("socket event OSCREADY_UPDATE",e),e.ready?P():(U.info("OSC is not ready."),T()))}function L(){E.show("nv-dialog-text",{title:"l10n.shareNotReady",style:"feature-error-dialog",text:"l10n.featureErrorMessage",button1:{text:"l10n.gotItText",action:E.cancel}})}function G(){o.off(_.NODE_ADDONS_FETCHED,N),o.off(i.LOGIN_STATUS_CHANGE,w),o.off(i.SYSTEMINFO_UPDATED,x),o.off(i.OSC_READY,k),o.off(i.SHARE_STATUS_CHANGE_IN_PROGRESS,O)}var F=this;F.driverless=!1,F.isShareSupported=!1,F.isShareButtonClicked=!1,F.isShareButtonDisabled=!1,F.isShareRunning=!1,F.showTooltip=!1,F.rewardsFeatureEnabled=!1,F.notificationsEnabled=!1,F.shareLoaded=!1,F.defaultAvatarUrl=A.URL;var U=l.getInstance("main/MainToolbarController");c.getSystemInfo().then(function(e){F.driverless=e&&(!e.DriverVersion||""===e.DriverVersion),U.info("driverless:",F.driverless)},function(e){U.error("failed to get systemInfo")}),F.enableAndLaunchShare=function(){F.isShareButtonClicked=!0,F.isShareButtonDisabled=!0,o.trigger(i.SHARE_OPEN_IN_PROGRESS,F.isShareButtonClicked),u.getShareRunningStatus().then(function(e){U.info("getShareRunningStatus returned: ",e),e?(d.show({textContent:f("translate")("l10n.launchingShareToast"),showProgressIndicator:!0,hideDelay:2e3}),P()):u.toggleShareState(!0).then(function(e){U.info("Enabling Share, toggleShareState status: ",e),d.show({textContent:f("translate")("l10n.launchingShareToast"),showProgressIndicator:!0,hideDelay:2e3}),o.trigger(i.SHARE_STATUS_CHANGED)},function(e){U.error("toggleShareState failed."),o.trigger(i.SHARE_STATUS_CHANGED),T(),F.isShareButtonClicked=!1,o.trigger(i.SHARE_OPEN_IN_PROGRESS,F.isShareButtonClicked),F.isShareButtonDisabled=!1})},function(e){U.error("getShareRunningStatus failed."),F.isShareButtonClicked=!1,o.trigger(i.SHARE_OPEN_IN_PROGRESS,F.isShareButtonClicked),F.isShareButtonDisabled=!1,F.shareLoaded||e.status!==S.NOT_FOUND||L(),F.isShareRunning=!1})},F.onClickRedeem=function(e){n.onlineState&&n.onlineState.online?y.go("main.auth.rewards"):d.showOffline()},R(),e.$on("$destroy",G)}])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMainToolbar=void 0,n(275),n(274),n(365),n(488),n(249);var o=n(566),i=r(o);n(276);var a=angular.module("main").directive("nvMainToolbar",function(){return{restrict:"E",scope:{},template:i.default,controller:"MainToolbarController",controllerAs:"mainToolbarCtrl"}});t.nvMainToolbar=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvMain=t.ngMainModule=void 0;var o=n(96);n(116),n(277),n(244);var i=n(567),a=r(i);n(273);var s=o.ngMainModule.directive("nvMain",function(){return{restrict:"E",scope:{},template:a.default,controller:"MainController",controllerAs:"main"}});t.ngMainModule=o.ngMainModule,t.nvMain=s},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendAboutController=void 0;var r=n(10);n(26);var o=r.ngFriendsModule.controller("FriendAboutController",["$state","$log","friendsService",function(e,t,r){var o=this,i=e.params.userId,a=r.getUserAbout(i),s=0,l=5,c=t.getInstance("main.friends/FriendAboutController");o.loadRatingImage=function(e){return n(216)("./"+e+".svg")},a.then(function(e){var t=e[0]||{general:{reputation:0}};o.userAboutGeneral=t.general,o.userAboutSpecification=t.specification,o.getArray=function(){o.userAboutGeneral.reputation=o.userAboutGeneral.reputation<s?s:o.userAboutGeneral.reputation,o.userAboutGeneral.reputation=o.userAboutGeneral.reputation>l?l:o.userAboutGeneral.reputation;for(var e=[],t=s;t<l;t++)e.push(t<o.userAboutGeneral.reputation?"gold":"gray");return e}},function(e){c.error("fetching user about failed with status: "+e.status)})}]);t.friendAboutController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendAbout=void 0;var o=n(10),i=n(571),a=r(i);n(290);var s=o.ngFriendsModule.directive("nvFriendAbout",function(){return{restrict:"E",template:a.default,controller:"FriendAboutController",controllerAs:"friendAbout"}});t.nvFriendAbout=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendAchievementsController=void 0;var r=n(10);n(26);var o=r.ngFriendsModule.controller("FriendAchievementsController",["$log","$state","friendsService",function(e,t,n){var r=t.params.userId,o=n.getUserAchievements(r),i=this,a=e.getInstance("main.friends/FriendAchievementsController"),s=function(e){return i.userAchievements=e,i};o.then(function(e){var t=e[0]?e[0].achievements:[];s(t)},function(e){a.error("fetching user achievements failed with status: "+e.status),s([{}])})}]);t.friendAchievementsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendAchievements=void 0;var o=n(10),i=n(572),a=r(i);n(292);var s=o.ngFriendsModule.directive("nvFriendAchievements",function(){return{restrict:"E",template:a.default,controller:"FriendAchievementsController",controllerAs:"vm"}});t.nvFriendAchievements=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendActivityFeedController=void 0;var r=n(10),o=r.ngFriendsModule.controller("FriendActivityFeedController",[function(){}]);t.friendActivityFeedController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendActivityFeed=void 0;var o=n(10),i=n(573),a=r(i);n(294);var s=o.ngFriendsModule.directive("nvFriendActivityFeed",function(){return{restrict:"E",template:a.default,controller:"FriendActivityFeedController",controllerAs:"friendActivityFeed"}});t.nvFriendActivityFeed=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.friendBroadcastController=void 0;var o=n(4),i=r(o),a=n(10);n(26),n(129),n(25);var s=a.ngFriendsModule.controller("FriendBroadcastController",["$state","friendsService","shareService","localStorage",function(e,t,n,r){function o(){t.getUser(e.params.userId).then(function(e){s.selectedUser=e;var t=i.chain(e.statuses).filter(function(e){return"broadcasting"===e.activity}).sortBy(function(e){return e.data.portal===a?0:1}).value();t.length>0?(s.broadcastStatus=t[0],s.view="broadcast",s.translateInterpolation.displayName=s.broadcastStatus.data.game.displayName):(s.broadcastStatus=null,s.view="image")})}var a,s=this;s.view="image",s.translateInterpolation={},r.get("commonPreferredPortal").then(function(e){a=e.commonPreferredPortal,o()}),s.watchBroadcast=function(){n.watchBroadcast(e.params.userId)}}]);t.friendBroadcastController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendBroadcast=void 0;var o=n(10);n(13);var i=n(574),a=r(i);n(296);var s=o.ngFriendsModule.directive("nvFriendBroadcast",function(){return{restrict:"E",template:a.default,controller:"FriendBroadcastController",controllerAs:"friendBroadcast"}});t.nvFriendBroadcast=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendCompareGamesController=void 0;var r=n(10),o=r.ngFriendsModule.controller("FriendCompareGamesController",[function(){}]);t.friendCompareGamesController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendCompareGames=void 0;var o=n(10),i=n(575),a=r(i);n(298);var s=o.ngFriendsModule.directive("nvFriendCompareGames",function(){return{restrict:"E",template:a.default,controller:"FriendCompareGamesController",controllerAs:"friendCompareGames"}});t.nvFriendCompareGames=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendDetailsController=void 0;var r=n(10);n(26);var o=r.ngFriendsModule.controller("FriendDetailsController",["$log","$stateParams","friendsService",function(e,t,n){var r=this;r.friendTitle="friendTitle";e.getInstance("main.friends/FriendDetailsController");r.user={userId:t.userId},n.getUser(r.user.userId).then(function(e){r.user=e})}]);t.friendDetailsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendDetails=void 0;var o=n(10);n(297),n(303),n(299),n(293),n(295),n(291),n(307),n(305);var i=n(576),a=r(i);n(300);var s=o.ngFriendsModule.directive("nvFriendDetails",function(){return{restrict:"E",scope:{},template:a.default,controller:"FriendDetailsController",controllerAs:"friendDetails"}});t.nvFriendDetails=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.friendGameSummaryController=void 0;var o=n(726),i=r(o),a=n(727),s=r(a),l=n(4),c=r(l),u=n(10);n(26);var d=u.ngFriendsModule.controller("FriendGameSummaryController",["$state","$filter","friendsService","FRIENDS_MAX_GENRES","FRIENDS_CHART_COLORS",function(e,t,n,r,o){var a,l=this,u="other";l.rectColor=function(e){return{"background-color":o[e]}},l.showChart=function(){return a>0},l.translateInterpolation=function(){return{numGames:a}},n.getUserGames(e.params.userId).then(function(e){var n,d=1;l.data=c.chain(e).groupBy(function(e){return e.genre&&""!==e.genre||(e.genre=u),e.genre}).map(function(e,t){return e}).sortBy(function(e){return-e.length}).tap(function(e){n=e.length}).groupBy(function(e,t){return e[0].genre===u&&(d=0),n>r&&t>=r-d?u:e[0].genre}).map(function(e,n){var r=c.flatten(e);return{label:t("translate")("l10n.genre."+n),value:r.length,data:r}}).value(),a=e.length,s.addGraph(function(){var e=s.models.pieChart().x(function(e){return e.label}).y(function(e){return e.value}).color(o).showLegend(!1).showLabels(!1).donut(!0).donutRatio(.6).valueFormat(i.format(",.0d")),t=i.select("#donut-chart svg").datum(l.data).transition().duration(1200).call(e);return t.style({"stoke-width":"9px"}),e})})}]);t.friendGameSummaryController=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendGameSummary=void 0;var o=n(10);n(111);var i=n(577),a=r(i);n(302);var s=o.ngFriendsModule.directive("nvFriendGameSummary",function(){return{restrict:"E",template:a.default,controller:"FriendGameSummaryController",controllerAs:"friendGameSummary"}});t.nvFriendGameSummary=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendGroupListController=void 0;var r=n(10);n(26);var o=r.ngFriendsModule.controller("FriendGroupListController",["friendsService","$scope",function(e,t){var n=this;n.groupList=[],
t.nvUserId?e.getUserGroups(t.nvUserId).then(function(e){n.groupList=e}):n.groupList=[]}]);t.friendGroupListController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendGroupList=void 0;var o=n(10);n(21);var i=n(579),a=r(i),s=n(578),l=r(s);n(304);var c=o.ngFriendsModule.directive("nvFriendGroupList",[function(){return{restrict:"E",scope:{nvUserId:"@"},template:function(e,t){return"grid"===t.nvType?l.default:a.default},controller:"FriendGroupListController",controllerAs:"groups"}}]);t.nvFriendGroupList=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.friendListController=void 0;var r=n(10);n(26),n(118),n(129),n(25);var o=r.ngFriendsModule.controller("FriendListController",["$scope","friendsService","friendsUtilityService","shareService","localStorage","FRIENDS_DEFAULTS",function(e,t,n,r,o,i){function a(){t.getUserFriends(e.nvUserId).then(function(e){d.friendList=e})}function s(e){return e?e.core.displayName:""}function l(e){if(e.statuses.length>0){if("broadcasting"===e.statuses[0].activity)return 0;if("playing"===e.statuses[0].activity)return 1;if("online"===e.statuses[0].activity)return 2}return 3}function c(){"activity"===f?d.sort=l:d.sort=s}function u(){d.filter=function(e,t,r){var o=!1;return angular.forEach(m[d.filterType],function(t,r){if(n.getStatus(e).activity===t)return void(o=!0)}),o}}var d=this,f="",m={all:["broadcasting","playing","online","offline"],online:["broadcasting","online","playing"],broadcasting:["broadcasting"],playing:["broadcasting","playing"],offline:["offline"]};o.get({friendsSortType:i.SORT,friendsFilterType:i.FILTER}).then(function(e){f=e.friendsSortType,d.filterType=e.friendsFilterType,c(),u(),a()}),d.showWatchBroadcast=function(e){return"broadcasting"===n.getStatus(e).activity},d.showAskToPlay=function(e){var t=n.getStatus(e).activity;return"broadcasting"===t||"playing"===t},d.showChat=function(e){return"offline"!==n.getStatus(e).activity},d.watchBroadcast=function(e){r.watchBroadcast(e)},d.offlineClass=function(e){return"offline"===n.getStatus(e).activity?"darkened":""},d.askToPlay=function(e){r.askToPlay(e)},d.setSort=function(e){f=e,o.set({friendsSortType:f}),c()},d.matchSort=function(e){return f===e},d.setFilter=function(e){d.filterType=e,o.set({friendsFilterType:d.filterType}),u()},d.matchFilter=function(e){return d.filterType===e},d.getActivityString=n.getActivityString,d.getActivityDynamicValues=n.getActivityDynamicValues}]);t.friendListController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFriendList=void 0;var o=n(10);n(40),n(115),n(265),n(21);var i=n(581),a=r(i),s=n(580),l=r(s);n(306);var c=o.ngFriendsModule.directive("nvFriendList",[function(){return{restrict:"E",scope:{nvUserId:"@"},template:function(e,t){return"grid"===t.nvType?l.default:a.default},controller:"FriendListController",controllerAs:"friends"}}]);t.nvFriendList=c},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryLibrary=void 0;var o=n(17);n(317);var i=n(584),a=r(i),s=o.ngGalleryModule.directive("nvGalleryLibrary",function(){return{restrict:"E",template:a.default}});t.nvGalleryLibrary=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryMain=void 0;var o=n(17);n(315),n(320);var i=n(585),a=r(i),s=o.ngGalleryModule.directive("nvGalleryMain",function(){return{restrict:"E",template:a.default}});t.nvGalleryMain=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.galleryMomentsController=void 0;var o=n(687),i=r(o),a=n(17);n(172);var s=a.ngGalleryModule.controller("GalleryMomentsController",["galleryService","$filter","GAME_FILE_TYPE",function(e,t,n){var r=this;r.galleryList=[],r.sortPredicate="modifiedTime",r.sortReverse=!0,r.filterObj={},r.fileType=n,e.getGalleryItems().then(function(e){r.galleryList=t("orderBy")(e,r.sortPredicate,r.sortReverse)}),r.sortGalleryList=function(e,n){r.sortPredicate=e,r.sortReverse=n,r.galleryList=t("orderBy")(r.galleryList,e,n)},r.isSortType=function(e){return e===r.sortPredicate},r.setFilterType=function(e){r.filterObj=e},r.isFilterType=function(e){if("all"===e){if(0===(0,i.default)(r.filterObj).length)return!0}else if(r.filterObj.fileType===e)return!0;return!1}}]);t.galleryMomentsController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryMoments=void 0;var o=n(17);n(40),n(312),n(318),n(325);var i=n(586),a=r(i);n(314);var s=o.ngGalleryModule.directive("nvGalleryMoments",function(){return{restrict:"E",template:a.default,controller:"GalleryMomentsController",controllerAs:"galleryMoments"}});t.nvGalleryMoments=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryPanelController=void 0;var r=n(17),o=r.ngGalleryModule.controller("GalleryPanelController",["$scope","$filter","eventAggregator","COMMON_EVENTS",function(e,t,n,r){function o(){e.$apply()}function i(){n.on(r.WINDOW_RESIZE,o)}function a(){n.off(r.WINDOW_RESIZE,o)}var s=this;s.galleryFolder=e.nvGalleryFolder,s.isExpanded=!1,s.showMediaInfo=!1,s.tileLimit=e.nvTileLimit,s.filteredObj={},s.filterObj=function(){angular.isDefined(s.galleryFolder)&&(s.filteredObj=t("filter")(s.galleryFolder.files,e.nvFilterObject))},s.filterObj(),s.setMediaInfoVisible=function(e){s.showMediaInfo=e},s.isFolderEmpty=function(){return 0===s.filteredObj.length},s.tilesRemaining=function(){return s.filteredObj.length-s.tileLimit},s.showExpandInfo=function(){return s.showMediaInfo&&s.tilesRemaining()>0};var l=function(){s.isExpanded?s.limitTo=s.filteredObj.length:s.limitTo=s.tileLimit};s.showMoreTiles=function(){s.isExpanded=!s.isExpanded,l()},e.$watch("nvTileLimit",function(){s.tileLimit=e.nvTileLimit,l()}),e.$watch("nvFilterObject",function(){s.filterObj(),l()}),e.$on("$destroy",a),i()}]);t.galleryPanelController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryPanel=void 0;var o=n(17);n(324);var i=n(587),a=r(i);n(316);var s=o.ngGalleryModule.directive("nvGalleryPanel",["$timeout","eventAggregator","COMMON_EVENTS",function(e,t,n){return{restrict:"E",scope:{nvGalleryFolder:"=",nvFilterObject:"=",nvTileLimit:"="},template:a.default,link:function(r,o,i){function a(){t.on(n.WINDOW_RESIZE,d)}function s(){t.off(n.WINDOW_RESIZE,d)}var l=angular.element(o.children()[0]);o.on("mouseenter",function(e){l.addClass("md-primary md-hue-3 focused")}),o.on("mouseleave",function(e){l.removeClass("md-primary md-hue-3 focused")});var c=0,u=function(){var e=o.find("nv-gallery-tile")[0];e&&(c=e.getBoundingClientRect().width)},d=function(){var e=o.find("div")[0].clientWidth;r.nvTileLimit=Math.floor(e/c)};e(function(){u(),d()}),r.$on("$destroy",s),a()},controller:"GalleryPanelController",controllerAs:"galleryPanel"}}]);t.nvGalleryPanel=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryPreview=void 0;var o=n(17),i=n(588),a=r(i),s=o.ngGalleryModule.directive("nvGalleryPreview",function(){return{restrict:"E",template:a.default}});t.nvGalleryPreview=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.galleryShowcaseController=void 0;var o=n(4),i=r(o),a=n(17);n(172),n(7);var s=a.ngGalleryModule.controller("GalleryShowcaseController",["galleryService","$filter","jarvisService","SHOWCASE_ORIGIN","$log",function(e,t,n,r,o){var a=this,s=n.getLoggedInUser();a.sortPredicate="snippet.publishedAt",a.sortReverse=!0;var l=o.getInstance("main.gallery/GalleryShowcaseController");a.galleryShowcaseList=[],s&&e.getGalleryShowcaseItems(s.userId).then(function(n){var o,s;angular.isDefined(n)&&(o=i.pluck(n.files,"originalId").join(","),s={id:o},e.listVideos(s).then(function(e){i.each(e.items,function(e){e.origin=r.YOUTUBE}),a.galleryShowcaseList=e.items,a.galleryShowcaseList=t("orderBy")(a.galleryShowcaseList,a.sortPredicate,a.sortReverse)},function(e){l.error("galleryService.listVideos failed: "+e)}))},function(e){l.error("galleryService.getGalleryShowcaseItems failed: "+e)}),a.sortShowcaseList=function(e,n){a.sortPredicate=e,a.sortReverse=n,a.galleryShowcaseList=t("orderBy")(a.galleryShowcaseList,e,n)},a.isSortType=function(e){return e===a.sortPredicate}}]);t.galleryShowcaseController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryShowcase=void 0;var o=n(17);n(40),n(322);var i=n(589),a=r(i);n(319);var s=o.ngGalleryModule.directive("nvGalleryShowcase",function(){return{restrict:"E",template:a.default,controller:"GalleryShowcaseController",controllerAs:"galleryShowcase"}});t.nvGalleryShowcase=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryShowcaseTileController=void 0;var r=n(17),o=r.ngGalleryModule.controller("GalleryShowcaseTileController",["$scope",function(e){var t=this;t.overlayVisible=!1,t.buttonsVisible=!1,t.showcaseItem=e.nvGalleryShowcaseItem,t.showOverlay=function(){return t.overlayVisible?"":"no-background"},t.showButtons=function(){return t.buttonsVisible?"":"invisible"},t.mouseHover=function(e){t.overlayVisible=e,t.buttonsVisible=e}}]);t.galleryShowcaseTileController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryShowcaseTile=void 0;var o=n(17);n(13),n(21);var i=n(590),a=r(i);n(321);var s=o.ngGalleryModule.directive("nvGalleryShowcaseTile",function(){return{restrict:"E",scope:{nvGalleryShowcaseItem:"="},template:a.default,controller:"GalleryShowcaseTileController",controllerAs:"galleryShowcaseTile"}});t.nvGalleryShowcaseTile=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.galleryTileController=void 0;var r=n(17);n(173),n(113);var o=r.ngGalleryModule.controller("GalleryTileController",["$scope","GAME_FILE_TYPE","$log","mediaDialogService",function(e,t,n,r){var o=this;o.galleryFile=e.nvGalleryFile,o.overlayVisible=!1,o.buttonsVisible=!1;n.getInstance("main.gallery/GalleryTileController");o.isImage=function(e){return e===t.IMAGE},o.isVideo=function(e){return e===t.VIDEO},o.previewMedia=function(e){var n=r.customPreset().toolbarHtml("<nv-media-preview-toolbar></nv-media-preview-toolbar>").event(e);o.galleryFile.fileType===t.IMAGE?n=n.image(o.galleryFile.filePath):o.galleryFile.fileType===t.VIDEO&&(n=n.video({source:o.galleryFile.filePath})),r.show(n)},o.showOverlay=function(){return o.overlayVisible?"":"no-background"},o.showButtons=function(){return o.buttonsVisible?"":"invisible"},o.mouseHover=function(e){o.overlayVisible=e,o.buttonsVisible=e},o.editMedia=function(e){return e.stopPropagation(),!1},o.shareMedia=function(){return!1},o.deleteMedia=function(){return!1},o.mediaDetail=function(){return!1}}]);t.galleryTileController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryTile=void 0;var o=n(17);n(13),n(21);var i=n(591),a=r(i);n(323);var s=o.ngGalleryModule.directive("nvGalleryTile",function(){return{restrict:"E",scope:{nvGalleryFile:"="},template:a.default,controller:"GalleryTileController",controllerAs:"galleryTile"}});t.nvGalleryTile=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGalleryTimeline=void 0;var o=n(17),i=n(592),a=r(i),s=o.ngGalleryModule.directive("nvGalleryTimeline",function(){return{restrict:"E",template:a.default}});t.nvGalleryTimeline=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvClassicGameList=void 0;var o=n(11);n(12),n(7),n(40),n(115),n(13),n(61),n(119),n(21),n(29),n(174);var i=n(594),a=r(i);n(175);var s=o.ngGamesModule.directive("nvClassicGameList",["eventAggregator","COMMON_GAME_EVENTS","$log",function(e,t,n){return{restrict:"E",scope:{nvUserId:"@",nvSelectedGameId:"="},template:a.default,controller:"GameListController",controllerAs:"games",link:function(r,o){function i(e){this.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function a(e){var t=e.topIndex>0,n=Math.ceil(c.offsetHeight/34),r=e.topIndex+n!==e.gamesCount;i.call(u,t),i.call(d,r)}function s(){c&&e.on(t.GAME_LIST_TOP_INDEX_CHANGED,a)}function l(){c&&e.off(t.GAME_LIST_TOP_INDEX_CHANGED,a),c=null,u=null,d=null,o.empty(),o.remove(),o=null}var c=o[0].querySelector(".games-classic-game-list-items-container"),u=angular.element(o[0].querySelector(".classic-game-list-top-gradient")),d=angular.element(o[0].querySelector(".classic-game-list-bottom-gradient"));n.getInstance("main.gamesClassicGameListDirective");r.$on("$destroy",l),o.on("$destroy",function(){r.$destroy()}),s()}}}]);t.nvClassicGameList=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.customOpsController=void 0;var o=n(4),i=r(o),a=n(11);n(15);var s=a.ngGamesModule.controller("CustomOpsController",["$scope","$log","$filter","$document","$window","CUSTOM_OPS_CALLBACK_ACTION","$mdDialog","SETTING_TYPE","ASPECT_RATIO","eventAggregator","COMMON_GAME_EVENTS","GAME_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","COMMON_EVENTS","toastService",function(e,t,n,r,o,a,s,l,c,u,d,f,m,g,p,v){function h(){v.showError({textContent:n("translate")("l10n.unableToUpdateGameSettings")})}function y(){var e=angular.element(r[0].querySelector(".games-custom-ops"));G=angular.element(e[0].querySelector(".optimal-button-container")),F=angular.element(e[0].querySelector(".optimal-value-button")),U=angular.element(e[0].querySelector(".optimal-line-indicator"));var t=angular.element(r[0].querySelector(".games-game-optimization"))[0],n=o.getComputedStyle(t).getPropertyValue("margin-left"),i=o.getComputedStyle(t).getPropertyValue("margin-top"),a=angular.element(r[0].querySelector(".common-main-toolbar"))[0].offsetHeight,s=angular.element(r[0].querySelector(".game-details-toolbar"))[0].offsetHeight,l=0,c=0;if(k.nvClassicViewEnabled){var u=angular.element(r[0].querySelector(".games-classic-game-list")).find("md-toolbar")[0].offsetHeight;c=a+u+s+parseInt(i)+"px",e.css("top",c);var d=angular.element(r[0].querySelector(".games-classic-game-list-container"))[0];l="calc("+t.offsetWidth/2+"px + "+d.offsetWidth+"px + "+n+" - "+e[0].offsetWidth/2+"px)",e.css("left",l)}else c=a+s+parseInt(i)+"px",e.css("top",c),l="calc("+t.offsetWidth/2+"px + "+n+" - "+e[0].offsetWidth/2+"px)",e.css("left",l)}function b(){if(null===k.optimalSliderIndex||0===k.maxIndex)G.addClass("hidden");else{var e=V[0].clientWidth/(k.maxIndex-W),t=k.optimalSliderIndex*e+33,n=F[0].offsetWidth/2,r=t-n;r<0?r=0:r+F[0].offsetWidth>452&&(r=452-F[0].offsetWidth),F.css("left",Math.round(r)+"px"),U.css("left",Math.round(t)+"px"),G.removeClass("hidden")}}function S(){if(i.isNull(B)||B.clearRect(0,0,H,$.height),V){$=V[0].getBoundingClientRect(),H=$.width<384?384:$.width;var e=Math.floor((k.maxIndex-W)/1);B=z[0].getContext("2d"),z[0].width=H,z[0].height=$.height;for(var t,n=0;n<=e;n++)t=Math.round(H*(n/e)),B.fillStyle="#FFFFFF",B.fillRect(t-1,0,2,$.height)}}function E(t){var n;Y.info("handle settingsSpace update for game ",k.nvSystemGame.shortName),k.showErrorMessage=!1,k.customSettings=t,k.maxIndex=k.customSettings.settings.length-1,k.optimalSliderIndex=null,n=k.nvCurrentSettingType===l.SETTING_AC?k.customSettings.recommendationAC:k.customSettings.recommendationDC,angular.isDefined(n)&&(k.optimalSliderIndex=n.recommendedIndex),b(),S(),e.$applyAsync(function(){j?k.currentSliderIndex>k.maxIndex?k.currentSliderIndex=0:k.restoreOptimalSliderPosition&&(k.optimalSliderIndex&&(k.currentSliderIndex=k.optimalSliderIndex),k.restoreOptimalSliderPosition=!1):(j=!0,null===k.optimalSliderIndex?k.currentSliderIndex=0:k.currentSliderIndex=k.optimalSliderIndex,k.OpsTweakPosition&&(k.currentSliderIndex=k.OpsTweakPosition.settingsIndex)),k.currentSliderChanged(),k.showProgressIndicator=!1,k.controlDisabled=!1})}function _(e){Y.info("settingsSpace failed for game ",k.nvSystemGame.shortName),k.showProgressIndicator=!1,k.showErrorMessage=!0}function A(){k.selectedDisplayMode&&k.selectedResolution&&(Y.info("get custom settings for game ",k.nvSystemGame.shortName),k.controlDisabled=!0,q&&(q.cancel(),q=null),q=k.nvSystemGame.getSettingsSpace(k.selectedResolution,k.selectedDisplayMode.name),q.then(E).catch(_).finally(function(){q=null}))}function w(e){k.displayModes=k.nvGameSettingsTranslationData[e].values,k.displayModeRecommended=k.displayModes[k.displayModeRecommended],k.selectedDisplayMode=k.displayModes[k.selectedDisplayMode]}function I(){Y.info("refresh custom settings for game ",k.nvSystemGame.shortName);var e=k.nvSystemGame.getSliderSettings();if(e){var t;t=k.nvCurrentSettingType===l.SETTING_AC?e.AC:e.DC,k.resolutions=t.resolution.values,k.resolutionRecommended=k.resolutions[t.resolution.recommended],k.displayModes=t.displayMode.values,k.displayModeRecommended=k.displayModes[t.displayMode.recommended],k.nvCurrentSettingType===l.SETTING_AC?k.OpsTweakPosition=k.nvSystemGame.getOpsPositionAC():k.OpsTweakPosition=k.nvSystemGame.getOpsPositionDC(),k.OpsTweakPosition?(k.selectedDisplayMode=k.OpsTweakPosition.tweak.displayMode,k.selectedResolution=n("filter")(k.resolutions,{value:k.OpsTweakPosition.tweak.resolution})[0]):(k.selectedDisplayMode=k.displayModes[t.displayMode.recommended],k.selectedResolution=k.resolutions[t.resolution.recommended]),w(t.displayMode.settingName),k.groupResolutions(),A()}else Y.error("getSliderSettings empty for game id "+k.nvSystemGame.id)}function C(){var e=angular.element(r[0].querySelector(".game-setting-list-container")),t=angular.element(r[0].querySelector(".games-classic-game-list-container")),n=angular.element(r[0].querySelector(".game-details-toolbar")),o=angular.element(r.find("nv-feedback-float"));e.addClass("constants-z-layers-modal-plus-three"),t.addClass("constants-z-layers-modal-plus-three"),n.addClass("constants-z-layers-modal-plus-three"),o.addClass("constants-z-layers-modal-plus-three")}function x(e,t,n,r){var o=e/n,i=n*o,a=r*o,s=.07*i,l=.07*a;return e>=i-s&&e<=i+s&&t>=a-l&&t<=a+l}function T(e,t,n,r){if(e%n===0){var o=e/n;if(t%o===0&&t/o===r)return!0}return!1}function O(e,t,n){return n?c.HYPERSAMPLE:T(e,t,16,10)?c.WIDE_16_10:T(e,t,16,9)?c.WIDE_16_9:T(e,t,4,3)?c.STANDARD_4_3:T(e,t,5,4)?c.STANDARD_5_4:x(e,t,16,9)?c.WIDE_16_9:x(e,t,16,10)?c.WIDE_16_10:c.CUSTOM}function M(e){e.id===k.nvSystemGame.id&&(Y.info("state update for game ",k.nvSystemGame.shortName),I())}function D(){Y.info("selected game changed for game ",k.nvSystemGame.shortName),k.cancelCustomSettings()}function N(){S(),y(),b()}function R(){Y.info("Initializing custom ops dialog"),u.on(p.WINDOW_RESIZE,N),u.on(d.SELECTED_GAME_CHANGED,D),k.showProgressIndicator=!0}function P(){Y.info("Destroying custom ops dialog"),u.off(p.WINDOW_RESIZE,N),u.off(d.SELECTED_GAME_CHANGED,D),q&&(q.cancel(),q=null)}var k=this,L=null,G=null,F=null,U=null,V=null,z=null,B=null,$={},H=0,W=0,j=!1,q=null,Y=t.getInstance("main.games/CustomOpsController");k.showProgressIndicator=!1,k.controlDisabled=!0,k.customSettings=null,k.maxIndex=0,k.applyButtonDisabled=!1,k.selectedResolution=null,k.resolutionRecommended=null,k.resolutions=[],k.selectedDisplayMode=null,k.displayModeRecommended=null,k.displayModes=[],k.currentSliderIndex=0,k.optimalSliderIndex=null,k.OpsTweakPosition=null,k.showErrorMessage=!1,k.restoreOptimalSliderPosition=!1,Y.info("open custom ops for game ",k.nvSystemGame.shortName),k.getHeading=function(){return k.nvDesktopMode===!0?"l10n.customSettings":k.nvCurrentSettingType===l.SETTING_AC?"l10n.customSettingsPluggedIn":"l10n.customSettingsOnBattery"},k.isCurrentSettingTypeAC=function(){return k.nvCurrentSettingType===l.SETTING_AC},k.applyCustomSettings=function(){k.showProgressIndicator=!0,Y.info("applying custom ops for game",k.nvSystemGame.shortName),u.off(f.GAMESTATE_UPDATED,M),k.nvCurrentSettingType===l.SETTING_AC?(m.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_OPS),k.nvSystemGame.customizeAC(k.selectedResolution.value,k.selectedDisplayMode.name,k.currentSliderIndex).then(function(){m.push(g.GAMEOPTIMIZATIONS_APPLIED_CUSTOM_OPS,k.nvSystemGame.shortName),m.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_OPS)}).catch(function(e){h(),m.push(g.GAMEOPTIMIZATIONS_APPLY_CUSTOM_OPS_FAILED,k.nvSystemGame.shortName)}).finally(function(){k.showProgressIndicator=!1,s.hide()})):(m.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_BOPS),k.nvSystemGame.customizeDC(k.selectedResolution.value,k.selectedDisplayMode.name,k.currentSliderIndex).then(function(){m.push(g.GAMEOPTIMIZATIONS_APPLIED_CUSTOM_BOPS,k.nvSystemGame.shortName),m.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_CUSTOM_BOPS)}).catch(function(e){h(),m.push(g.GAMEOPTIMIZATIONS_APPLY_CUSTOM_BOPS_FAILED,k.nvSystemGame.shortName)}).finally(function(){k.showProgressIndicator=!1,s.hide()}))},k.cancelCustomSettings=function(){Y.info("leaving custom ops for game ",k.nvSystemGame.shortName),s.cancel()},k.applyOptimalValue=function(){Y.info("leaving optimal ops with slider index ",k.optimalSliderIndex),k.currentSliderIndex=k.optimalSliderIndex,k.currentSliderChanged()},k.isResolutionDisabled=function(){return k.resolutions.length<=1||k.controlDisabled},k.isDisplayModeDisabled=function(){return k.displayModes.length<=1||k.controlDisabled},k.getDisplayModeString=function(e){return e.name===k.displayModeRecommended.name?n("translate")("l10n.recommended",{string:e.translation}):e.translation},k.getResolutionString=function(e){return e.value===k.resolutionRecommended.value?n("translate")("l10n.recommended",{string:e.value}):e.value},k.resolutionOrDisplayModeChanged=function(){k.currentSliderIndex===k.optimalSliderIndex&&(k.restoreOptimalSliderPosition=!0),A()},k.currentSliderChanged=function(){k.nvCustomSettingsCallback&&k.customSettings?k.OpsTweakPosition&&k.OpsTweakPosition.tweak.displayMode===k.selectedDisplayMode.name&&k.OpsTweakPosition.tweak.resolution===k.selectedResolution.value&&k.OpsTweakPosition.settingsIndex===k.currentSliderIndex?(k.nvCustomSettingsCallback(a.APPLIED_SETTING_SELECTED),k.applyButtonDisabled=!0):(k.nvCustomSettingsCallback(a.CUSTOM_SETTINGS_UPDATED,{settings:k.customSettings.settings[k.currentSliderIndex],atOptimalPosition:k.currentSliderIndex===k.optimalSliderIndex}),k.applyButtonDisabled=!1):Y.error("Custom ops slider cannot be changed due to unvailable custom setting for game id",k.nvSystemGame.id)},r.ready(function(){Y.info("custom ops document ready for game ",k.nvSystemGame.shortName);var e=angular.element(r[0].querySelector(".games-custom-ops"));L=angular.element(e[0].querySelector(".md-track-ticks")),L.find("canvas").css("display","none"),z=angular.element("<canvas>").css("position","absolute"),L.append(z),L.css("display","block"),L.css("z-index","0"),V=angular.element(e[0].querySelector(".md-track-container")),G=angular.element(e[0].querySelector(".optimal-button-container")),y(),C(),I(),u.on(f.GAMESTATE_UPDATED,M)}),k.groupResolutions=function(){k.resolutions&&(k.resolutions=n("orderBy")(k.resolutions,"width",!0),k.resolutions=n("orderBy")(k.resolutions,function(e){return O(e.width,e.height,e.DSR)}))},k.showResolutionHeader=function(e){return 0===e||O(k.resolutions[e-1].width,k.resolutions[e-1].height,k.resolutions[e-1].DSR)!==O(k.resolutions[e].width,k.resolutions[e].height,k.resolutions[e].DSR)},k.resolutionHeader=function(e){var t=O(e.width,e.height,e.DSR);switch(t){case c.HYPERSAMPLE:return"l10n.dynamicSuperResolutions";case c.WIDE_16_10:return"l10n.wideScreen1610";case c.WIDE_16_9:return"l10n.wideScreen169";case c.STANDARD_4_3:return"l10n.standard43";case c.STANDARD_5_4:return"l10n.standard54";case c.CUSTOM:default:return"l10n.custom"}},e.$on("$stateChangeStart",function(e,t,n,r,o){Y.info("state changed in custom ops for game ",k.nvSystemGame.shortName),k.cancelCustomSettings()}),e.$on("$destroy",P),R()}]);t.customOpsController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvDsrInfo=void 0;var o=n(11),i=n(596),a=r(i),s=o.ngGamesModule.directive("nvDsrInfo",function(){return{restrict:"E",template:a.default,link:function(e,t){function n(){e.$destroy()}function r(){t&&(t.off("$destroy",n),t.empty(),t.remove(),t=null)}e.$on("$destroy",r),t.on("$destroy",n)}}});t.nvDsrInfo=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gameDetailPreviewController=void 0;var o=n(11);n(25);var i=n(601),a=r(i);n(336);var s=o.ngGamesModule.controller("GameDetailPreviewController",["$scope","$log","$mdDialog","dbCacheService","DB_NAMES",function(e,t,n,r,o){var i=this;i.userGame=e.nvUserGame,i.isGameOpsSupported=e.nvOpsSupported,i.userGame&&(i.gameTags=i.userGame.tags);var s=t.getInstance("main.games/GameDetailPreviewController");i.toggleFavorite=function(){i.userGame.favorite=!i.userGame.favorite},i.toggleVisibility=function(){i.userGame.hidden=!i.userGame.hidden},i.showTagsModalDialog=function(){n.show({controller:"GameTagsModalController",controllerAs:"tagsModal",template:a.default,disableParentScroll:!1,locals:{game:i.userGame},bindToController:!0}).then(function(e){angular.copy(e,i.gameTags)},function(){s.info("cancel was clicked on game details tag dialog")})},i.isPlayed=function(){return!(!i.userGame||!i.userGame.lastLaunchDate)},i.devFeatures=r.getCachedGlobalItem(o.DEV_STORE,o.DEV_FEATURES),e.$watch("nvUserGame",function(e){e&&(i.userGame=e,i.gameTags=i.userGame.tags)})}]);t.gameDetailPreviewController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameDetailPreview=void 0;var o=n(11);n(119),n(120),n(121),n(29);var i=n(597),a=r(i);n(329);var s=o.ngGamesModule.directive("nvGameDetailPreview",function(){return{restrict:"E",scope:{nvUserGame:"=",nvOpsSupported:"@"},template:a.default,controller:"GameDetailPreviewController",controllerAs:"gameDetailPreview"}});t.nvGameDetailPreview=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameDetailsController=void 0;var r=n(11);n(32),n(62),n(12),n(7),n(60),n(16);var o=r.ngGamesModule.controller("GameDetailsController",["$state","gamesService","userGamesService","MEDIA_FILE_TYPE","$scope","preferencesService","$log","$window","dbCacheService","DB_NAMES","jarvisService","COMMON_DYNAMIC_REDIRECT","localeService",function(e,t,n,r,o,i,a,s,l,c,u,d,f){function m(){p.opsSupportedRequestInProgress=!0,i.getGameOpsFeature().then(function(e){e?p.doesSystemSupportOPS=e.overallState:(h.error("getGameOps returned null object"),p.doesSystemSupportOPS=!1)}).catch(function(){h.error("Exception getting system support for game Ops"),p.opsNotDetermined=!0}).finally(function(){p.opsSupportedRequestInProgress=!1})}function g(){p.userGame=n.getUserGame(p.userGameId),p.userGame&&(p.gameId=p.userGame.gameId,p.userGame.systemGame=t.getSystemGame(p.userGame.gameId),p.screenShots=p.userGame.systemGame.getScreenShots())}var p=this,v=u.getLoggedInUser(),h=a.getInstance("main.gamesGameDetailsController");e.params.userGameId?p.userGameId=e.params.userGameId:p.userGameId=o.nvSelectedGameId,p.mediaFileType=r,p.classicViewEnabled=o.nvClassicViewEnabled,p.doesSystemSupportOPS=!1,p.opsNotDetermined=!1,p.devFeatures=l.getCachedGlobalItem(c.DEV_STORE,c.DEV_FEATURES),p.viewState=l.getCachedUserItem(v.userId,c.VIEW_STORE,c.VIEW_STATE),m(),p.hasScreenshots=function(){return!!(angular.isArray(p.screenShots)&&p.screenShots.length>0)},p.isPlayed=function(){return p.userGame&&p.userGame.lastLaunchDate},p.classicViewEnabled?o.$watch("nvSelectedGameId",function(e){e&&(p.userGameId=e,g())}):g(),p.toggleFavorite=function(e){p.userGame.favorite=!p.userGame.favorite,n.updateFavoriteHiddenState(p.userGame.id,p.userGame.favorite,p.userGame.hidden),e.stopPropagation()},p.toggleVisibility=function(e){p.userGame.hidden=!p.userGame.hidden,n.updateFavoriteHiddenState(p.userGame.id,p.userGame.favorite,p.userGame.hidden),e.stopPropagation()},p.systemNoOpsRequirementLink=function(){s.open(d.BASE_URL+f.getCurrentLocaleWithUnderscore()+"&page="+d.SYSTEM_REQS)},p.showOpsNotSupported=function(){return!p.doesSystemSupportOPS&&!p.opsNotDetermined&&!p.opsSupportedRequestInProgress}}]);t.gameDetailsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameList=void 0;var o=n(11);n(40),n(13),n(338),n(61);var i=n(599),a=r(i);n(175),n(12),n(7);var s=o.ngGamesModule.directive("nvGameList",["eventAggregator","COMMON_GAME_EVENTS","dbCacheService","DB_NAMES","$log","COMMON_EVENTS","jarvisService",function(e,t,n,r,o,i,s){return{restrict:"E",scope:{nvUserId:"@",nvSelectedGameId:"="},template:a.default,controller:"GameListController",controllerAs:"games",link:function(a,l){function c(e){this.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function u(){var e=v.scrollTop>0,t=v.scrollTop+v.offsetHeight<v.scrollHeight;c.call(h,e),c.call(y,t)}function d(){v=l[0].querySelector(".md-virtual-repeat-offsetter"),h=angular.element(l[0].querySelector(".game-list-top-gradient")),y=angular.element(l[0].querySelector(".game-list-bottom-gradient")),v&&(v.scrollTop=p.tileViewScrollTop,v.addEventListener("scroll",u),e.on(i.WINDOW_RESIZE,u),c.call(h,!1),c.call(y,!0))}function f(){v&&(p.tileViewScrollTop=v.scrollTop,p.persist_())}function m(){var o=s.getLoggedInUser();p=n.getCachedUserItem(o.userId,r.VIEW_STORE,r.VIEW_STATE),e.on(t.SAVE_GAME_LIST_SCROLL_POSTION,f),e.on(t.RESTORE_GAME_LIST_SCROLL_POSITION,d)}function g(){e.off(t.SAVE_GAME_LIST_SCROLL_POSTION,f),e.off(t.RESTORE_GAME_LIST_SCROLL_POSITION,d),v&&(e.off(i.WINDOW_RESIZE,u),v.removeEventListener("scroll",u)),v=null,h=null,y=null,l.empty(),l.remove(),l=null}var p,v=null,h=(o.getInstance("main.gamesGameListDirective"),null),y=null;a.$on("$destroy",g),l.on("$destroy",function(){a.$destroy()}),m()}}}]);t.nvGameList=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.gameSettingsController=void 0;var i=n(4),a=o(i),s=n(11);n(15),n(20);var l=n(595),c=r(l);n(327);var u=s.ngGamesModule.controller("GameSettingsController",["$scope","$log","$filter","SETTING_TYPE","$mdDialog","CUSTOM_OPS_CALLBACK_ACTION","eventAggregator","GAME_EVENTS","$timeout","OPS_TAB_STATE","$document","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","toastService",function(e,t,n,r,o,i,s,l,u,d,f,m,g,p){function v(e,t){if("-"!==e){if(!a.isEmpty(t)&&angular.isDefined(t[e]))return t[e].translation;U.error("game settings translation not found for game ",L.nvSystemGame.id,"with value ",e)}return e}function h(){a.isEmpty(F)||a.each(L.settings,function(e){if(angular.isDefined(F[e.name])){var t=F[e.name];e.name=t.translation,e.value=v(e.value,t.values),e.optimalValue=v(e.optimalValue,t.values)}else U.error("game settings translation not found for game ",L.nvSystemGame.id,"with setting name ",e.name);
})}function y(){L.recommendedOptimal=L.optimalSettings,L.updateOptimizationTabState(),L.optimizationTabState!==d.TRANSITION&&(L.optimized=L.isOptimized()||L.isCustomized(),L.formSettingsArray())}function b(){if(L.optimizationTabState!==d.TRANSITION){var e=L.nvSystemGame.getOpsRequestPromise();e?e.finally(function(){L.requestInProgress=!1}):L.requestInProgress=!1}}function S(){!a.isEmpty(F)&&a.isNull(k)&&(y(),b())}function E(e){G.settingName="",G.values=[];var t=L.nvCurrentSettingType===L.settingType.SETTING_DC?e.DC.resolution:e.AC.resolution;G.settingName=t.settingName,t.values.forEach(function(e){e.DSR&&G.values.push(e.value)})}function _(){p.showError({textContent:n("translate")("l10n.unableToUpdateGameSettings")})}function A(){var e=angular.element(f[0].querySelector(".game-setting-list-container")),t=angular.element(f[0].querySelector(".games-classic-game-list-container")),n=angular.element(f[0].querySelector(".game-details-toolbar")),r=angular.element(f.find("nv-feedback-float"));e.removeClass("constants-z-layers-modal-plus-three"),t.removeClass("constants-z-layers-modal-plus-three"),n.removeClass("constants-z-layers-modal-plus-three"),r.removeClass("constants-z-layers-modal-plus-three")}function w(e){s.trigger(l.SETTING_ITEM_HOVER,{name:e})}function I(){L.hoverSetting=null,s.trigger(l.SETTING_ITEM_MOUSE_LEAVE,{})}function C(){L.hoverSetting=null}function x(e){L.hoverSetting=e.name}function T(e){e.id===L.nvSystemGame.id&&(L.nvSystemGame=e,L.getGameState(),L.updateCurrentSettingHeader())}function O(e){e.id===L.nvSystemGame.id&&(F=e.data,S())}function M(e){e===L.nvSystemGame.id&&(P&&(P.cancel(),P=null),k&&(k.cancel(),k=null),y(),b())}function D(){s.on(l.GAMESTATE_UPDATED,T),s.on(l.VOPS_POPUP_SHOWN,V),s.on(l.SETTINGS_TRANSLATION_FINISHED,O),s.on(l.SETTINGS_TRANSLATION_FAILED,M),s.on(l.GAMEVOPSITEM_UNMATCHED,C),s.on(l.GAMEVOPSITEM_MATCHED,x)}function N(){L.currentSettings=null,L.targetSettings=null,L.settings=[],L.hoverSetting=null,L.hoverPromise=null,L.optimalSettings=null,L.recommendedOptimal=null,L.isBelowMinSpec=!1,L.requestInProgress=!0,F=[],G={settingName:"",values:[]},L.nvSystemGame.getGameSettingsTranslation(),L.getGameState(),L.updateCurrentSettingHeader()}function R(){s.off(l.GAMESTATE_UPDATED,T),s.off(l.VOPS_POPUP_SHOWN,V),s.off(l.SETTINGS_TRANSLATION_FINISHED,O),s.off(l.SETTINGS_TRANSLATION_FAILED,M),s.off(l.GAMEVOPSITEM_UNMATCHED,C),s.off(l.GAMEVOPSITEM_MATCHED,x),P&&(P.cancel(),P=null),k&&(k.cancel(),k=null),u.cancel(L.hoverPromise)}var P,k,L=this,G={},F=[],U=t.getInstance("main.games/GameSettingsController");L.nvCustomOpsOpen=!1,L.settingType=r,L.showBorder=!1,L.customOpsChanging=!1,L.optimizationTabState=d.UNINITIALIZED,L.currentSettingHeader="l10n.current",L.lastMessage="l10n.unableToRetrieveSettings",L.updateOptimizationTabState=function(){L.optimalSettings||L.currentSettings?a.isUndefined(L.optimalSettings)||null==L.optimalSettings?L.optimizationTabState=L.nvCurrentSettingType===L.settingType.SETTING_DC?d.DC.OPTIMAL_NOT_AVAILABLE:d.AC.OPTIMAL_NOT_AVAILABLE:a.isUndefined(L.currentSettings)||null==L.currentSettings?L.optimizationTabState=L.nvCurrentSettingType===L.settingType.SETTING_DC?d.DC.CURRENT_NOT_AVAILABLE:d.AC.CURRENT_NOT_AVAILABLE:"REGULAR"===L.nvSystemGame.getTargetSettingsTarget()?L.nvCurrentSettingType===L.settingType.SETTING_DC?L.nvSystemGame.isDCDisabled()?L.optimizationTabState=d.DC.DISABLED:L.nvSystemGame.isDCOptimized()?L.optimizationTabState=d.DC.OPTIMIZED:L.nvSystemGame.isDCCustomized()?L.optimizationTabState=d.DC.CUSTOMIZED:L.optimizationTabState=d.DC.USE_PLUGGEDIN:L.nvSystemGame.isACOptimized()?L.optimizationTabState=d.AC.OPTIMIZED:L.nvSystemGame.isACCustomized()?L.optimizationTabState=d.AC.CUSTOMIZED:L.optimizationTabState=d.AC.NOT_OPTIMIZED:L.optimizationTabState=d.TRANSITION:L.optimizationTabState=d.UNINITIALIZED},L.unableToRetrieveSettings=function(){return L.optimizationTabState===d.AC.OPTIMAL_NOT_AVAILABLE||L.optimizationTabState===d.DC.OPTIMAL_NOT_AVAILABLE||L.optimizationTabState===d.AC.CURRENT_NOT_AVAILABLE||L.optimizationTabState===d.DC.CURRENT_NOT_AVAILABLE||L.optimizationTabState===d.UNINITIALIZED},L.showOptimizeButton=function(){return!L.optimized&&!L.unableToRetrieveSettings()},L.showRevertButton=function(){return L.optimized&&!L.unableToRetrieveSettings()},L.hideCustomization=function(){return L.unableToRetrieveSettings()},L.getMessage=function(){if(L.nvCurrentSettingType===L.settingType.SETTING_DC)switch(L.optimizationTabState){case d.DC.OPTIMAL_NOT_AVAILABLE:case d.DC.DISABLED:return L.lastMessage="l10n.gameCannotBeOptimized","l10n.gameCannotBeOptimized";case d.DC.CURRENT_NOT_AVAILABLE:return L.lastMessage="l10n.UnableToRetrieveCurrentSettings","l10n.UnableToRetrieveCurrentSettings";case d.DC.OPTIMIZED:return L.lastMessage=L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsOptimizedForBattery",L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsOptimizedForBattery";case d.DC.CUSTOMIZED:return L.lastMessage=L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsUsingCustomBatterySettings",L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsUsingCustomBatterySettings";case d.DC.USE_PLUGGEDIN:return L.lastMessage=L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsUsingPluggedInForBattery",L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsUsingPluggedInForBattery";default:return L.lastMessage}else switch(L.optimizationTabState){case d.AC.OPTIMAL_NOT_AVAILABLE:return L.lastMessage="l10n.gameCannotBeOptimized","l10n.gameCannotBeOptimized";case d.AC.CURRENT_NOT_AVAILABLE:return L.lastMessage="l10n.UnableToRetrieveCurrentSettings","l10n.UnableToRetrieveCurrentSettings";case d.AC.OPTIMIZED:return L.lastMessage=L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsOptimized",L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsOptimized";case d.AC.CUSTOMIZED:return L.lastMessage=L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsUsingCustomSettings",L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsUsingCustomSettings";case d.AC.NOT_OPTIMIZED:return L.lastMessage=L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsNotOptimized",L.isBelowMinSpec?"l10n.systemBelowMinspecForGame":"l10n.gameIsNotOptimized";default:return L.lastMessage}},L.getOptimalMessage=function(){return L.nvCurrentSettingType===L.settingType.SETTING_DC?L.isOptimized()?"l10n.usingBatteryBoostSettings":"l10n.usingCustomBatterySettings":L.isOptimized()?"l10n.usingOptimalSettings":"l10n.usingCustomSettings"},L.getOptimalSettingHeader=function(){return L.customOpsChanging&&!L.atOptimalIndexPosition?"l10n.custom":"l10n.optimal"},L.updateCurrentSettingHeader=function(){var e=L.nvSystemGame.getTargetPowerMode();e&&(L.nvCurrentSettingType===L.settingType.SETTING_DC&&"AC"===e?L.currentSettingHeader="l10n.whenOnBattery":L.nvCurrentSettingType===L.settingType.SETTING_AC&&"DC"===e?L.currentSettingHeader="l10n.whenPluggedIn":L.currentSettingHeader="l10n.current")},L.isOptimized=function(){return L.nvCurrentSettingType===L.settingType.SETTING_DC?L.nvSystemGame.isDCOptimized():L.nvSystemGame.isACOptimized()},L.isCustomized=function(){return L.nvCurrentSettingType===L.settingType.SETTING_DC?L.nvSystemGame.isDCCustomized():L.nvSystemGame.isACCustomized()},L.showUnoptimizedIcon=function(){return!L.optimized&&!L.showWarningIcon()},L.showWarningIcon=function(){return L.isBelowMinSpec||L.nvCurrentSettingType===L.settingType.SETTING_DC&&(L.optimizationTabState===d.DC.OPTIMAL_NOT_AVAILABLE||L.optimizationTabState===d.DC.DISABLED)||L.nvCurrentSettingType===L.settingType.SETTING_AC&&L.optimizationTabState===d.AC.OPTIMAL_NOT_AVAILABLE},L.showOptimizedIcon=function(){return L.optimized&&!L.showWarningIcon()},L.showOptimalSettingsInColumn=function(){return!L.optimized||L.customOpsChanging},L.showIconInColumn=function(){return L.optimized&&!L.customOpsChanging},L.isDsrResolution=function(e,t){return e===G.settingName&&a.indexOf(G.values,t)!==-1},L.formSettingsArray=function(){if(L.settings=[],L.optimizationTabState===d.AC.CURRENT_NOT_AVAILABLE||L.optimizationTabState===d.DC.CURRENT_NOT_AVAILABLE)L.optimalSettings.forEach(function(e){var t={name:e.name,type:"DRIVER_ENUM"===e.type?e.type:"ENUM",value:"-",optimalValue:e.value};L.isDsrResolution(e.name,e.value)&&(t.isOptimalDsrResolution=!0),L.settings.push(t)});else if(L.optimizationTabState===d.AC.OPTIMAL_NOT_AVAILABLE||L.optimizationTabState===d.DC.OPTIMAL_NOT_AVAILABLE||!L.customOpsChanging&&L.optimized)L.targetSettings?L.targetSettings.forEach(function(e){var t={name:e.name,type:"DRIVER_ENUM"===e.type?e.type:"ENUM",value:e.value,optimalValue:"-"};L.isDsrResolution(e.name,e.value)&&(t.isCurrentDsrResolution=!0),L.settings.push(t)}):U.error("targetSettings not set");else if(L.targetSettings){var e=a.union(a.pluck(L.targetSettings,"name"),a.pluck(L.optimalSettings,"name"));e.forEach(function(e){var t=n("filter")(L.optimalSettings,{name:e},!0),r=n("filter")(L.targetSettings,{name:e},!0),o={};r.length?(o={name:r[0].name,type:"DRIVER_ENUM"===r[0].type?r[0].type:"ENUM",value:r[0].value},t.length?o.optimalValue=t[0].value:o.optimalValue="-"):o={name:t[0].name,type:"DRIVER_ENUM"===t[0].type?t[0].type:"ENUM",value:"-",optimalValue:t[0].value},L.isDsrResolution(o.name,o.value)&&(o.isCurrentDsrResolution=!0),L.isDsrResolution(o.name,o.optimalValue)&&(o.isOptimalDsrResolution=!0),L.settings.push(o)})}h(),L.settings=n("orderBy")(L.settings,["-type","+name"])},L.isOptimalSettingDifferent=function(e,t){return"-"!==t&&e!==t},L.getGameState=function(){P&&(P.cancel(),P=null),k&&(k.cancel(),k=null),P=L.nvSystemGame.getState(),P.then(function(e){L.currentSettings=L.nvSystemGame.getCurrentSettings(),"REGULAR"===L.nvSystemGame.getTargetSettingsTarget()&&(L.nvCurrentSettingType===L.settingType.SETTING_DC?L.targetSettings=L.nvSystemGame.getRegularTargetSettingsDC():L.targetSettings=L.nvSystemGame.getRegularTargetSettingsAC());var t=L.nvSystemGame.getSliderSettings();if(t){E(t);var n,r;L.nvCurrentSettingType===L.settingType.SETTING_DC?(n=L.nvSystemGame.getRecommendedDCResolution(),r=L.nvSystemGame.getRecommendedDCDisplayMode()):(n=L.nvSystemGame.getRecommendedACResolution(),r=L.nvSystemGame.getRecommendedACDisplayMode()),k=L.nvSystemGame.getSettingsSpace(n,r),k.then(function(e){L.nvCurrentSettingType===L.settingType.SETTING_DC?L.optimalSettings=L.nvSystemGame.getOptimalDCSettings(e):L.optimalSettings=L.nvSystemGame.getOptimalACSettings(e),L.nvCurrentSettingType===L.settingType.SETTING_DC&&(L.isOptimized()||L.isCustomized())?L.isBelowMinSpec=L.nvSystemGame.getRecommendedDCBelowMinspec(e):L.isBelowMinSpec=L.nvSystemGame.getRecommendedACBelowMinspec(e)},function(e){U.error("get settings space failed for game:",L.nvSystemGame.displayName,"with error:",e)}).finally(function(){k=null,S()})}else U.error("slider settings not found for game:",L.nvSystemGame.displayName),y(),b()},function(e){U.error("get State failed for game:",L.nvSystemGame.displayName,"with error:",e),y(),b()}).finally(function(){P=null})},L.resetOptimization=function(){L.requestInProgress=!0,L.nvCurrentSettingType===L.settingType.SETTING_DC?L.nvSystemGame.revertDCOptimization().catch(function(e){U.error("unable to revert DC OPS for game ",L.nvSystemGame.id),_()}).finally(function(){L.getGameState()}):L.nvSystemGame.revertACOptimization().catch(function(e){U.error("unable to revert AC OPS for game ",L.nvSystemGame.id),_()}).finally(function(){L.getGameState()})},L.optimizeSettings=function(){L.requestInProgress=!0,L.nvCurrentSettingType===L.settingType.SETTING_DC?(m.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_BOPS),L.nvSystemGame.optimizeDC().then(function(){m.push(g.GAMEOPTIMIZATIONS_APPLIED_BOPS,L.nvSystemGame.shortName),L.getGameState(),m.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME_BOPS)}).catch(function(e){U.error("unable to apply DC OPS for game ",L.nvSystemGame.id),m.push(g.GAMEOPTIMIZATIONS_APPLY_BOPS_FAILED,L.nvSystemGame.shortName),L.getGameState(),_()})):(m.startView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME),L.nvSystemGame.optimizeAC().then(function(){m.push(g.GAMEOPTIMIZATIONS_APPLIED_OPS,L.nvSystemGame.shortName),L.getGameState(),m.endView(g.GAMEOPTIMIZATIONS_OPTIMIZE_TIME)}).catch(function(e){U.error("unable to apply AC OPS for game ",L.nvSystemGame.id),m.push(g.GAMEOPTIMIZATIONS_APPLY_OPS_FAILED,L.nvSystemGame.shortName),L.getGameState(),_()}))},L.optimizeGame=function(){L.optimized?L.resetOptimization():L.optimizeSettings()},L.showOptimalBorder=function(){return L.showBorder&&!L.optimized},L.showHeader=function(e){return 0===e||L.settings[e-1].type!==L.settings[e].type},L.headerValue=function(e){return"ENUM"===e?"l10n.inGame":"DRIVER_ENUM"===e?"l10n.nvidia":void 0},L.setShowBorder=function(e){L.showBorder=e},L.openCustomOps=function(){L.nvCustomOpsOpen=!0;var e=o.show({template:c.default,locals:{nvCustomSettingsCallback:L.customSettingsCallback,nvSystemGame:L.nvSystemGame,nvCurrentSettingType:L.nvCurrentSettingType,nvClassicViewEnabled:L.nvClassicViewEnabled,nvDesktopMode:L.nvDesktopMode,nvGameSettingsTranslationData:F},clickOutsideToClose:!0,controller:"CustomOpsController",controllerAs:"opsCtrl",bindToController:!0,hasBackdrop:!1});e.then(function(){L.customOpsChanging=!1}).catch(function(){L.customOpsChanging=!1,L.optimalSettings=L.recommendedOptimal,L.optimalSettings&&L.formSettingsArray()}).finally(function(){L.nvCustomOpsOpen=!1,A()})},L.customSettingsCallback=function(e,t){e===i.CUSTOM_SETTINGS_UPDATED?(L.customOpsChanging=!0,L.optimalSettings=t.settings,L.atOptimalIndexPosition=t.atOptimalPosition,L.formSettingsArray()):e===i.APPLIED_SETTING_SELECTED&&(L.customOpsChanging=!1,L.formSettingsArray())},L.isMouseHover=function(e){return e===L.hoverSetting},L.mouseOver=function(e){u.cancel(L.hoverPromise),null===e?I():L.hoverPromise=u(function(){w(e)},100)};var V=function(t){L.isMouseHover(t.name)||(L.hoverSetting=t.name,e.$applyAsync())};L.isOptimizeOrCustomOpsButtonDisabled=function(){return L.requestInProgress||L.nvCustomOpsOpen},D(),L.nvClassicViewEnabled?e.$watch("gameSettings.nvSystemGame",function(e){e&&N()}):N(),e.$on("$destroy",R)}]);t.gameSettingsController=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameSettingsItem=void 0;var r=n(11),o=r.ngGamesModule.directive("nvGameSettingsItem",["eventAggregator","GAME_EVENTS","$interval","SCROLL_STEPS","GRADIENT_HEIGHT",function(e,t,n,r,o){function i(e,t,n,r){return n*(Math.pow(e/r-1,3)+1)+t}function a(a,l){function c(e,t,o){n.cancel(s);var a=0;s=n(function(){e.scrollTop=i(a,t,o,r),a++,a>r&&n.cancel(s)},0)}function u(e){if(!angular.isUndefined(a.setting)&&a.setting.name===e.name){var t=l.parent()[0],n=parseFloat(l[0].offsetTop),r=parseInt(l[0].clientHeight),i=0,s=parseFloat(t.clientHeight),u=t.scrollTop;n+r>u+s?(i=n-u-s+r,i+=o.FOR_GAME_SETTINGS_TABLE,c(t,u,i)):n<u&&(i=n-u,c(t,u,i))}}function d(){e.off(t.VOPS_POPUP_SHOWN,u),n.cancel(s),s=null,l.off("$destroy",f),l.empty(),l.remove(),l=null}function f(){a.$destroy()}e.on(t.VOPS_POPUP_SHOWN,u),a.$on("$destroy",d),l.on("$destroy",f)}var s;return{restrict:"E",transclude:!0,template:"<ng-transclude></ng-transclude>",link:a}}]);t.nvGameSettingsItem=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameSettings=void 0;var o=n(11);n(334),n(328),n(13);var i=n(600),a=r(i);n(333);var s=o.ngGamesModule.directive("nvGameSettings",["$document","eventAggregator","COMMON_EVENTS",function(e,t,n){return{require:["^nvOptimization","nvGameSettings"],restrict:"E",scope:{nvSystemGame:"=",nvCurrentSettingType:"=",nvClassicViewEnabled:"@",nvDesktopMode:"=",nvCustomOpsOpen:"="},template:a.default,controller:"GameSettingsController",controllerAs:"gameSettings",bindToController:!0,link:function(r,o){function i(e){u.removeClass(e?"constants-display-none":"constants-display-flex").addClass(e?"constants-display-flex":"constants-display-none")}function a(){var e=c.scrollTop+c.offsetHeight<c.scrollHeight;if(e)return void i(!0);var t=d.scrollTop+d.offsetHeight<d.scrollHeight;i(t)}function s(){c&&d&&u&&(t.on(n.WINDOW_RESIZE,a),d.addEventListener("scroll",a),i(!0))}function l(){f(),m(),c&&d&&(t.off(n.WINDOW_RESIZE,a),d.removeEventListener("scroll",a)),c=null,u=null,d=null,o.empty(),o.remove(),o=null}var c=angular.element(e[0].querySelector(".games-game-optimization"))[0],u=angular.element(o[0].querySelector(".common-container-gradient")),d=o[0].querySelector(".game-settings-container"),f=r.$watchGroup(["gameSettings.requestInProgress","$parent.optimization.selectedTab"],function(t,n){t!==n&&e.ready(function(){a()})}),m=r.$on("ui.layout.resize",a);r.$on("$destroy",l),o.on("$destroy",function(){r.$destroy()}),s()}}}]);t.nvGameSettings=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameTagsModalController=void 0;var r=n(11),o=r.ngGamesModule.controller("GameTagsModalController",["$mdDialog","$state",function(e,t){var n=this;angular.isDefined(n.game)&&angular.isDefined(n.game.tags)?(n.gameDisplayName=n.game.displayName,n.gameTags=angular.copy(n.game.tags)):(n.gameDisplayName="",n.gameTags={}),n.accept=function(){e.hide(n.gameTags)},n.cancel=function(){e.cancel()},n.managetags=function(){e.cancel(),t.go("main.auth.debugSettings")}}]);t.gameTagsModalController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameTileController=void 0;var r=n(11);n(62);var o=r.ngGamesModule.controller("GameTileController",["$scope","$state","userGamesService",function(e,t,n){var r=this;r.game=e.nvGame,r.isGameOpsSupported=e.nvOpsSupported,r.overlayVisible=!1,r.detailsButtonClickHandler=function(){t.go("main.auth.home.gamesAndFriends.gameDetails",{userGameId:r.game.id})},r.toggleFavorite=function(e){r.userGame.favorite=!r.userGame.favorite,n.updateFavoriteHiddenState(r.userGame.id,r.userGame.favorite,r.userGame.hidden),e.stopPropagation()},r.toggleVisibility=function(e){r.userGame.hidden=!r.userGame.hidden,n.updateFavoriteHiddenState(r.userGame.id,r.userGame.favorite,r.userGame.hidden),e.stopPropagation()},r.showOverlay=function(e){r.overlayVisible=e},r.userGame=n.getUserGame(r.game.id)}]);t.gameTileController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameTile=void 0;var o=n(11);n(13),n(120),n(119),n(21),n(91);var i=n(602),a=r(i);n(337);var s=o.ngGamesModule.directive("nvGameTile",["$timeout",function(e){return{restrict:"E",scope:{nvGame:"=",nvGameSelected:"=",nvIndex:"=",nvOpsSupported:"@"},template:a.default,controller:"GameTileController",controllerAs:"gameTile",link:function(t,n,r,o){function i(){e.cancel(a),n.empty(),n.remove(),n=null}var a,s=n[0];o.showTooltip=!1,a=e(function(){var e=angular.element(s.querySelector(".color-white-hue-1"));o.showTooltip=e[0].scrollWidth>e[0].offsetWidth}),t.$on("$destroy",i),n.on("$destroy",function(){t.$destroy()})}}}]);t.nvGameTile=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.optimizationController=void 0;var o=n(4),i=r(o),a=n(11);n(112),n(12),n(7);var s=a.ngGamesModule.controller("OptimizationController",["$scope","SETTING_TYPE","framerateLimiterService","dbCacheService","DB_NAMES","OPS_TAB","POWER_MODE","jarvisService",function(e,t,n,r,o,a,s,l){function c(){var e=i.indexOf(g.userTabSelectionList,m.systemGame.id);e!==-1?g.targetPowerMode===s.DC?m.selectedTab=a.PLUGGED_IN:m.selectedTab=a.ON_BATTERY:g.targetPowerMode===s.DC?m.selectedTab=a.ON_BATTERY:m.selectedTab=a.PLUGGED_IN}function u(){var e=m.systemGame.getTargetPowerMode();e&&g.targetPowerMode!==e&&(g.targetPowerMode=e,g.userTabSelectionList=[],m.customOpsOpen?m.changeSelectedTab(m.selectedTab):g.targetPowerMode===s.DC?m.selectedTab=a.ON_BATTERY:m.selectedTab=a.PLUGGED_IN)}function d(){g=r.getCachedUserItem(p.userId,o.VIEW_STORE,o.VIEW_STATE),g.targetPowerMode&&(u(),c()),e.$watch("optimization.systemGame.getTargetPowerMode()",u)}var f,m=this,g={},p=l.getLoggedInUser();m.systemGame=e.nvSystemGame,m.settingType=t,m.frlSupport=!1,m.frlEnabled=!1,m.classicViewEnabled=e.nvClassicViewEnabled,m.opsTab=a,m.selectedTab=a.PLUGGED_IN,m.customOpsOpen=!1;var v=!1;f=m.systemGame.getState(),f.then(function(e){v=!!m.systemGame.getCurrentSettings()}).finally(function(){f=null}),n.getSupportInfo().then(function(e){e.supported&&(m.frlSupport=e.supported,n.getStateInfo().then(function(e){m.frlEnabled=e.enabled,m.frlEnabled&&d()}))}),m.frlSupportAndEnabled=function(){return m.frlSupport&&m.frlEnabled&&!m.systemGame.isDCDisabled()&&v},m.changeSelectedTab=function(e){m.selectedTab=e;var t=i.indexOf(g.userTabSelectionList,m.systemGame.id);g.targetPowerMode===s.AC&&e===a.ON_BATTERY||g.targetPowerMode===s.DC&&e===a.PLUGGED_IN?t===-1&&g.userTabSelectionList.push(m.systemGame.id):t!==-1&&g.userTabSelectionList.splice(t,1)},m.classicViewEnabled&&e.$watch("nvSystemGame",function(e){e&&(m.systemGame=e,c())}),e.$on("$destroy",function(){m.frlSupport&&m.frlEnabled&&g.persist_(),f&&(f.cancel(),f=null)})}]);t.optimizationController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOptimization=void 0;var o=n(11);n(335);var i=n(603),a=r(i);n(339);var s=o.ngGamesModule.directive("nvOptimization",function(){return{restrict:"E",scope:{nvSystemGame:"=",nvClassicViewEnabled:"@"},template:a.default,controller:"OptimizationController",controllerAs:"optimization",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvOptimization=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptimizedIconController=void 0;var r=n(11),o=r.ngGamesModule.controller("OptimizedIconController",["$scope","$log","eventAggregator","GAME_EVENTS",function(e,t,n,r){function o(e){s.nvSystemGame&&e.id===s.nvSystemGame.id&&(s.optimized=s.nvSystemGame.isACorDCoptimized(),s.warning=!s.nvSystemGame.isACRecommendationAvailable()&&(s.nvSystemGame.isDCDisabled()||!s.nvSystemGame.isDCRecommendationAvailable())||s.nvSystemGame.isRecommendedACBelowMinspecFromState()&&s.nvSystemGame.isRecommendedDCBelowMinspecFromState(),s.fontIconClass=s.getFontIcon())}function i(){n.on(r.GAMESTATE_UPDATED,o),n.on(r.GAMESTATE_INITIALIZED,o),n.on(r.GAMESTATE_FAIL_INITIALIZE,o),l=e.$watch("optimizedIcon.nvSystemGame",function(){o({id:s.nvSystemGame.id})}),s.initIcon()}function a(){n.off(r.GAMESTATE_UPDATED,o),n.off(r.GAMESTATE_INITIALIZED,o),n.off(r.GAMESTATE_FAIL_INITIALIZE,o),l()}var s=this;s.fontIconClass="";var l=angular.noop;t.getInstance("main.games/OptimizedIconController");s.getFontIcon=function(){return s.optimized||s.warning?s.optimized&&!s.warning?"icon-optimized_sm":"icon-alert-circle_sm":"icon-notoptimized_sm"},s.initIcon=function(){s.nvSystemGame&&s.nvSystemGame.hasGameState()&&o(s.nvSystemGame)},i(),e.$on("$destroy",a)}]);t.OptimizedIconController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playGameController=void 0;var r=n(11),o=r.ngGamesModule.controller("PlayGameController",["telemetryService",function(e){var t=this;t.playLocalGame=function(n){var r=t.nvSystemGame();if(t.nvTelemetry){var o=JSON.parse(t.nvTelemetry);e.push(o.tarconID,o.url)}r.launch(),n.stopPropagation()}}]);t.playGameController=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.vopsController=void 0;var o=n(4),i=r(o),a=n(11);n(12),n(7);var s=a.ngGamesModule.controller("VopsController",["$scope","$log","eventAggregator","GAME_EVENTS","GAME_VOPS_STATUS","dbCacheService","DB_NAMES","jarvisService","localeService","GAME_SETTINGS_TRANSLATION_STATUS",function(e,t,n,r,o,a,s,l,c,u){function d(e){w.systemGame.shortName===e&&(_=o.UNAVAILABLE)}function f(e){w.systemGame.shortName===e&&(_=o.STARTED)}function m(e){w.systemGame.shortName===e&&(_=o.PROGRESS)}function g(e){w.systemGame.shortName===e&&(_=o.FAILED)}function p(e,t,n){angular.isDefined(t.name)&&(angular.isDefined(I[t.name])?t.name=I[t.name].translation:C.error("vops settings translation not found for game ",w.systemGame.id,"with setting name ",t.name),t.textInfo[e]&&t.textInfo[e].length>0?t.textInfo=t.textInfo[e]:t.textInfo=t.textInfo[c.getDefaultLocaleWithUnderscore()],n.settingInfo.push(t))}function v(){if(!i.isEmpty(I)&&!i.isEmpty(w.gameVops)){var e=[],t=c.getCurrentLocaleWithUnderscore();i.each(w.gameVops.settingInfo,function(n){n.vopsSettingEnName=n.name;var r=i.find(e,{image:n.image});angular.isUndefined(r)?(r={},r.image=n.image,r.settingInfo=[],p(t,n,r),e.push(r)):p(t,n,r)}),w.gameVops=e,_=o.FINISHED}}function h(e){w.systemGame.shortName===e.shortName&&(i.isUndefined(e.vopsData)||(w.gameVops=e.vopsData),i.isEmpty(w.gameVops)?_=o.UNAVAILABLE:v())}function y(e){e.id===w.systemGame.id&&(I=e.data,A=u.FINISHED,v())}function b(e){e===w.systemGame.id&&(A=u.FAILED)}function S(){n.on(r.GAMEVOPS_STARTED,f),n.on(r.GAMEVOPS_READY,m),n.on(r.GAMEVOPS_NOTREADY,m),n.on(r.GAMEVOPS_UNAVAILABLE,d),n.on(r.GAMEVOPS_FINISHED,h),n.on(r.GAMEVOPS_FAILED,g),n.on(r.SETTINGS_TRANSLATION_FINISHED,y),n.on(r.SETTINGS_TRANSLATION_FAILED,b)}function E(){n.off(r.GAMEVOPS_STARTED,f),n.off(r.GAMEVOPS_READY,m),n.off(r.GAMEVOPS_NOTREADY,m),n.off(r.GAMEVOPS_UNAVAILABLE,d),n.off(r.GAMEVOPS_FINISHED,h),n.off(r.GAMEVOPS_FAILED,g),n.off(r.SETTINGS_TRANSLATION_FINISHED,y),n.off(r.SETTINGS_TRANSLATION_FAILED,b)}var _,A,w=this,I=[],C=t.getInstance("main.games/VopsController"),x=l.getLoggedInUser(),T=a.getCachedUserItem(x.userId,s.VIEW_STORE,s.VIEW_STATE),O=Date.now();w.gameVops={},w.systemGame=e.nvSystemGame,w.classicViewEnabled=e.nvClassicViewEnabled,e.$on("$destroy",function(){E()}),S(),w.showUnavailable=function(){return _===o.UNAVAILABLE},w.showVopsPreview=function(){return _===o.FINISHED&&A===u.FINISHED},w.showVopsFailed=function(){return!w.showUnavailable()&&(_===o.FAILED||A===u.FAILED)},w.showLoadingIndicator=function(){return Date.now()-O>500&&!(w.showVopsPreview()||w.showUnavailable()||w.showVopsFailed())},e.$on("ui.layout.resize",function(e,t,n){try{var r=t.size/(t.size+n.size)*100;n.size<=n.minSize?(t.uncollapsedSize="auto",n.uncollapsedSize=n.size):(t.uncollapsedSize=r+"%",n.uncollapsedSize=100-r+"%"),T.vopsImageContainerSize=r+"%",T.persist_()}catch(e){C.error("ui.layout.resize event error",e)}}),w.classicViewEnabled?e.$watch("nvSystemGame",function(e){e&&(I=[],w.gameVops={},O=Date.now(),w.systemGame=e,w.systemGame.getVOPS(),w.systemGame.getGameSettingsTranslation())}):(w.systemGame.getVOPS(),w.systemGame.getGameSettingsTranslation())}]);t.vopsController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvVops=void 0;var o=n(11);n(61),n(155);var i=n(606),a=r(i);n(343);var s=o.ngGamesModule.directive("nvVops",function(){return{restrict:"E",scope:{nvSystemGame:"=",nvClassicViewEnabled:"@"},template:a.default,controller:"VopsController",controllerAs:"vops",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvVops=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnController=void 0;var r=n(18);n(30);var o=r.ngGfnModule.controller("gfnController",["$state","tbdService",function(e,t){var n=this;n.pageNo=e.params.tabId,n.pageNo||(n.pageNo="0"),t.getBannerTexts().then(function(e){n.labels=e})}]);t.gfnController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfn=void 0;var o=n(18);n(348),n(176),n(357);var i=n(607),a=r(i);n(345);var s=o.ngGfnModule.directive("nvGfn",function(){return{restrict:"E",scope:{},template:a.default,controller:"gfnController",controllerAs:"gfn"}});t.nvGfn=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnFeatureController=void 0;var r=n(18);n(30);var o=r.ngGfnModule.controller("gfnFeatureController",["tbdService",function(e){var t=this;e.getBannerTexts().then(function(e){t.bannerTexts=e})}]);t.gfnFeatureController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfnFeature=void 0;var o=n(18);n(168),n(359);var i=n(608),a=r(i);n(347);var s=o.ngGfnModule.directive("nvGfnFeature",function(){return{restrict:"E",template:a.default,controller:"gfnFeatureController",controllerAs:"gfnFeature"}});t.nvGfnFeature=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameStoreController=void 0;var r=n(18);n(30);var o=r.ngGfnModule.controller("GameStoreController",["$scope","$log","tbdService","$state",function(e,t,n,r){var o=this;o.gameStoreList=[],o.gameType=e.nvGameType;var i=t.getInstance("main.gfn/GameStoreController");"genre"===o.gameType?n.getGfnStoreGamesByGenre(r.params.id).then(function(e){o.gameStoreList=e},function(e){i.error("getGfnStoreGamesByGenre failed with latestGameList: "+e.status)}):n.getGfnStoreGamesByType(o.gameType).then(function(e){o.gameStoreList=e},function(e){i.error("getGfnStoreGamesByType failed with latestGameList: "+e.status)})}]);t.gameStoreController=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gameStoreItemController=void 0;var r=n(18),o=r.ngGfnModule.controller("GameStoreItemController",["$scope",function(e){var t=this,n=e.nvGetGame();t.nvGame=n,t.nvGameType=e.nvShowType,t.onClickedGameItem=function(){},t.isNeedPurchase=function(){if("undefined"==typeof t.nvGame)return!1;var e=!t.nvGame.storeInfo.isPurchased&&0!==t.nvGame.storeInfo.price;return e}}]);t.gameStoreItemController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGameStoreItem=void 0;var o=n(18),i=n(609),a=r(i);n(350);var s=o.ngGfnModule.directive("nvGameStoreItem",function(){return{restrict:"E",scope:{nvGetGame:"&nvGame",nvShowType:"@"},template:a.default,controller:"GameStoreItemController",controllerAs:"gameItem"}});t.nvGameStoreItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenreGamesController=void 0;var r=n(18),o=r.ngGfnModule.controller("gfnGenreGamesController",["$state",function(e){var t=this;switch(t.pageNo=e.params.id,e.params.id){case"action":t.goBackString="l10n.genre.action";break;case"adventure":t.goBackString="l10n.genre.adventure";break;case"arcade":t.goBackString="l10n.genre.arcade";break;case"family":t.goBackString="l10n.genre.family";break;case"fps":t.goBackString="l10n.genre.fps";break;case"puzzle":t.goBackString="l10n.genre.puzzle";break;case"racing":t.goBackString="l10n.genre.racing";break;case"rolePlaying":t.goBackString="l10n.genre.rolePlaying"}}]);t.gfnGenreGamesController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGenreGames=void 0;var o=n(18);n(176);var i=n(611),a=r(i);n(352);var s=o.ngGfnModule.directive("nvGenreGames",function(){return{restrict:"E",template:a.default,controller:"gfnGenreGamesController",controllerAs:"gfnGenreGames"}});t.nvGenreGames=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenreItemController=void 0;var r=n(18),o=r.ngGfnModule.controller("gfnGenreItemController",["$scope",function(e){var t=this,n=e.nvGenre();t.id=n.genreId,t.img=n.img,t.name=n.spec}]);t.gfnGenreItemController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGenreItem=void 0;var o=n(18),i=n(612),a=r(i);n(354);var s=o.ngGfnModule.directive("nvGenreItem",function(){
return{restrict:"E",scope:{nvGenre:"&nvGenre"},template:a.default,controller:"gfnGenreItemController",controllerAs:"gfnGenreItem"}});t.nvGenreItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfnGenresController=void 0;var r=n(18),o=r.ngGfnModule.controller("gfnGenresController",function(){var e=this;e.genreList=[{genreId:"action",img:"mocks/assets/gfn/img/genres-action.png",spec:"l10n.genre.action"},{genreId:"adventure",img:"mocks/assets/gfn/img/genres-adventure2.png",spec:"l10n.genre.adventure"},{genreId:"arcade",img:"mocks/assets/gfn/img/genres-arcade2.png",spec:"l10n.genre.arcade"},{genreId:"family",img:"mocks/assets/gfn/img/genres-family2.png",spec:"l10n.genre.family"},{genreId:"fps",img:"mocks/assets/gfn/img/genres-firstpersonshooter.png",spec:"l10n.genre.fps"},{genreId:"puzzle",img:"mocks/assets/gfn/img/genres-puzzle.png",spec:"l10n.genre.puzzle"},{genreId:"racing",img:"mocks/assets/gfn/img/genres-racing.png",spec:"l10n.genre.racing"},{genreId:"rolePlaying",img:"mocks/assets/gfn/img/genres-roleplaying.png",spec:"l10n.genre.rolePlaying"}]});t.gfnGenresController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvGfnGenres=void 0;var o=n(18);n(355);var i=n(613),a=r(i);n(356);var s=o.ngGfnModule.directive("nvGfnGenres",function(){return{restrict:"E",template:a.default,controller:"gfnGenresController",controllerAs:"gfnGenres"}});t.nvGfnGenres=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.latestGamesController=void 0;var r=n(18);n(30);var o=r.ngGfnModule.controller("LatestGamesController",["$log","tbdService",function(e,t){var n=this;n.latestGameList=[];var r=e.getInstance("main.gfn/LatestGamesController");t.getGfnLatestGames().then(function(e){n.latestGameList=e},function(e){r.error("getGfnLatestGames failed with latestGameList: "+e.status)})}]);t.latestGamesController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvLatestGameItem=t.nvLatestGames=void 0;var o=n(18),i=n(615),a=r(i),s=n(614),l=r(s);n(358);var c=o.ngGfnModule.directive("nvLatestGames",function(){return{restrict:"E",template:a.default,controller:"LatestGamesController",controllerAs:"games"}}),u=o.ngGfnModule.directive("nvLatestGameItem",function(){return{restrict:"E",scope:{nvGame:"="},template:l.default}});t.nvLatestGames=c,t.nvLatestGameItem=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslArticleEndpoints=void 0;var o=n(27),i=r(o),a=n(33),s=a.ngGfwslSdkModule.provider("gfwslArticleEndpoints",[function(){var e,t=2;return{setConfig:function(n){t=n.defaultRetries||t,e=n.defaultTimeout||e},$get:["NvEndpointFactory","gfwslEndpoints",function(n,r){var o=new n;o.setDefaultTimeout(e),o.setDefaultRetries(t),o.setUrlGenerator(function(e,t){var n,o;return t=t||{},t.gfwslParams?(n=r.getParams(JSON.parse(t.gfwslParams)),delete t.gfwslParams):n=r.getParams({}),o=t.articleUrl||"",delete t.articleUrl,_.isEmpty(n)||(o+=(0,i.default)(n)),o});var a=o.createEndpoint({url:":articleUrl",method:"GET",params:{articleUrl:""}});return{getArticleUrl:o.generateFullUrl,getArticle:a}}]}}]);t.gfwslArticleEndpoints=s},,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=angular.module("main.localSdk.vopsSdk").provider("vopsJsonEndpoint",[function(){return{$get:["NvEndpointFactory","localSdk",function(e,t){var n,r=t.newLocalEndpointFactory();return r.setUrlGenerator(function(e,t){t=t||{};var n=t.jsonUrl||"";return delete t.jsonUrl,n}),n=r.createEndpoint({url:":jsonUrl",method:"GET",params:{jsonUrl:""}}),{getFullJsonVopsUrl:r.generateFullUrl,getVOPS:n}}]}}]);t.vopsJsonSdkProvider=n},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsController=void 0;var o=n(125);n(366);var i=n(4),a=r(i),s=o.ngNotificationsModule.controller("NotificationsController",["eventAggregator","NOTIFICATION_EVENTS","$scope","jarvisService","dbCacheService","DB_NAMES","COMMON_EVENTS","oobeDialogService","OOBE_STATE","$log",function(e,t,n,r,o,i,s,l,c,u){function d(e){if(!y)return void S.error("new notification recieved when view state is null returning");var t=new Date,n=e.notifications,r=!1;n.forEach(function(e){a.findWhere(v.notificationList,{callbackData:e.callbackData})||(y[e.callbackData]?e.availableTime=y[e.callbackData]:(r=!0,y[e.callbackData]=t,e.availableTime=t),v.notificationList.push(e))}),v.notificationList=a.sortBy(v.notificationList,function(e){return e.availableTime.getTime()}).reverse(),r&&(v.notificationList[0].firstNotificationHighResolution&&(y.lastBigNotificationShown=v.notificationList[0].availableTime),y.showIndicator=!0,y.persist_(),b&&l.getState()===c.COMPLETED_ALL&&b()),v.showIndicator=y.showIndicator}function f(e){for(var t=0;t<v.notificationList.length;t++)if(v.notificationList[t].callbackData===e){v.notificationList.splice(t,1);break}}function m(e){for(var t=0;t<e.length;t++)f(e[t].callbackData)}function g(e){e?(S.info("fetching notification view state at user logged in"),h=r.getLoggedInUser(),y=o.getCachedUserItem(h.userId,i.JARVIS_GFE_STORE,i.NOTIFICATIONS_VIEW_STATE),y||S.error("Unable to fetch notifications view state in user logged in")):(S.info("setting notification view state null at user logged out"),h=null,y=null,v.notificationList=[])}function p(){S.info("initializing notfications controller"),e.on(t.NEW_NOTIFICATION,d),e.on(t.REMOVE_NOTIFICATION,m),e.on(s.LOGIN_STATUS_CHANGE,g),h&&(y=o.getCachedUserItem(h.userId,i.JARVIS_GFE_STORE,i.NOTIFICATIONS_VIEW_STATE),y||S.error("Unable to fetch notifications view state in initialize"))}var v=this,h=r.getLoggedInUser(),y=null,b=null,S=u.getInstance("main.notifications/notificationController");v.notificationList=[],v.showIndicator=!1,v.onInit=function(e){b=e},v.onNotificationClicked=function(e){return y?(v.showIndicator=!1,y.showIndicator=!1,y.persist_(),void(e.callbackFunction&&e.callbackFunction(e.callbackData))):void S.error("notification clicked when view state is null returning")},v.showNotifications=function(){return y?(v.showIndicator=!1,y.showIndicator=!1,void y.persist_()):void S.error("notification shown when view state is null returning")},v.showBigNotification=function(e,t){return y?!(0!==e||!t.firstNotificationHighResolution)&&y.lastBigNotificationShown<=t.availableTime:void S.error("big notification shown when view state is null returning")},n.$on("$destroy",function(){e.off(t.NEW_NOTIFICATION,d),e.on(t.REMOVE_NOTIFICATION,m),e.on(s.LOGIN_STATUS_CHANGE,g)}),p()}]);t.notificationsController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvNotifications=void 0;var o=n(125);n(154),n(29);var i=n(617),a=r(i);n(364),n(257);var s=o.ngNotificationsModule.directive("nvNotifications",function(){return{restrict:"E",scope:{},template:a.default,controller:"NotificationsController",controllerAs:"notifications"}});t.nvNotifications=s},function(e,t,n){"use strict";var r=n(125);n(30);r.ngNotificationsModule.service("notificationsService",["tbdService",function(e){var t=this;t.getNotifications=e.getNotifications}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthChooseController=void 0;var r=n(5);n(7),n(15);var o=r.ngOobeModule.controller("OobeAuthChooseController",["$log","gfeService","jarvisService","telemetryService","oobeTelemetryService","oobeOptionsService",function(e,t,n,r,o,i){function a(){o.updateScreen("SCREEN_OOBE_ACCOUNT_CHOOSER"),u.messageTranslateValues={},u.onlineState=t.onlineState,u.loginOptions=i.getLoginOptions()}function s(e,t){d.info("attemptSocialLogin");var o=n.loginWithUserToken(e).then(function(e){return r.setEventsCommonData({userId:e.user.userId},!0),e});return u.oobeAuthCtrl.handleLoginAttempt(o,!1,t)}function l(e){return d.debug("Show Oauth Dialog",e),c=e,n.getOauthUrl(e).then(function(e){u.showOauthDialog(e)})}var c,u=this,d=e.getInstance("main.oobe/OobeAuthChooseController"),f={google:"SIGN_IN_WITH_GOOGLE",facebook:"LOGIN_WITH_FACEBOOK"};u.onClickNVIDIA=function(){u.onlineState.online&&(o.recordAction("OOBE_LOGIN_WITH_NVIDIA"),u.oobeAuthCtrl.showLogin())},u.onClickGoogle=function(){u.onlineState.online&&(o.startActionAsync("SIGN_IN_WITH_GOOGLE"),l("google"))},u.onClickFacebook=function(){u.onlineState.online&&(o.startActionAsync("LOGIN_WITH_FACEBOOK"),l("facebook"))},u.onClickQq=function(){u.onlineState.online&&(o.startActionAsync("LOGIN_WITH_QQ"),l("qq"))},u.onClickWeChat=function(){u.onlineState.online&&(o.startActionAsync("LOGIN_WITH_WECHAT"),l("wechat"))},u.messageEventListener=function(e){var t=angular.fromJson(e.data.data),n=f[c];if(u.hideOauthDialog(),"signed-in"===t.status)return d.debug("Callback from OAuth - Sign in existing account. data=",t),s(t.data.userToken,n);if("no-account"===t.status){d.debug("Callback from OAuth - Register new social account. data=",t),o.endActionAsync(n,"NO_ACCOUNT");var r=t.data.data;u.oobeAuthCtrl.showRegisterSocial({displayName:r.displayName,email:r.email,thirdPartyId:r.thirdPartyId,provider:c})}else if("auth-rejected"===t.status)d.debug("Callback from OAuth - User rejected new account permission request. data=",t),o.endActionAsync(n,"AUTH_REJECTED");else if("link-needed"===t.status){d.debug("Callback from OAuth - Email already taken data=",t);try{o.endActionAsync(n,"LINK_NEEDED"),u.messageTranslateValues.email=t.data.email,u.message="l10n.existingAccount"}catch(e){o.endActionAsync(n,"LINK_NEEDED",t),d.error("Could not display link-needed message. Invalid data response")}}else d.debug("Callback from OAuth - Unknown message format. data=",t),o.endActionAsync(n,"OTHER",t)},u.onCancelOauth=function(){o.endActionAsync(f[c],"CANCELLED")},u.messageBanner=function(){return u.onlineState.online?u.message:"l10n.mustBeOnline"},a()}]);t.oobeAuthChooseController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthChoose=void 0;var o=n(5),i=n(618),a=r(i);n(367),n(14);var s=o.ngOobeModule.directive("nvOobeAuthChoose",["$document","$window","$interval","$log","cefService",function(e,t,n,r,o){return{restrict:"E",scope:{message:"@"},bindToController:!0,template:a.default,controller:"OobeAuthChooseController",controllerAs:"oobeAuthChooseCtrl",require:["nvOobeAuthChoose","^^nvOobeAuth"],link:function(i,a,s,l){function c(e){u&&!u.closed?(e.preventDefault(),u.focus(),o.windowFocus("app_oauthWindow")):(m.onCancelOauth(),m.hideOauthDialog())}var u,d,f,m=l[0],g=l[1],p=r.getInstance("main.oobe/nvOobeAuthChoose");i.oobeAuthChooseCtrl.oobeAuthCtrl=g,m.showOauthDialog=function(r){o.deleteCookies(".google.com",""),o.deleteCookies(".facebook.com",""),t.addEventListener("message",m.messageEventListener,!1),d=angular.element('<div class="oobe-oauth-blocker-overlay"></div>'),e.find("body").eq(0).append(d),t.addEventListener("click",c),t.addEventListener("keydown",c);var i=612,a=430,s=window.screenY+window.innerHeight/2-i/2,l=window.screenX+window.innerWidth/2-a/2,g="toolbar=0,location=0,menubar=0,width="+a+",height="+i+",top="+s+",left="+l;u=t.open(r,"app_oauthWindow",g),_.isNull(u)&&p.error("unable to open oauth window with url ",r,"and params",g),f=n(function(){u&&!u.closed||(m.onCancelOauth(),m.hideOauthDialog())},100)},m.hideOauthDialog=function(){n.cancel(f),t.removeEventListener("message",m.messageEventListener,!1),t.removeEventListener("click",c),t.removeEventListener("keydown",c),d.remove(),u&&(u.close(),u=null)}}}}]);t.nvOobeAuthChoose=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthController=void 0;var o=n(5);n(15),n(24),n(7),n(12);var i=n(4),a=r(i),s=o.ngOobeModule.controller("OobeAuthController",["$log","oobeDialogService","telemetryService","dbService","dbCacheService","DB_NAMES","hardwareService","gfeService","preferencesService","nvAccountService","jarvisService","oobeTelemetryService","OOBE_STATE",function(e,t,n,r,o,i,s,l,c,u,d,f,m){function g(){y.selectView()}function p(e){y.nvActiveAuthView=e}function v(e,t){var n=!1;s.getSystemInfo().then(function(e){n=!a.propertyOf(e)("DriverVersion")}).finally(function(){n?y.oobeCtrl.onShowNoDriver():y.oobeCtrl.onLoggedIn(e,t)})}function h(e){var t=o.getCachedUserItem(e.userId,i.JARVIS_GFE_STORE,i.JARVIS_AVATAR);t.sync_().finally(function(){return p("sync"),l.syncData(e).then(c.getApplicationFeatureSet).then(function(t){b.info("Sync Complete"),f.endActionAsync("SYNC","SUCCESS"),v(e,t)})})}var y=this,b=e.getInstance("main.oobe/OobeAuthController");y.selectView=function(){y.nvOobeParams.user?h(y.nvOobeParams.user):(u.deleteJarvisUserToken(),a.propertyOf(y.nvOobeParams)("sessionExpired")?r.getGlobalStore(i.GLOBAL_STORE).getItem(i.LAST_LOGGED_IN_USER).then(function(e){"nvidia"===a.propertyOf(e)("type")?y.showLogin({email:e.email},"l10n.sessionExpired"):y.showAccountChooser("l10n.sessionExpired")}).catch(function(){y.showAccountChooser("l10n.sessionExpired")}):y.showAccountChooser())},y.showAccountChooser=function(e){y.message=e,p("choose")},y.showLogin=function(e,t){y.prefilledLogin=e,y.message=t,p("nvLogin")},y.showRegister=function(){y.registerType="traditional",p("nvRegister")},y.showRegisterSocial=function(e){y.registerType="social",y.prefilledRegistration=e,p("nvRegister")},y.showForgotPassword=function(){p("forgotPassword")},y.showEmailVerification=function(e,t){b.debug("showEmailVerification",t),y.sessionObject=e,y.verificationType=t,p("verification")},y.showEditEmail=function(e){b.debug("showEditEmail"),y.sessionObject=e,p("editEmail")},y.attemptLogin=function(e,t,r){b.info("attemptLogin username:",e);var o=d.loginUsernamePassword(e,t).then(function(e){return n.setEventsCommonData({userId:e.user.userId},!0),e});return y.handleLoginAttempt(o,!1,r)},y.handleLoginAttempt=function(e,t,n){return e.then(function(e){e.user.core.primaryEmailVerified?(b.debug("email verified - start session"),f.endActionAsync(n,"SUCCESS"),y.handleLoggedIn(e)):y.isDomainLocked(e)?f.endActionAsync(n,"EMAIL_NOT_VERIFIED"):(b.debug("email not verified - show verification dialog. Address changed:",t===!0),t?(f.endActionAsync(n,"EMAIL_NOT_VERIFIED"),y.showEmailVerification(e,"emailUpdated")):y.attemptResendVerification(e.user.core.primaryEmail).then(function(){b.info("automatically resent verification email"),f.endActionAsync(n,"EMAIL_NOT_VERIFIED"),y.showEmailVerification(e,"resent")}).catch(function(t){b.error("Failed to re-send verification email automatically. Continue anyway."),f.endActionAsync(n,"EMAIL_NOT_VERIFIED_RESEND_FAILED"),y.showEmailVerification(e)}))})},y.handleLoggedIn=function(e){d.startSession(e).then(function(){t.getState()!==m.COMPLETED_ALL&&t.setState(m.COMPLETED_LOGIN),h(e.user)})},y.attemptResendVerification=function(e){return b.debug("re-send verification email pressed. email:",e),d.requestVerificationEmail(e)},y.isDomainLocked=function(e){if(e.domains.list){b.debug("email not verified - verify if email belongs to locked domain");var t=e.user.core.primaryEmail,n=t.substring(t.indexOf("@")+1);if(e.domains.list.indexOf(n)>-1)return y.handleLoggedIn(e),!0}return!1},g()}]);t.oobeAuthController=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthEditEmailController=void 0;var r=n(5);n(7);var o=r.ngOobeModule.controller("OobeAuthEditEmailController",["$log","jarvisService","oobeTelemetryService",function(e,t,n){function r(){n.updateScreen("SCREEN_OOBE_EMAIL_EDIT")}function o(e,n,r){return a.info("attemptChangeEmailAddress. new email:",n),t.changeEmailAddressWithSessionObject(e,n,r).then(function(e){var n=t.loginWithRegistrationToken(e.loginToken);return i.oobeAuthCtrl.handleLoginAttempt(n,!0,"SUBMIT")})}var i=this,a=e.getInstance("main.oobe/OobeAuthEditEmailController");i.emailChanged=function(){i.emailForm.email.$setValidity("notAvailable",!0)},i.passwordChanged=function(){i.emailForm.password.$setValidity("invalidPassword",!0)},i.onDone=function(){n.startActionAsync("SUBMIT"),i.emailForm.$invalid?(a.debug("tried to submit invalid form"),n.endActionAsync("SUBMIT","INVALID_FORM"),i.emailForm.password.$setTouched(),i.emailForm.email.$setTouched(),i.emailForm.reEnterEmail.$setTouched()):(i.message=null,i.waiting=!0,i.nvSessionObject.user.core.primaryEmail===i.email?(a.debug("Email did not change. Resend verification"),i.oobeAuthCtrl.attemptResendVerification(i.email).then(function(e){n.endActionAsync("SUBMIT","SUCCESS"),i.oobeAuthCtrl.showEmailVerification(i.nvSessionObject,"resent")},function(e){n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),i.oobeAuthCtrl.showEmailVerification(i.nvSessionObject,"error")})):(a.debug("Email has changed. Attempt to change email address"),o(i.nvSessionObject,i.email,i.password).catch(function(e){n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),i.waiting=!1,401===e.status?(a.debug("Change Email: Invalid credentials"),i.emailForm.password.$setValidity("invalidPassword",!1),i.emailForm.password.$setTouched()):403===e.status?(a.debug("Change Email: Account has no password, must be a social-only account"),i.message="l10n.noPassword"):409===e.status?(a.debug("Change Email: Email address is already being used"),i.emailForm.email.$setValidity("notAvailable",!1),i.emailForm.email.$setTouched()):(a.debug("Change Email: Generic server error. status:",e.status),i.message="l10n.unableToConnect")})))},i.onCancel=function(){a.debug("cancel pressed"),n.recordAction("OOBE_CANCEL"),i.oobeAuthCtrl.showEmailVerification(i.nvSessionObject,"default")},r()}]);t.oobeAuthEditEmailController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthEditEmail=void 0;var o=n(5),i=n(619),a=r(i);n(370);var s=o.ngOobeModule.directive("nvOobeAuthEditEmail",[function(){return{restrict:"E",scope:{nvSessionObject:"="},bindToController:!0,template:a.default,controller:"OobeAuthEditEmailController",controllerAs:"oobeAuthEditEmailCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthEditEmailCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthEditEmail=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthForgotPasswordController=void 0;var r=n(5);n(7);var o=r.ngOobeModule.controller("OobeAuthForgotPasswordController",["$log","jarvisService","oobeTelemetryService",function(e,t,n){function r(){n.updateScreen("SCREEN_OOBE_FORGOT_PASSWORD"),a.sentView=!1}function o(e){n.endActionAsync("SUBMIT","SUCCESS"),a.sentView=!0,a.waiting=!1}function i(e){s.debug("Reset: request failed with status:",e.status),n.endActionAsync("SUBMIT","HTTP_ERROR",e.status),a.waiting=!1,a.message="l10n.unableToSendRecovery"}var a=this,s=e.getInstance("main.oobe/OobeAuthForgotPasswordController");a.onSubmit=function(){n.startActionAsync("SUBMIT"),a.forgotForm.$invalid?(n.endActionAsync("SUBMIT","INVALID_FORM"),s.debug("Submit invalid form"),a.forgotForm.email.$setTouched()):(s.info("attemptResetPassword email:",a.email),a.waiting=!0,t.resetPassword(a.email).then(o,i))},a.onCancel=function(){n.recordAction("OOBE_CANCEL"),a.oobeAuthCtrl.showLogin()},a.onDone=function(){n.recordAction("OOBE_DONE"),a.oobeAuthCtrl.showLogin()},r()}]);t.oobeAuthForgotPasswordController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthForgotPassword=void 0;var o=n(5),i=n(620),a=r(i);n(372);var s=o.ngOobeModule.directive("nvOobeAuthForgotPassword",[function(){return{restrict:"E",scope:{},bindToController:!0,template:a.default,controller:"OobeAuthForgotPasswordController",controllerAs:"oobeAuthForgotPasswordCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthForgotPasswordCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthForgotPassword=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthNvLoginController=void 0;var o=n(5);n(19),n(15);var i=n(4),a=r(i),s=o.ngOobeModule.controller("OobeAuthNvLoginController",["$log","gfeService","oobeTelemetryService","jarvisService",function(e,t,n,r){function o(){n.updateScreen("SCREEN_OOBE_LOGIN_NVIDIA"),r.getFormValidationObject().then(function(e){angular.merge(i.validationObject,e.AuthenticationData)}),i.message=null,i.messageTranslateValues={},i.onlineState=t.onlineState,a.extend(i,i.nvPrefilled)}var i=this,s=e.getInstance("main.oobe/OobeAuthNvLoginController"),l=0;i.validationObject={email:{},password:{}},i.onSubmit=function(){var e=30;n.startActionAsync("SUBMIT"),i.loginForm.$invalid?(s.debug("Submit invalid form"),n.endActionAsync("SUBMIT","INVALID_FORM"),i.loginForm.email.$setTouched(),i.loginForm.password.$setTouched()):(s.debug("Submit valid form, attempt login"),i.waiting=!0,i.oobeAuthCtrl.attemptLogin(i.email,i.password,"SUBMIT").catch(function(t){if(n.endActionAsync("SUBMIT","HTTP_ERROR",a.propertyOf(t)("status")),i.waiting=!1,401===t.status)s.debug("Login: invalid credentials"),l+=1,i.loginForm.email.$setValidity("invalidCredentials",!1),i.loginForm.password.$setValidity("invalidCredentials",!1),i.loginForm.email.$setTouched(),i.loginForm.password.$setTouched(),l<4?i.message="l10n.invalidCredentials":i.message="l10n.invalidCredentialsAttempts";else if(403===t.status){s.debug("Login: account temporarily blocked");try{e=Math.ceil(parseInt(t.headers()["retry-after"])/60)}catch(t){s.error("Login: Error parsing retry-after. Defaulting to ",e," minutes")}i.messageTranslateValues.blockedMinutes=e,i.message="l10n.accountBlocked"}else s.debug("Login: generic server failure with status:",t.status),i.message="l10n.loginServerError"}))},i.onClickRegister=function(){n.recordAction("OOBE_NVIDIA_ACCOUNT_CREATE_NEW_ACCOUNT"),i.oobeAuthCtrl.showRegister()},i.onClickForgotPassword=function(){n.recordAction("OOBE_LOGIN_FORGOT_PASSWORD"),i.oobeAuthCtrl.showForgotPassword()},i.onClickBack=function(){n.recordAction("OOBE_BACK"),i.oobeAuthCtrl.showAccountChooser()},i.fieldsChanged=function(){i.loginForm.email.$setValidity("invalidCredentials",!0),i.loginForm.password.$setValidity("invalidCredentials",!0)},i.messageBanner=function(){return i.onlineState.online?i.message:"l10n.mustBeOnline"},o()}]);t.oobeAuthNvLoginController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthNvLogin=void 0;var o=n(5),i=n(621),a=r(i);n(163),n(165),n(374);var s=o.ngOobeModule.directive("nvOobeAuthNvLogin",[function(){return{restrict:"E",scope:{message:"@",nvPrefilled:"="},bindToController:!0,template:a.default,controller:"OobeAuthNvLoginController",controllerAs:"oobeAuthNvLoginCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthNvLoginCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthNvLogin=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthNvRegisterController=void 0;var r=n(5);n(7),n(15),n(33),n(23),n(19),n(12);var o=r.ngOobeModule.controller("OobeAuthNvRegisterController",["$log","$translate","$scope","$q","jarvisService","dbCacheService","DB_NAMES","oobeTelemetryService","telemetryService","gfwslEndpoints","dialogService","gfeService","oobeOptionsService",function(e,t,n,r,o,i,a,s,l,c,u,d,f){function m(){E.regView="register","social"===E.nvType?(s.updateScreen("SCREEN_OOBE_REGISTRATION_SOCIAL"),E.title="l10n.almostDone"):(s.updateScreen("SCREEN_OOBE_REGISTRATION_NVIDIA"),E.title="l10n.createAccount"),E.onlineState=d.onlineState,angular.merge(E.regModel,E.nvPrefilled),"social"===E.nvType&&E.regModel.email&&E.regModel.email.length>0&&(E.emailDisabled=!0),f.isNewsLetterChecked()&&(E.regModel.subscribe=!0)}function g(e){return e&&400===e.status&&e.data&&_.findWhere(e.data.details,{field:"birthdate",reason:"VALUE_OUT_OF_RANGE"})}function p(e,t){var n=i.getCachedUserItem(e,a.JARVIS_COMMON_STORE,a.SUBSCRIPTIONS),r=o.getSubscriptionData(n);return r.state=t,n.persist_()}function v(e){try{A.error("status:",e.status),A.error("statusText:",e.statusText),A.error("data:",e.data)}catch(e){A.error("no valid response provided from server",e)}}function h(){A.debug("showTermsAndConditionsDialog"),s.startActionAsync("AGREE_TO_TERMS_LINK"),c.staticContent.getTermsAndConditions().then(function(e){try{s.endActionAsync("AGREE_TO_TERMS_LINK","SUCCESS"),u.show("nv-dialog-html",{style:"dialog-service-container-size",title:"l10n.termsAndConditions",html:e.data.gfcontent.body,closeButton:{action:u.cancel}})}catch(t){return A.error("parse failure showing terms and conditions"),s.endActionAsync("AGREE_TO_TERMS_LINK","PARSE_ERROR"),r.reject(e)}}).catch(function(e){A.error("http failure showing terms and conditions"),s.endActionAsync("AGREE_TO_TERMS_LINK","HTTP_ERROR",_.propertyOf(e)("status")),v(e)})}function y(){A.debug("showPrivacyPolicyDialog"),s.startActionAsync("PRIVACY_POLICY_LINK"),c.staticContent.getPrivacyPolicy().then(function(e){try{s.endActionAsync("PRIVACY_POLICY_LINK","SUCCESS"),u.show("nv-dialog-html",{style:"dialog-service-container-size",title:"l10n.privacyPolicy",html:e.data.gfcontent.body,closeButton:{action:u.cancel}})}catch(t){return A.error("parse failure showing terms and conditions"),s.endActionAsync("PRIVACY_POLICY_LINK","PARSE_ERROR"),r.reject(e)}}).catch(function(e){A.error("http failure showing privacy policy"),s.endActionAsync("PRIVACY_POLICY_LINK","HTTP_ERROR",_.propertyOf(e)("status")),v(e)})}function b(){var e="SUBMIT";return"social"===E.nvType&&("google"===E.regModel.provider?e="REGISTER_GOOGLE":"facebook"===E.regModel.provider&&(e="REGISTER_FACEBOOK")),e}function S(e){var t=e.subscribe;return e=_.omit(e,"subscribe"),A.info("attemptRegistration"),o.register(e).then(function(e){var n=e.data.loginToken;s.updateFlow("LAUNCH_STATE_REGISTRATION"),A.debug("attemptRegistration Success, now login"),o.loginWithRegistrationToken(n).then(function(e){s.endActionAsync(b(),"SUCCESS"),l.setEventsCommonData({userId:e.user.userId},!0),A.debug("attemptRegistration login success, now remember newsletter preference ",t),i.syncUser(a.JARVIS_COMMON_STORE,e.user.userId).then(p(e.user.userId,t)).finally(function(){s.changeSetting("APPLICATION_SETTING_SUBSCRIBE_NEWSLETTER",t),E.oobeAuthCtrl.isDomainLocked(e)||E.oobeAuthCtrl.showEmailVerification(e,"created")})},function(e){A.error("Login attempt using registration token failed. Falling back to login page."),s.endActionAsync(b(),"LOGIN_FAILED",_.propertyOf(e)("status")),E.oobeAuthCtrl.showLogin()})})}var E=this,A=e.getInstance("main.oobe/OobeAuthNvRegisterController");E.validationObject={displayName:{},email:{},password:{}},E.today=new Date,E.displayNameErrorWrapper={},E.emailDisabled=!1,t("l10n.dateOfBirth").then(function(e){E.dateOfBirthTitle=e}),o.getFormValidationObject().then(function(e){angular.merge(E.validationObject,e.RegistrationData)}),E.onSubmit=function(){if(void 0!==E.regForm.$valid){var e;if(s.startActionAsync(b()),E.regForm.displayName.$setTouched(),E.regForm.email.$setTouched(),E.regForm.password&&E.regForm.password.$setTouched(),E.regForm.$invalid){A.debug("Submit invalid form"),s.endActionAsync(b(),"INVALID_FORM");var t=_.reduce(E.regForm.$error,function(e,t){return e.concat(t)})||[];E.regForm.agreeToTerms.$invalid&&1===t.length?E.message="l10n.mustAgreeToTerms":E.message="l10n.fillOutAllFields"}else E.waiting=!0,e=_.pick(E.regModel,"email","password","birthdate","displayName","thirdPartyId","subscribe"),e.birthdate=E.regModel.birthdate,e.thirdPartyId&&(e.password=null),A.debug("Submit valid form, attempt registration"),S(e).catch(function(e){var t=_.propertyOf(e)("status");s.endActionAsync(b(),"HTTP_ERROR",_.propertyOf(e)("status")),E.waiting=!1,g(e)?(A.debug("Register: Failure due to birthdate"),E.regView="coppa"):409===t?(A.debug("Register: Failure due to email not available"),E.regForm.email.$setValidity("notAvailable",!1),E.regForm.email.$setTouched()):(A.debug("Register: generic server failure with status:",t,e),E.message="l10n.serverErrorRegister")})}else{E.waiting=!0;var r=n.$watch("oobeAuthNvRegisterCtrl.regForm.$valid",function(e,t){void 0!==e&&(r(),E.waiting=!1,E.onSubmit())})}},E.emailChanged=function(){E.regForm.email.$setValidity("notAvailable",!0)},E.regModel={email:"",password:"",birthdate:null,displayName:"",subscribe:!1},E.onClickBack=function(){s.recordAction("OOBE_BACK"),E.oobeAuthCtrl.showLogin()},E.onClickDone=function(){s.recordAction("OOBE_DONE"),E.oobeAuthCtrl.showAccountChooser()},E.onClickAgreeToTerms=function(e){A.debug("click agree to terms"),e.stopPropagation(),h()},E.onClickPrivacyPolicy=function(e){y()},E.messageBanner=function(){return E.onlineState.online?E.message:"l10n.mustBeOnline"},n.$watch("[oobeAuthNvRegisterCtrl.regForm.displayName.$error,oobeAuthNvRegisterCtrl.regForm.displayName.$touched,oobeAuthNvRegisterCtrl.regForm.displayName.$pending]",function(){E.regForm&&!E.regForm.displayName.$pending&&(E.displayNameErrorWrapper=angular.copy(E.regForm.displayName.$error),E.regForm.displayName.$touched&&E.regForm.displayName.$invalid||(E.displayNameErrorWrapper={valid:!0}))},!0),m()}]);t.oobeAuthNvRegisterController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthNvRegister=void 0;var o=n(5),i=n(622),a=r(i);n(376),n(160),n(163),n(170),n(229),n(92),n(235),n(165);var s=o.ngOobeModule.directive("nvOobeAuthNvRegister",[function(){return{restrict:"E",scope:{nvType:"@",nvPrefilled:"="},bindToController:!0,template:a.default,controller:"OobeAuthNvRegisterController",controllerAs:"oobeAuthNvRegisterCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthNvRegisterCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthNvRegister=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthSyncController=void 0;var r=n(5);n(90),n(7),n(12);var o=r.ngOobeModule.controller("OobeAuthSyncController",["$log","jarvisService","dbCacheService","oobeTelemetryService","DB_NAMES","DEFAULT_AVATAR",function(e,t,n,r,o,i){function a(){s.defaultAvatarUrl=i.URL,r.updateScreen("SCREEN_OOBE_LOADING_DATA"),s.displayName=l.core.displayName,s.avatar=n.getCachedUserItem(l.userId,o.JARVIS_GFE_STORE,o.JARVIS_AVATAR),r.startActionAsync("SYNC")}var s=this,l=(e.getInstance("main.oobe/OobeAuthSyncController"),t.getLoggedInUser());a()}]);t.oobeAuthSyncController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthSync=void 0;var o=n(5),i=n(623),a=r(i);n(378);var s=o.ngOobeModule.directive("nvOobeAuthSync",[function(){return{restrict:"E",scope:{},bindToController:{},template:a.default,controller:"OobeAuthSyncController",controllerAs:"oobeAuthSyncCtrl"}}]);t.nvOobeAuthSync=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeAuthVerificationController=void 0;var r=n(5);n(7),n(15);var o=r.ngOobeModule.controller("OobeAuthVerificationController",["$log","$q","jarvisService","oobeTelemetryService",function(e,t,n,r){function o(){r.updateScreen("SCREEN_OOBE_EMAIL_VERIFICATION"),"created"===a.nvType?a.title="l10n.accountCreated":a.title="l10n.emailVerificationPending","resent"===a.nvType?a.message="l10n.verificationEmailResent":"error"===a.nvType?a.message="l10n.unableToSendEmail":"emailUpdated"===a.nvType&&(a.message="l10n.emailAddressUpdated"),a.translateValues={email:a.nvSessionObject.user.core.primaryEmail}}function i(e){return s.info("attemptRecheckVerification"),n.getUserProfileWithSessionObject(e).then(function(n){
return e.user=n.data,e.user.core.primaryEmailVerified?(s.debug("attemptRecheckVerification - now verified"),r.endActionAsync("CONTINUE","SUCCESS"),a.oobeAuthCtrl.handleLoggedIn(e),void 0):(s.debug("attemptRecheckVerification - still unverified"),r.endActionAsync("CONTINUE","EMAIL_NOT_VERIFIED"),t.reject(n))})}var a=this,s=e.getInstance("main.oobe/OobeAuthVerificationController");a.onRecheck=function(){s.debug("re-check verification pressed"),r.startActionAsync("CONTINUE"),a.waiting=!0,i(a.nvSessionObject).catch(function(e){a.waiting=!1,200===e.status?(s.debug("Recheck: endpoint request was successful, but email still not verified"),a.message="l10n.notBeenVerified"):401===e.status?(s.debug("Recheck: session is no longer valid"),a.oobeAuthCtrl.nvOobeParams=a.oobeAuthCtrl.nvOobeParams||{},a.oobeAuthCtrl.nvOobeParams.sessionExpired=!0,a.oobeAuthCtrl.selectView(),r.endActionAsync("CONTINUE","HTTP_ERROR",e.status)):(s.debug("Recheck: generic server error. status:",e.status),a.message="l10n.unableToConnect",r.endActionAsync("CONTINUE","HTTP_ERROR",e.status))})},a.onResend=function(){r.startActionAsync("RESEND"),a.waiting=!0,a.oobeAuthCtrl.attemptResendVerification(a.nvSessionObject.user.core.primaryEmail).then(function(e){s.debug("Resend: successfully sent email"),r.endActionAsync("RESEND","SUCCESS"),a.waiting=!1,a.message="l10n.verificationEmailResent"},function(e){s.debug("Resend: failed to send email."),r.endActionAsync("RESEND","HTTP_ERROR",e.status),a.waiting=!1,a.message="l10n.unableToSendEmail"})},a.onChangeUser=function(){s.debug("change user pressed"),r.recordAction("OOBE_CHANGE_USER_PROGRESS"),a.oobeAuthCtrl.showAccountChooser()},a.onEditEmail=function(){s.debug("edit email pressed"),r.recordAction("OOBE_EDIT_EMAIL"),a.oobeAuthCtrl.showEditEmail(a.nvSessionObject)},o()}]);t.oobeAuthVerificationController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuthVerification=void 0;var o=n(5),i=n(624),a=r(i);n(380);var s=o.ngOobeModule.directive("nvOobeAuthVerification",[function(){return{restrict:"E",scope:{nvSessionObject:"=",nvType:"@"},bindToController:!0,template:a.default,controller:"OobeAuthVerificationController",controllerAs:"oobeAuthVerificationCtrl",require:"^^nvOobeAuth",link:function(e,t,n,r){e.oobeAuthVerificationCtrl.oobeAuthCtrl=r}}}]);t.nvOobeAuthVerification=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeAuth=void 0;var o=n(5),i=n(625),a=r(i);n(369),n(368),n(375),n(377),n(379),n(373),n(381),n(371);var s=o.ngOobeModule.directive("nvOobeAuth",[function(){return{restrict:"E",scope:{nvActiveAuthView:"@",nvOobeParams:"="},bindToController:!0,template:a.default,controller:"OobeAuthController",controllerAs:"oobeAuthCtrl",require:"^^nvOobe",link:function(e,t,n,r){e.oobeAuthCtrl.oobeCtrl=r}}}]);t.nvOobeAuth=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeDialogService=void 0;var o=n(5);n(385),n(97),n(192),n(19),n(7),n(12),n(185),n(24);var i=n(4),a=r(i),s=o.ngOobeModule.factory("oobeDialogService",["$log","$state","gfeService","jarvisService","eventAggregator","dbService","DB_NAMES","oobeTelemetryService","ootbEndpoints","$mdPanel","hardwareService","oobeGamesService","COMMON_EVENTS","COMMON_DEFAULT_STATES","OOBE_STATE",function(e,t,n,r,o,i,s,l,c,u,d,f,m,g,p){function v(){return A.getItem(s.OOBE_STATE)}function h(e){return e===p.COMPLETED_ALL&&(w.info("notify ootb completion"),c.finished().catch(function(e){w.error("ootb finished failed",e)})),A.setItem(s.OOBE_STATE,e)}function y(e){w.info("sysinfo updated",e.DriverVersion),a.propertyOf(e)("DriverVersion")&&(o.off(m.SYSTEMINFO_UPDATED,y),_!==p.COMPLETED_ALL&&t.go(g.HOME_STATE,{},{location:"replace"}),E.finishOobe(r.getLoggedInUser()))}function b(e){var t;t=e.user?"LAUNCH_STATE_VALID_SESSION":e.initialState===p.COMPLETED_ALL?null:"LAUNCH_STATE_LOGIN",l.startFlow(t);var n='<nv-oobe nv-oobe-params="panelCtrl.nvOobeParams"></nv-oobe>';S=u.create({template:n,controllerAs:"panelCtrl",controller:[function(){}],position:u.newPanelPosition().absolute().center(),trapFocus:!0,zIndex:79,locals:{nvOobeParams:e},bindToController:!0,hasBackdrop:!0,panelClass:"oobe-panel"}),S.open()}var S,E={},_=p.COMPLETED_NONE,A=i.getGlobalStore(s.GLOBAL_STORE),w=e.getInstance("main.oobe/oobeDialogService");return E.launch=function(e){v().then(function(t){_=t,w.info("Launch OOBE current state:",t),b({initialState:t,sessionExpired:e})})},E.getState=function(){return _},E.setState=function(e){_=e,h(_)},E.finishOobe=function(e){var t=!1;d.getSystemInfo().then(function(e){t=!a.propertyOf(e)("DriverVersion")}).catch(function(e){w.error("fail to get driver info")}).finally(function(){t?o.on(m.SYSTEMINFO_UPDATED,y):v().then(function(t){_=t||p.COMPLETED_NONE,w.info("Finish OOBE current state:",_),_!==p.COMPLETED_ALL?(w.info("finish oobe scan"),b({user:e,initialState:t})):(w.info("finish oobe initialize games"),f.initializeGames(e))})})},E.close=function(e){l.endFlow(e),S&&S.close()},E.waitForDriverInstall=function(){o.on(m.SYSTEMINFO_UPDATED,y),o.trigger(m.LOGIN_STATUS_CHANGE,!0),t.go("main.auth.updates",{updateState:"checkForUpdate"},{location:"replace"}),E.close()},E.reset=function(){w.info("Reset to Out of Box Experience state"),E.close(),h(p.COMPLETED_NONE),n.logout()},E}]);t.oobeDialogService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeController=void 0;var r=n(5);n(97),n(19);var o=r.ngOobeModule.controller("OobeController",["$log","oobeDialogService","oobeGamesService","gfeService","OOBE_STATE",function(e,t,n,r,o){function i(){d.nvOobeParams.user?d.nvOobeParams.initialState===o.COMPLETED_LOGIN?d.showAuth():m.error("Unknown logged in OOBE state",d.nvOobeParams.initialState):d.nvOobeParams.initialState&&d.nvOobeParams.initialState!==o.COMPLETED_NONE?d.showAuth():a("welcome")}function a(e){d.nvActiveView=e}function s(){f.length>1?(d.progressShow=!0,d.progressActive=u,d.progressSections=f.length):d.progressShow=!1}function l(){s(),a(f[u])}function c(){f=[],s(),a("done")}var u,d=this,f=[],m=e.getInstance("main.oobe/OobeController");d.showAuth=function(){a("auth")},d.onLoggedIn=function(e,i){m.info("onLoggedIn"),r.login(e),t.getState()!==o.COMPLETED_ALL?(m.info("handleloggedin - start features"),f=i,u=0,l()):(m.info("handleloggedin - dismiss"),n.initializeGames(e),t.close("SUCCESS"))},d.onShowNoDriver=function(){a("noDriver")},d.onFeatureDone=function(){m.info("onFeatureDone:",f[u]),u+=1,u>=f.length?c():l()},d.onFeatureBack=function(){m.info("onFeatureBack"),u-=1,l()},d.showFeatureBack=function(){return u>1},i()}]);t.oobeController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobe=void 0;var o=n(5),i=n(626),a=r(i);n(384),n(398),n(382),n(389),n(392),n(394),n(396),n(387);var s=o.ngOobeModule.directive("nvOobe",[function(){return{restrict:"E",scope:{nvActiveView:"@",nvOobeParams:"="},bindToController:!0,template:a.default,controller:"OobeController",controllerAs:"oobeCtrl"}}]);t.nvOobe=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeDoneController=void 0;var r=n(5),o=r.ngOobeModule.controller("OobeDoneController",["$log","oobeDialogService","OOBE_STATE","oobeGamesService","eventAggregator","OOBE_SCAN_STATE","OOBE_EVENTS","$timeout","oobeTelemetryService","preferencesService","toastService","$filter","SHARE_CONSTANTS","COMMON_HTTP_ERROR_CODES",function(e,t,n,r,o,i,a,s,l,c,u,d,f,m){function g(e,t,n,r,o){u.show({textContent:e,icon:t,isCustomIcon:n,customColor:r,alertIcon:o})}function p(){c.getShareRunningStatus().then(function(e){if(e){var t=d("translate")("l10n.sharingEnabled");g(t,"icon-share",!0,"color-green",!1),c.showShareSlideOutNotification(f.SLIDE_OUT_NOTIFICATION).then(function(e){x.info("showShareSlideOutNotification status: ",e)},function(e){x.error("showShareSlideOutNotification failed.")})}},function(e){if(x.error("getShareRunningStatus failed."),e.status===m.NOT_FOUND){var t=d("translate")("l10n.shareNotReady");g(t,"icon-share",!0,"feature-not-supported-icon-color",!0)}})}function v(){x.info("register oobe scan events"),o.on(a.SCAN_FINISHED,E),o.on(a.GAMELIST_UPDATED,_),o.on(a.SCAN_PROGRESS,A)}function h(){x.info("unregister oobe scan events"),o.off(a.SCAN_FINISHED,E),o.off(a.GAMELIST_UPDATED,_),o.off(a.SCAN_PROGRESS,A)}function y(){x.info("oobe done"),t.setState(n.COMPLETED_ALL),h()}function b(){C&&s.cancel(C),t.close("SUCCESS"),l.endActionAsync("OOBE_SCAN_COMPLETE_DONE","SUCCESS"),p()}function S(e){y(),x.info("setView ",e);var t=5e3;0===e?(I.doneView="nogames",t=4e3):I.doneView="done",C=s(function(){b()},t)}function E(e){x.info("oobe scan games finished"),S(e)}function _(e){x.info("oobe game list updated ",e),I.translateValues.numGamesScanned=e}function A(e){I.translateValues.scanLocation=e}function w(){l.updateScreen("SCREEN_OOBE_DONE"),l.startActionAsync("OOBE_SCAN_COMPLETE_DONE");var e=r.getGamesCount();r.getScanState()===i.SCANNING?(x.info("oobe scan state scanning"),I.doneView="scanning",v()):(x.info("oobe scan state done"),S(e)),I.translateValues.numGamesScanned=e}var I=this,C=null,x=e.getInstance("main.oobe/OobeDoneController");I.translateValues={numGamesScanned:0,scanLocation:""},I.onClickDone=function(){x.info("done clicked"),b()},w()}]);t.oobeDoneController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeDone=void 0;var o=n(5),i=n(627),a=r(i);n(386);var s=o.ngOobeModule.directive("nvOobeDone",[function(){return{restrict:"E",scope:{},bindToController:{},template:a.default,controller:"OobeDoneController",controllerAs:"oobeDoneCtrl",require:"^^nvOobe",link:function(e,t,n,r){e.oobeDoneCtrl.oobeCtrl=r}}}]);t.nvOobeDone=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeNoDriverController=void 0;var r=n(5),o=r.ngOobeModule.controller("OobeNoDriverController",["$log","oobeDialogService","oobeTelemetryService",function(e,t,n){function r(){n.updateScreen("SCREEN_OOBE_NO_DRIVER")}var o=this,i=e.getInstance("main.oobe/OobeNoDriverController");o.onClickContinue=function(){i.debug("redirect to driver page"),n.recordAction("OOBE_CONTINUE"),t.waitForDriverInstall()},r()}]);t.oobeNoDriverController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeNoDriver=void 0;var o=n(5),i=n(628),a=r(i);n(388);var s=o.ngOobeModule.directive("nvOobeNoDriver",[function(){return{restrict:"E",scope:{},bindToController:{},template:a.default,controller:"OobeNoDriverController",controllerAs:"oobeNoDriverCtrl",require:"^^nvOobe"}}]);t.nvOobeNoDriver=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.oobeOptionsService=void 0;var o=n(5);n(192),n(12);var i=n(4),a=r(i),s=o.ngOobeModule.factory("oobeOptionsService",["$log","dbService","DB_NAMES","GFECLIENT_CONFIG","$q",function(e,t,n,r,o){function i(){return c.getItem(n.GEO_DETAILS).then(function(e){return e?e.countryCode:void o.reject()}).catch(function(){var e="US";return u.error("Returning default CountryCode: ",e),o.resolve(e)})}function s(e){var t={facebook:!1,google:!1,wechat:!1,qq:!1};return e?e.forEach(function(e){t[e]=!0}):(t.facebook=!0,t.google=!0),t}var l={},c=t.getGlobalStore(n.GLOBAL_STORE),u=e.getInstance("main.oobe/oobeOptionsServices"),d={},f=!1,m=angular.merge({},r.loginOptions),g=angular.merge({},r.newsletter);return l.initialize=function(){u.info("Initialize");var e={isChecked:!0};return i().then(function(t){d=a.has(m,t)?s(m[t]):s(),e.loginOptions=d,g.checked&&(f=g.checked.indexOf(t)!=-1),e.isChecked=f}).catch(function(t){u.error("Error: ",t),d=s(),e.loginOptions=d})},l.getLoginOptions=function(){return d},l.isNewsLetterChecked=function(){return f},l}]);t.oobeOptionsService=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeScanController=void 0;var r=n(5);n(97);var o=r.ngOobeModule.controller("OobeScanController",["$log","oobeGamesService","oobeTelemetryService",function(e,t,n){function r(){n.updateScreen("SCREEN_OOBE_SCAN_START"),o.autoOptimize=!0}var o=this,i=e.getInstance("main.oobe/OobeScanController");o.onClickScan=function(){i.info("onClickScan"),n.recordAction("OOBE_SCAN"),n.changeSetting("APPLICATION_SETTING_AUTO_OPTIMIZE_NEW_GAMES",o.autoOptimize),t.startScan(o.autoOptimize),o.oobeCtrl.onFeatureDone()},r()}]);t.oobeScanController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeScan=void 0;var o=n(5),i=n(629),a=r(i);n(391);var s=o.ngOobeModule.directive("nvOobeScan",[function(){return{restrict:"E",scope:{},bindToController:{},template:a.default,controller:"OobeScanController",controllerAs:"oobeScanCtrl",require:"^^nvOobe",link:function(e,t,n,r){e.oobeScanCtrl.oobeCtrl=r}}}]);t.nvOobeScan=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeShareController=void 0;var r=n(5);n(16),n(166);var o=r.ngOobeModule.controller("OobeShareController",["$log","preferencesService","oobeTelemetryService","keyboardService",function(e,t,n,r){function o(){t.getHotkeyShortcut("OpenShare").then(function(e){s.translateValues.assignedKey=r.shortcutToStr(e.keys),s.shareHotkeyFetched=!0,l.info("Share hotkey: ",s.translateValues.assignedKey)},function(e){s.shareHotkeyFetched=!1,l.error("Error in retrieving shortcut for OpenShare:",e)})}function i(){s.shareHotkeyFetched=!1,s.translateValues={},n.updateScreen("SCREEN_OOBE_SHARE_ENABLE"),o()}function a(){n.recordAction("OOBE_CONTINUE"),t.toggleShareState(!0).then(function(e){l.info("toggleShareState status: ",e),n.changeSetting("APPLICATION_SETTING_ENABLE_SHARE",!0)},function(e){l.error("toggleShareState failed with error:",e),n.changeSettingFail("APPLICATION_SETTING_ENABLE_SHARE_FAILED",!0,e.status)})}var s=this,l=e.getInstance("main.oobe/OobeShareController");s.onClickEnable=function(){a(),s.oobeCtrl.onFeatureDone()},s.onClickNo=function(){n.recordAction("OOBE_ENABLE_SHARE_NOT_NOW"),s.oobeCtrl.onFeatureDone()},i()}]);t.oobeShareController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeShare=void 0;var o=n(5),i=n(630),a=r(i);n(393);var s=o.ngOobeModule.directive("nvOobeShare",[function(){return{restrict:"E",scope:{},bindToController:{},template:a.default,controller:"OobeShareController",controllerAs:"oobeShareCtrl",require:"^^nvOobe",link:function(e,t,n,r){e.oobeShareCtrl.oobeCtrl=r}}}]);t.nvOobeShare=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeStreamController=void 0;var r=n(5);n(16);var o=r.ngOobeModule.controller("OobeStreamController",["$log","preferencesService","oobeTelemetryService",function(e,t,n){function r(){n.updateScreen("SCREEN_OOBE_GAMESTREAM_ENABLE")}var o=this,i=e.getInstance("main.oobe/OobeStreamController");o.onClickEnable=function(){i.info("trying to enable GameStream from oobe"),n.recordAction("OOBE_CONTINUE"),t.updateGameStreamServerStatus(!0).then(function(e){n.changeSetting("APPLICATION_SETTING_ENABLE_GAMESTREAM",!0)}).catch(function(e){i.error("failure enabling gamestream server"),n.changeSettingFail("APPLICATION_SETTING_ENABLE_GAMESTREAM_FAILED",!0,e.status)}),o.oobeCtrl.onFeatureDone()},o.onClickNo=function(){n.recordAction("OOBE_ENABLE_GAMESTREAM_NOT_NOW"),o.oobeCtrl.onFeatureDone()},r()}]);t.oobeStreamController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeStream=void 0;var o=n(5),i=n(631),a=r(i);n(395);var s=o.ngOobeModule.directive("nvOobeStream",[function(){return{restrict:"E",scope:{},bindToController:{},template:a.default,controller:"OobeStreamController",controllerAs:"oobeStreamCtrl",require:"^^nvOobe",link:function(e,t,n,r){e.oobeStreamCtrl.oobeCtrl=r}}}]);t.nvOobeStream=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oobeWelcomeController=void 0;var r=n(5),o=r.ngOobeModule.controller("OobeWelcomeController",["$log","oobeTelemetryService",function(e,t){function n(){t.updateScreen("SCREEN_OOBE_WELCOME")}var r=this;e.getInstance("main.oobe/OobeWelcomeController");r.onClickNext=function(){t.recordAction("OOBE_GET_STARTED"),r.oobeCtrl.showAuth()},n()}]);t.oobeWelcomeController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvOobeWelcome=void 0;var o=n(5),i=n(632),a=r(i);n(397);var s=o.ngOobeModule.directive("nvOobeWelcome",[function(){return{restrict:"E",scope:{},bindToController:{},template:a.default,controller:"OobeWelcomeController",controllerAs:"oobeWelcomeCtrl",require:"^^nvOobe",link:function(e,t,n,r){e.oobeWelcomeCtrl.oobeCtrl=r}}}]);t.nvOobeWelcome=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editAvatarController=void 0;var r=n(3);n(7),n(23),n(90),n(89);var o=r.ngPreferencesModule.controller("EditAvatarController",["$log","jarvisService","dialogService","cmsService","toastService","$filter","dbCacheService","DB_NAMES","DEFAULT_AVATAR",function(e,t,n,r,o,i,a,s,l){function c(){o.showError({textContent:i("translate")("l10n.somethingWentWrong")})}function u(){angular.merge(f,m.avatarObject),f.persist_(),p.debug("successfully updated avatar image"),n.cancel()}function d(){m.defaultAvatarUrl=l.URL,f=a.getCachedUserItem(g.userId,s.JARVIS_GFE_STORE,s.JARVIS_AVATAR),m.avatarList=null,m.avatarObject=_.omit(f,function(e,t){return"_"===t.substr(t.length-1)}),angular.merge(m.nvDialogModel,v),r.getAvatarMetaData("http://assets.nvidiagrid.net/avatars/avatars.js").then(function(e){m.avatarList=e.data},function(e){p.debug("failed to query avatar list "+e),c()})}var f,m=this,g=t.getLoggedInUser(),p=e.getInstance("main.preferences/EditAvatarController"),v={title:"l10n.updateAvatar",button1:{text:"l10n.done",action:u},button2:{text:"l10n.cancel",action:n.cancel}};m.selectAvatar=function(e){m.avatarObject=e},d()}]);t.editAvatarController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditAvatar=void 0;var o=n(3),i=n(633),a=r(i);n(399);var s=o.ngPreferencesModule.directive("nvEditAvatar",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"EditAvatarController",controllerAs:"editAvatarCtrl"}}]);t.nvEditAvatar=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditEmailResultDialog=void 0;var o=n(5),i=n(634),a=r(i),s=o.ngOobeModule.directive("nvEditEmailResultDialog",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:[function(){}],controllerAs:"emailUpdatedCtrl"}}]);t.nvEditEmailResultDialog=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editEmailService=void 0;var r=n(3);n(23),n(7),n(401),n(158),n(159);var o=r.ngPreferencesModule.service("editEmailService",["$log","dialogService","jarvisService","$q",function(e,t,n,r){var o=this,i=e.getInstance("main.preferences/preferencesService"),a=n.getLoggedInUser(),s="";o.updateEmail=function(e){s=e,o.attemptResendVerification(e).then(function(e){o.showEmailVerificationDialog(t.model.sessionObject,"l10n.verificationEmailResent")},function(e){o.showEmailVerificationDialog(t.model.sessionObject,"l10n.unableToSendEmail")})},o.resendVerification=function(){i.info("change email: resendVerification"),i.debug("re-send verification email pressed"),t.model.waiting=!0,o.attemptResendVerification(t.model.translateValues.email).then(function(e){i.debug("Resend: successfully sent email"),t.model.waiting=!1,t.model.error="l10n.verificationEmailResent"},function(e){i.debug("Resend: failed to send email."),t.model.waiting=!1,t.model.error="l10n.unableToSendEmail"})},o.attemptResendVerification=function(e){return i.info("attemptResendVerification. email:",e),r.resolve()},o.changeEmailWithTwoFactorAuthentication=function(){t.model.waiting=!0,o.attemptChangeEmailWithTwoFactorAuthentication(t.model.sessionObject,t.model.translateValues.email).then(function(e){i.debug("changeEmailWithTwoFactorAuthentication: successfully updated email"),t.model.waiting=!1,o.showEmailUpdatedDialog(t.model.translateValues.email)},function(e){i.debug("changeEmailWithTwoFactorAuthentication: failed updating email."),t.model.waiting=!1})},o.attemptChangeEmailWithTwoFactorAuthentication=function(e,t){return i.info("attemptChangeEmailWithTwoFactorAuthentication. email:",t),r.resolve()},o.showEmailUpdatedDialog=function(e){i.info("email updated successfully. new email: ",e),t.show("nv-edit-email-result-dialog",{title:"l10n.emailUpdatedSuccessfully",newEmail:e,button1:{text:"l10n.continue",action:t.cancel}})},o.showEmailVerificationDialog=function(e,n,r){i.debug("change email: show email verification dialog");var l={style:"honeycomb-square",title:n||"l10n.emailVerificationPending",error:r,translateValues:{email:s},sessionObject:e,editMailAddress:function(){i.debug("edit email pressed on email verification dialog"),e.user=a,t.show("nv-dialog-edit-email",{title:"l10n.changeEmailAddress",sessionObject:e,is2FactorAuthentication:!0,actionVerifyEmail:o.updateEmail,actionCancelUpdateEmail:t.cancel()})},button1:{text:"l10n.continue",action:o.changeEmailWithTwoFactorAuthentication},button2:{text:"l10n.cancel",action:t.cancel},button3:{text:"l10n.resendVerification",action:o.resendVerification}};t.show("nv-dialog-email-verification",l)}}]);t.editEmailService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editPasswordController=void 0;var r=n(3);n(23),n(7);var o=r.ngPreferencesModule.controller("EditPasswordController",["$log","dialogService","jarvisService","$filter",function(e,t,n,r){function o(){if(a.debug("attempt to send change password request"),i.passwordForm.currentPassword.$setTouched(),i.passwordForm.changedPassword.$setTouched(),i.passwordForm.confirmedPassword.$setTouched(),i.passwordForm.$invalid)return a.debug("password fields are not met validation, cannot make change request"),void(i.nvDialogModel.error="l10n.fillOutAllFields");i.nvDialogModel.error="",i.nvDialogModel.waiting=!0;var e={token:"",currentPassword:i.nvDialogModel.passwordModel.currentPassword,newPassword:i.nvDialogModel.passwordModel.changedPassword};n.changePassword(e).then(function(e){a.debug("change password succeed"),t.cancel()}).catch(function(e){a.error("change password failed"),i.nvDialogModel.waiting=!1,400===e.status?(a.debug("failure due to bad request"),i.nvDialogModel.error="l10n.unableToConnectToNvidia"):401===e.status?(a.debug("failure due to authrization failed"),i.nvDialogModel.error="l10n.incorrectPassword",i.passwordForm.changedPassword.$setValidity("invalidPassword",!1),i.passwordForm.changedPassword.$setTouched()):(a.debug("generic failure with status",e.status),i.nvDialogModel.error="l10n.unableToConnectToNvidia")})}var i=this,a=e.getInstance("main.preferences/EditPasswordController"),s={title:r("translate")("l10n.changePassword"),button1:{text:"l10n.done",action:o},button2:{text:"l10n.cancel",action:t.cancel},passwordModel:{currentPassword:"",changedPassword:"",confirmedPassword:""}};i.validationObject={password:{}},n.getFormValidationObject().then(function(e){angular.merge(i.validationObject,e.RegistrationData)}),angular.merge(i.nvDialogModel,s)}]);t.editPasswordController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvEditPassword=void 0;var o=n(3);n(160),n(162),n(92);var i=n(635),a=r(i);n(403);var s=o.ngPreferencesModule.directive("nvEditPassword",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"EditPasswordController",controllerAs:"editPasswordCtrl"}}]);t.nvEditPassword=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featureDescriptionController=void 0;var r=n(3),o=r.ngPreferencesModule.controller("FeatureDescriptionController",["$scope","$window","$log","FEATURES_NAME","localeService","COMMON_DYNAMIC_REDIRECT",function(e,t,n,r,o,i){function a(){var e;switch(s.featureName){case r.GAME_OPS:case r.SHARE:e=i.SYSTEM_REQS;break;case r.GAME_STREAM:e=i.GAME_STREAM_REQUIREMENTS;break;case r.VIRTUAL_REALITY:e=i.VR_REQUIREMENTS;break;case r.BATTERY_BOOST:e=null}return e?{url:i.BASE_URL+o.getCurrentLocaleWithUnderscore()+"&page="+e,text:"l10n.viewSystemRequirements"}:null}var s=this,l=n.getInstance("main.preferences/FeatureDescriptionController");s.requirements=e.nvFeatureRequirements,s.featureName=e.nvFeatureName,s.systemRequirement=a(),s.openLink=function(){l.info("SystemRequirements redirects to url:: ",s.systemRequirement.url),t.open(s.systemRequirement.url)}}]);t.featureDescriptionController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeatureDescription=void 0;var o=n(3);n(21);var i=n(636),a=r(i);n(405);var s=o.ngPreferencesModule.directive("nvFeatureDescription",function(){return{restrict:"E",scope:{nvFeatureName:"@",nvFeatureRequirements:"="},template:a.default,controller:"FeatureDescriptionController",controllerAs:"featureDescription"}});t.nvFeatureDescription=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.featureHeaderController=void 0;var r=n(3),o=r.ngPreferencesModule.controller("FeatureHeaderController",["$scope","FEATURES_NAME",function(e,t){function n(){switch(r.nvFeatureTile){case t.GAME_OPS:return"icon-guage";case t.GAME_STREAM:return"icon-gamestream";case t.BATTERY_BOOST:return"icon-batteryboost";case t.SHARE:return"icon-share";case t.VIRTUAL_REALITY:return"icon-VR"}}var r=this;r.featureName=e.nvFeatureName,r.nvFeatureTile=e.nvFeatureTile,r.featureDescription=e.nvFeatureDescription,r.nvOverallState=e.nvOverallState,r.featureThumbnail=n()}]);t.featureHeaderController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvFeatureHeader=void 0;var o=n(3);n(21),n(13);var i=n(637),a=r(i);n(407);var s=o.ngPreferencesModule.directive("nvFeatureHeader",function(){return{restrict:"E",scope:{nvFeatureTile:"@",nvFeatureName:"@",nvFeatureDescription:"@",nvOverallState:"@"},template:a.default,controller:"FeatureHeaderController",controllerAs:"featureHeader"}});t.nvFeatureHeader=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.licenseAgreementController=void 0;var r=n(3);n(23),n(16);var o=r.ngPreferencesModule.controller("LicenseAgreementController",["$log","dialogService","$q","preferencesService",function(e,t,n,r){function o(){r.getLicenseAgreement().then(function(e){i.licenseAgreement=e.data,i.nvDialogModel.title="l10n.licenseTitle"}).catch(function(e){return a.error("error getting license",e),n.reject()})}var i=this;i.licenseAgreement="";var a=e.getInstance("main.preferences/LicenseAgreementController");o(),i.nvDialogModel.titleStyle={"font-size":"1.15em"},i.nvDialogModel.closeButton={action:t.cancel}}]);t.licenseAgreementController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvLicenseAgreement=void 0;var o=n(3),i=n(638),a=r(i);n(409);var s=o.ngPreferencesModule.directive("nvLicenseAgreement",[function(){return{restrict:"A",scope:{},bindToController:{nvDialogModel:"="},template:a.default,controller:"LicenseAgreementController",controllerAs:"licenseAgreementCtrl"}}]);t.nvLicenseAgreement=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsAvatar=void 0;var o=n(3),i=n(639),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesAccountsAvatar",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsAvatar=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesAccountsController=void 0;var r=n(3);n(7),n(23),n(402),n(12),n(90),n(159),n(404),n(158),n(400);var o=r.ngPreferencesModule.controller("PreferencesAccountsController",["$log","jarvisService","dialogService","editEmailService","dbCacheService","DB_NAMES","$window","localeService","COMMON_DYNAMIC_REDIRECT","DEFAULT_AVATAR",function(e,t,n,r,o,i,a,s,l,c){function u(){v.debug("refreshing session store status"),t.getSessionStoreStatus().then(function(e){g.isUserRememberedOnMachine=e,v.debug("session store status set to "+g.isUserRememberedOnMachine)},function(){g.isUserRememberedOnMachine=!1,v.debug("session store status set to disabled")})}function d(){g.avatar=o.getCachedUserItem(p.userId,i.JARVIS_GFE_STORE,i.JARVIS_AVATAR)}function f(){g.defaultAvatarUrl=c.URL,u(),d(),g.user=p,g.editUserObject=angular.merge({},g.user.core),m=o.getCachedUserItem(p.userId,i.JARVIS_COMMON_STORE,i.SUBSCRIPTIONS),g.subscribed=t.getSubscriptionData(m),g.devFeatures=o.getCachedGlobalItem(i.DEV_STORE,i.DEV_FEATURES)}var m,g=this,p=t.getLoggedInUser(),v=e.getInstance("main.preferences/preferencesAccounts");g.toggleNewsletter=function(){m.persist_()},g.setUserRememberedOnMachine=function(){v.debug("user selects to store remember currently logged in session :"+g.isUserRememberedOnMachine),t.setSessionStoreStatus(g.isUserRememberedOnMachine).then(u,u)},g.isUserRememberedOnMachine=void 0,g.isEditingPersonalInfo=!1,g.removeLinkedAccounts=function(e){},g.linkAccounts=function(){},g.removeAllDevices=function(){},g.tryUpdatePersonalInformation=function(e){var t=l.BASE_URL+s.getCurrentLocaleWithUnderscore()+"&page="+l.ACCOUNT_MANAGEMENT;v.info("Edit personal information redirects to url:: ",t),a.open(t)},g.updateAvatar=n.show.bind(this,"nv-edit-avatar"),g.getRealName=function(){return g.user.core.displayName},g.getPhone=function(){return""},g.editEmailAddress=function(e){v.debug("verify authentication to update password pressed");var o=t.getSession();o.user=g.user,n.show("nv-dialog-edit-email",{title:"l10n.changeEmailAddress",sessionObject:o,is2FactorAuthentication:!0,actionVerifyEmail:r.updateEmail,actionCancelUpdateEmail:n.cancel})},f()}]);t.preferencesAccountsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsDevices=void 0;var o=n(3),i=n(640),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesAccountsDevices",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsDevices=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsLinked=void 0;var o=n(3),i=n(641),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesAccountsLinked",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsLinked=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsNewsletter=void 0;var o=n(3),i=n(642),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesAccountsNewsletter",function(){
return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsNewsletter=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsPersonalInfo=void 0;var o=n(3),i=n(643),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesAccountsPersonalInfo",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsPersonalInfo=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccountsSecurity=void 0;var o=n(3),i=n(644),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesAccountsSecurity",function(){return{restrict:"E",template:a.default,require:"^^nvPreferencesAccounts",link:function(e,t,n,r){e.preferencesAccounts=r}}});t.nvPreferencesAccountsSecurity=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesAccounts=void 0;var o=n(3);n(170);var i=n(645),a=r(i);n(412),n(411),n(416),n(417),n(414),n(413),n(415);var s=o.ngPreferencesModule.directive("nvPreferencesAccounts",["$window","GFECLIENT_CONFIG","eventAggregator","COMMON_EVENTS",function(e,t,n,r){return{restrict:"E",template:a.default,controller:"PreferencesAccountsController",controllerAs:"preferencesAccounts",link:function(o){function i(){a(),o.$digest()}function a(){var n=angular.merge({},t.minResolution);o.isMinSpec=e.innerWidth<n.width}function s(){n.off(r.WINDOW_RESIZE,i)}a(),n.on(r.WINDOW_RESIZE,i),o.$on("$destroy",s)}}}]);t.nvPreferencesAccounts=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesController=void 0;var r=n(3);n(16),n(20);var o=r.ngPreferencesModule.controller("PreferencesController",["preferencesService","eventAggregator","PREFERENCES_EVENTS","$scope","toastService",function(e,t,n,r,o){var i=this;i.Preferences=[{iconUrl:0,name:"l10n.general",route:"main.auth.preferences.general",isEnabled:!1},{iconUrl:0,name:"l10n.account",route:"main.auth.preferences.accounts",isEnabled:!1},{iconUrl:0,name:"l10n.games",route:"main.auth.preferences.games",isEnabled:!1},{iconUrl:0,name:"l10n.shield",route:"main.auth.preferences.shield",isEnabled:!1},{iconUrl:0,name:"l10n.friendsAndGroups",route:"main.auth.preferences.friendsAndGroups",isEnabled:!1}],i.selected=i.Preferences[0],e.getGameStreamFeatureAvailibilty(),i.checkIfFeaturesAreAvailable=function(){i.Preferences.forEach(function(t){"main.auth.preferences.general"===t.route||"main.auth.preferences.accounts"===t.route||"main.auth.preferences.games"===t.route?t.isEnabled=!0:"main.auth.preferences.shield"===t.route?e.gameStreamAddonLoaded?t.isEnabled=e.isGameStreamFeatureSupported:e.getGameStreamFeature().then(function(e){t.isEnabled=JSON.parse(e.overallState)}):t.isEnabled=!1})},i.checkIfFeaturesAreAvailable();var a=function(e){i.checkIfFeaturesAreAvailable()};t.on(n.FEATURE_UPDATED_GS,a),r.$on("$destroy",function(){t.off(n.FEATURE_UPDATED_GS,a),o.isOpen()&&o.cancel()})}]);t.preferencesController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferences=void 0;var o=(n(3),n(646)),i=r(o);n(419);var a=angular.module("main.preferences").directive("nvPreferences",["eventAggregator","COMMON_EVENTS","GFECLIENT_CONFIG","$window",function(e,t,n,r){return{restrict:"E",template:i.default,controller:"PreferencesController",controllerAs:"preferencesController",link:function(o){function i(){a(),o.$digest()}function a(){var e=angular.merge({},n.minResolution);o.isMinSpec=r.innerWidth<e.width}function s(){e.off(t.WINDOW_RESIZE,i)}a(),e.on(t.WINDOW_RESIZE,i),o.$on("$destroy",s)}}}]);t.nvPreferences=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesFeatureReadinessController=void 0;var r=n(3);n(16);var o=r.ngPreferencesModule.controller("PreferencesFeatureReadinessController",["$scope","$log","preferencesService","PREFERENCES_EVENTS","eventAggregator","FEATURES_NAME",function(e,t,n,r,o,i){function a(){o.on(r.FEATURES_UPDATED,s),o.on(r.FEATURES_RELOAD,l),o.on(r.HWSYSTEMINFO_FAILED,c),n.getFeatures()}function s(e){u.features=e,_.each(u.features,function(e){switch(e.featureTile){case i.GAME_STREAM:e.newOverallState=angular.isDefined(e.overallState)&&JSON.parse(e.overallState)&&n.gameStreamAddonLoaded;break;case i.SHARE:e.newOverallState=angular.isDefined(e.overallState)&&JSON.parse(e.overallState)&&n.shareAddonLoaded;break;default:e.newOverallState=e.overallState}}),u.loadingState=d.DONE}function l(){u.loadingState=d.LOADING,u.features=[]}function c(){u.loadingState=d.FAILED}var u=this,d={LOADING:"LOADING",FAILED:"FAILED",DONE:"DONE"};t.getInstance("main.preferences/PreferencesFeatureReadinessController");u.features=[],u.loadingState=d.LOADING,a(),u.showDivider=function(e){return!(e===u.features.length-1)},e.$on("$destroy",function(){o.off(r.FEATURES_UPDATED,s),o.off(r.FEATURES_RELOAD,l),o.off(r.HWSYSTEMINFO_FAILED,c)})}]);t.preferencesFeatureReadinessController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesFeatureReadiness=void 0;var o=n(3);n(111),n(408),n(406);var i=n(647),a=r(i);n(421);var s=o.ngPreferencesModule.directive("nvPreferencesFeatureReadiness",function(){return{restrict:"E",template:a.default,controller:"PreferencesFeatureReadinessController",controllerAs:"preferencesFeatureReadiness"}});t.nvPreferencesFeatureReadiness=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesBatteryBoostController=void 0;var o=n(4),i=r(o),a=n(3);n(112),n(20);var s=a.ngPreferencesModule.controller("PreferencesGamesBatteryBoostController",["$scope","$log","$document","framerateLimiterService","$timeout","eventAggregator","COMMON_EVENTS","toastService","$filter",function(e,t,n,r,o,a,s,l,c){function u(){if(i.isNull(w)||w.clearRect(0,0,I.width,I.height),!i.isEmpty(y)){I=y[0].getBoundingClientRect();var e=Math.floor((S-b)/E);w=A[0].getContext("2d"),A[0].width=I.width,A[0].height=I.height;for(var t,n=0;n<=e;n++)t=Math.round(I.width*(n/e)),w.fillStyle="#FFFFFF",w.fillRect(t-1,0,2,I.height)}}function d(){a.on(s.WINDOW_RESIZE,u)}function f(){a.off(s.WINDOW_RESIZE,u)}var m=this,g=null,p=null,v=null,h=null,y=null,b=30,S=60,E=5,_=30,A=null,w=null,I={};m.currentSliderIndex=30,m.enabledBatterySwitch=!0,m.requestInProgress=!0,m.loadingFailed=!1,m.loadingDone=!1;var C=t.getInstance("main.preferences/BatteryBoostController");r.getStateInfo().then(function(e){var t=e;m.currentSliderIndex=t.value,m.enabledBatterySwitch=t.enabled,o(function(){u()}),m.requestInProgress=!1,m.loadingDone=!0,C.info("Battery Boost state info",e)},function(e){m.requestInProgress=!1,m.loadingFailed=!0,m.loadingDone=!0,C.error("getStateInfo failed with error:",e)}),m.onChangeBatteryBoostState=function(e){m.requestInProgress=e,r.setStateInfo(m.enabledBatterySwitch,m.currentSliderIndex).then(function(e){m.requestInProgress=!1,C.info("Battery Boost setState info",e)},function(e){m.requestInProgress=!1,C.error("setStateInfo failed with error:",e);var t=c("translate")("l10n.unableToUpdateSettings");l.showError({textContent:t})})},m.applyOptimalValue=function(){m.currentSliderIndex=_,m.onChangeBatteryBoostState()},n.ready(function(){var e=angular.element(n[0].querySelector(".preferences-games-battery-boost"));g=angular.element(e[0].querySelector(".md-track-ticks")),g.css("display","block"),g.css("z-index","0"),g.find("canvas").css("display","none"),A=angular.element("<canvas>").css("position","absolute"),g.append(A),y=angular.element(e[0].querySelector(".md-track-container")),p=angular.element(e[0].querySelector(".optimal-button-container")),v=angular.element(e[0].querySelector(".optimal-value-button")),h=angular.element(e[0].querySelector(".optimal-line-indicator"));var t=v[0].clientWidth;if(t/2<33){var r=33-Math.round(t/2)+"px";v.css("left",r)}u()}),e.$on("$destroy",f),d()}]);t.preferencesGamesBatteryBoostController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGamesBatteryBoost=void 0;var o=n(3);n(13);var i=n(648),a=r(i);n(423);var s=o.ngPreferencesModule.directive("nvPreferencesGamesBatteryBoost",function(){return{restrict:"E",template:a.default,controller:"PreferencesGamesBatteryBoostController",controllerAs:"preferencesGamesBatteryBoost"}});t.nvPreferencesGamesBatteryBoost=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesController=void 0;var r=n(3);n(112);var o=r.ngPreferencesModule.controller("PreferencesGamesController",["$log","framerateLimiterService","preferencesService",function(e,t,n){var r=this;r.isBatteryBoostSupported=!1,r.isOpsSupported=!1;var o=e.getInstance("main.preferences/PreferencesGamesController");t.getSupportInfo().then(function(e){r.isBatteryBoostSupported=e.supported,o.info("Framerate Limiter getSupportInfo success: ",e)},function(e){o.error("Framerate Limiter getSupportInfo failed with error: ",e)}),n.getGameOpsFeature().then(function(e){try{r.isOpsSupported=JSON.parse(e.overallState)}catch(e){o.error("Parsing exception for getGameOpsFeature() response",e)}},function(e){o.error("getGameOpsFeature failed with error:",e)})}]);t.preferencesGamesController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGames=void 0;var o=n(3);n(432),n(428),n(430),n(424);var i=n(649),a=r(i);n(425);var s=o.ngPreferencesModule.directive("nvPreferencesGames",["$window","GFECLIENT_CONFIG","eventAggregator","COMMON_EVENTS",function(e,t,n,r){return{restrict:"E",template:a.default,controller:"PreferencesGamesController",controllerAs:"preferencesGames",link:function(o){function i(){a(),o.$digest()}function a(){var n=angular.merge({},t.minResolution);o.isMinSpec=e.innerWidth<n.width}function s(){n.off(r.WINDOW_RESIZE,i)}a(),n.on(r.WINDOW_RESIZE,i),o.$on("$destroy",s)}}}]);t.nvPreferencesGames=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesLocationController=void 0;var o=n(4),i=r(o),a=n(3);n(32),n(14),n(20);var s=a.ngPreferencesModule.controller("PreferencesGamesLocationController",["$log","gamesService","cefService","$filter","toastService","$document","$timeout","$scope",function(e,t,n,r,o,a,s,l){function c(e){o.showError({textContent:r("translate")(e)})}function u(){g=s(function(){var e=angular.element(a[0].querySelector(".scan-location-section"))[0],t=angular.element(e.querySelector(".bg-green-hv-hue-1"))[0],n=t.offsetTop+t.offsetHeight-e.offsetHeight;e.scrollTop=n,g=null})}function d(){g&&(y.info("pending scroll to timeout cancelled"),s.cancel(g)),v&&(y.info("cancelling pending add promise"),t.searchPathsAddCancel(v)),h&&(y.info("cancelling pending remove promise"),t.searchPathsRemoveCancel(h)),p&&(y.info("cancelling pending get search path promise"),t.getSearchPathsCancel(p))}var f=this,m=null,g=null,p=null,v=null,h=null;f.showTooltip=!1,f.addBtnDisabled=!0,f.removeBtnDisabled=!1;var y=e.getInstance("main.preferences/PreferencesGameslocationController");f.scanGamesLocation=[],f.selectedPathChanged=function(e){m=e},p=t.getSearchPaths().then(function(e){f.scanGamesLocation=e.data,f.scanGamesLocation.length>0&&f.selectedPathChanged(f.scanGamesLocation[0]),y.info("PreferencesGamesLocationController - got getSearchPaths response",f.scanGamesLocation)},function(e){e.cancelled||y.error("error getting getSearchPaths "+e)}).finally(function(){f.addBtnDisabled=!1,p=null}),f.add=function(){return y.info("user adding game scan location"),n.localDirectoryExplorer(!1,{},!0).then(function(e){i.contains(f.scanGamesLocation,e)?(y.info("Game scan location already added ",e),f.selectedPathChanged(e),u()):(f.addBtnDisabled=!0,v=t.searchPathsAdd(e),v.then(function(t){f.scanGamesLocation.push(e),y.info("search path added",e),f.selectedPathChanged(e),u()},function(e){e.cancelled||(y.error("SearchPathsAdd failed: ",e),c("l10n.addScanPathFailed"))}).finally(function(){f.addBtnDisabled=!1,v=null}))},function(e){e.isCancelled||(y.error("cefService.localDirectoryExplorer: failed or cancelled",e),c("l10n.somethingWentWrong"))})},f.remove=function(){f.removeBtnDisabled=!0,y.info("user removing game scan location"),h=t.searchPathsRemove(m),h.then(function(e){y.info("SearchPathsRemove success: ",m);var t=f.scanGamesLocation.indexOf(m);f.scanGamesLocation.splice(t,1),m=null},function(e){e.cancelled||(y.error("SearchPathsRemove failed: ",e),c("l10n.somethingWentWrong"))}).finally(function(){f.removeBtnDisabled=!1,h=null})},f.isSelected=function(e){return m===e},f.canRemovePath=function(){return!(m&&!f.removeBtnDisabled)},f.setEllipsis=function(e){var t=angular.element(e.target)[0];f.showTooltip=t.scrollWidth>t.offsetWidth},l.$on("$destroy",d)}]);t.preferencesGamesLocationController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesLocation=void 0;var o=n(3),i=n(650),a=r(i);n(427);var s=o.ngPreferencesModule.directive("nvPreferenceGamesLocation",function(){return{restrict:"E",template:a.default,controller:"PreferencesGamesLocationController",controllerAs:"preferencesGameslocation"}});t.nvPreferenceGamesLocation=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesOpsController=void 0;var r=n(3);n(32),n(16);var o=r.ngPreferencesModule.controller("PreferencesGamesOpsController",["$log","gamesService","preferencesService",function(e,t,n){function r(){n.getOpsUpdateNotification().then(function(e){i.notifyOpsUpdate=e},function(e){a.error("getOpsUpdateNotification failed with error:",e)})}function o(){t.isAutoOptimizeEnabled().then(function(e){i.autoOptimize=e},function(e){a.error("isAutoOptimizeEnabled failed with error:",e)})}var i=this;i.notifyOpsUpdate=!1,i.autoOptimize=null;var a=e.getInstance("main.preferences/PreferencesGeneralUpdatesController");i.setNotifyOpsUpdate=function(){n.setOpsUpdateNotification(i.notifyOpsUpdate).then(function(){},function(e){a.error("setOpsUpdateNotification failed with error:",e)})},i.setAutoOptimize=function(){a.info("setting autoOptimize to ",i.autoOptimize),t.setAutoOptimizeEnabled(i.autoOptimize)},r(),o()}]);t.preferencesGamesOpsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesOps=void 0;var o=n(3),i=n(651),a=r(i);n(429);var s=o.ngPreferencesModule.directive("nvPreferenceGamesOps",function(){return{restrict:"E",template:a.default,controller:"PreferencesGamesOpsController",controllerAs:"preferencesGamesOps"}});t.nvPreferenceGamesOps=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGamesScanController=void 0;var r=n(3);n(32),n(20);var o=r.ngPreferencesModule.controller("PreferencesGamesScanController",["$log","GAME_EVENTS","gamesService","eventAggregator","$window","$scope","$filter","toastService","GAME_SCAN_STATE","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","localeService","userGamesService","jarvisService","dbCacheService","DB_NAMES","COMMON_DYNAMIC_REDIRECT",function(e,t,n,r,o,i,a,s,l,c,u,d,f,m,g,p,v){function h(){s.showProgress({textContent:w.scanStatus})}function y(){r.on(t.GAMELIST_UPDATED,A),r.on(t.SCAN_FINISHED,b),r.on(t.SCAN_FAILED,S),x===l.UI_SCAN?(w.scanStatus=C("l10n.scanning"),w.scanInProgress=!0,h()):(w.scanStatus=C("l10n.scanNow"),w.scanInProgress=!1),M(),w.totalGames=_.size(w.gameList)}var b,S,E,A,w=this,I=e.getInstance("main.preferences/PreferencesGamesScanController"),C=a("translate"),x=n.getUiScanState(),T=m.getLoggedInUser(),O=g.getCachedUserItem(T.userId,p.JARVIS_GFE_STORE,p.JARVIS_VIEW_STATE);w.gameList=null;var M=function(){var e=f.getUserGames();I.debug("get all games count:",e.length),w.gameList=_.map(e,function(e){var t=n.getSystemGame(e.gameId),r={};return _.extend(r,e),_.isUndefined(t)?I.error("systemGame undefined"):r.systemGame=t,r})};w.scanGames=function(){c.push(u.PREFERENCES_GAMES_SCAN_NOW),w.scanStatus=C("l10n.scanning"),w.scanInProgress=!0,h(),n.scanLocalGames(!1)};var D=function(){I.debug("registering game optimize events"),r.on(t.OPTIMIZE_GAMES_UPDATE,R)},N=function(){I.debug("unregistering game optimize events"),r.off(t.OPTIMIZE_GAMES_UPDATE,R)},R=function(e){c.endLoad(u.HOME_OPTIMIZETIME_GAMES),N(),s.show({textContent:a("translate")("l10n.optimizeFinished")})},P=function(){s.showProgress({textContent:a("translate")("l10n.optimizing")}),D()};w.optimizeGamesFromScan=function(){I.info("optimize local games after scan"),P(),c.startLoad(u.HOME_OPTIMIZETIME_GAMES),n.optimizeLocalGames()},w.scanGamesProgressText=function(e){var t="l10n.scanGamesProgress";return 0===e?t="l10n.noGamesFound":1===e&&(t="l10n.scanGameProgress"),t};var b=function(){M(),w.totalGames=_.size(w.gameList),E(),w.scanStatus=C("l10n.scanNow"),w.scanInProgress=!1;var e={textContent:a("translate")(w.scanGamesProgressText(w.totalGames),{numGamesScanned:w.totalGames})};n.hasNoGame(w.gameList)||n.allGamesOptimized(w.gameList)||n.hasHiddenGame(w.gameList,null,O)?s.show(e):(I.info("game optimization required"),n.isAutoOptimizeEnabled().then(function(t){t||angular.extend(e,{button:{text:a("translate")("l10n.optimize"),action:w.optimizeGamesFromScan}})}).finally(function(){s.show(e)}))},S=function(){w.scanStatus=C("l10n.scanNow"),w.scanInProgress=!1,s.showError({textContent:a("translate")("l10n.scanningFailed")})};w.onLaunchUrl=function(){var e=v.BASE_URL+d.getCurrentLocaleWithUnderscore()+"&page="+v.SUPPORTED_GAMES;I.info("SupportedGames redirects to url:: ",e),o.open(e)},A=function(){M(),w.totalGames=_.size(w.gameList)},y(),i.$on("$destroy",function(){r.off(t.GAMELIST_UPDATED,A),r.off(t.SCAN_FINISHED,b),r.off(t.SCAN_FAILED,S),N()}),(E=function(){n.getLastRefreshTime().then(function(e){w.lastRereshTime=e,I.info("last gamesscanned time is",w.lastRereshTime)},function(e){I.error("getlastRefreshTime failed with error:",e)})})()}]);t.preferencesGamesScanController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGamesScan=void 0;var o=n(3),i=n(652),a=r(i);n(431);var s=o.ngPreferencesModule.directive("nvPreferenceGamesScan",function(){return{restrict:"E",template:a.default,controller:"PreferencesGamesScanController",controllerAs:"preferencesGamesScan"}});t.nvPreferenceGamesScan=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralAboutController=void 0;n(3);n(23),n(19),n(16),n(20),n(410),n(161),n(153);var o=n(198),i=r(o),a=angular.module("main.preferences").controller("PreferencesGeneralAboutController",["$log","dialogService","gfeService","$window","preferencesService","toastService","$filter","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","localeService","$mdDialog","COMMON_DYNAMIC_REDIRECT",function(e,t,n,r,o,a,s,l,c,u,d,f){function m(){a.showError({textContent:s("translate")("l10n.checkInternetConnectivity")})}function g(){return o.getReleaseHighlights().then(function(e){l.push(c.PREFERENCES_CLIENT_RELEASE_HIGHLIGHT_SUCCESS),v.info(e);var n={title:"l10n.releaseHighlights",subTitle:"",body:e.data.gfcontent.body,style:"dialog-service-container-size",closeButton:{action:t.cancel}};return n}).catch(function(e){l.push(c.PREFERENCES_CLIENT_RELEASE_HIGHLIGHT_FAILURE,e&&e.status&&e.status.toString()||"")})}var p=this,v=e.getInstance("main.preferences/PreferencesFeatureReadinessController");p.version=n.version,p.clientBetaUpdateEnabled=!1,p.setClientBetaUpdateEnabled=function(){o.setClientBetaUpdateEnabled(p.clientBetaUpdateEnabled).catch(function(e){v.error("setClientBetaUpdateEnabled failed: "+e),m()})},o.getClientBetaUpdateEnabled().then(function(e){p.clientBetaUpdateEnabled="1"===e.data},function(e){v.error("getClientBetaUpdateEnabled failed: "+e),m()}),p.onShowReleaseHighlight=function(e){d.show({controller:"ArticleInformationController",controllerAs:"vm",template:i.default,disableParentScroll:!1,locals:{getArticleCallback:g},bindToController:!0})},p.onShowLicense=function(e){t.show("nv-license-agreement",{style:"dialog-service-container-size"})},p.onOpenFeedbackDialog=function(e){t.show("nv-feedback")},p.onLaunchUrl=function(){var e=f.BASE_URL+u.getCurrentLocaleWithUnderscore()+"&page="+f.FAQ_DATA_POLICY;v.info("FAQs redirects to url:: ",e),r.open(e)}}]);t.preferencesGeneralAboutController=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralAbout=void 0;var o=n(3);n(21);var i=n(653),a=r(i);n(433);var s=o.ngPreferencesModule.directive("nvPreferenceGeneralAbout",function(){return{restrict:"E",template:a.default,controller:"PreferencesGeneralAboutController",controllerAs:"preferencesGeneralAbout"}});t.nvPreferenceGeneralAbout=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesGeneral=void 0;var o=n(3);n(434),n(437),n(439),n(441),n(451),n(422);var i=n(654),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesGeneral",["$window","GFECLIENT_CONFIG","eventAggregator","COMMON_EVENTS",function(e,t,n,r){return{restrict:"E",template:a.default,link:function(o){function i(){a(),o.$digest()}function a(){var n=angular.merge({},t.minResolution);o.isMinSpec=e.innerWidth<n.width}function s(){n.off(r.WINDOW_RESIZE,i)}a(),n.on(r.WINDOW_RESIZE,i),o.$on("$destroy",s)}}}]);t.nvPreferencesGeneral=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralLanguageController=void 0;var r=n(3);n(12),n(60);var o=r.ngPreferencesModule.controller("PreferencesGeneralLanguageController",["dbCacheService","DB_NAMES","localeService","$log","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService","TELEMETRY_SCREENS",function(e,t,n,r,o,i,a){function s(){i.setScreen(a.SCREEN_PREFERENCES_GENERAL)}var l=this,c=r.getInstance("main.preferences/PreferencesGeneralLanguageController");l.EditMode=!1,l.languages=n.getSupportedLanguages();var u=n.getCurrentLocale();l.selectedLanguage=u.name,l.changedLanguage=l.selectedLanguage,l.onCancel=function(){l.EditMode=!1,l.changedLanguage=l.selectedLanguage},l.onApply=function(){l.EditMode=!1,l.selectedLanguage=l.changedLanguage;var e=n.getLocaleFromLocaleName(l.selectedLanguage);n.changeLocale(e).then(function(){c.info("Changed language to: ",e.code),i.changeSetting(o.APPLICATION_SETTING_LANGUAGE_SELECTION,e.code)},function(t){c.error("Failed to change language to: ",e.code),u=n.getCurrentLocale(),l.selectedLanguage=u.name,i.changeSettingFail(o.APPLICATION_SETTING_LANGUAGE_SELECTION_FAILED,e.code,t.status)})},l.openChangeLocale=function(){l.EditMode=!0},l.devFeatures=e.getCachedGlobalItem(t.DEV_STORE,t.DEV_FEATURES),s()}]);t.preferencesGeneralLanguageController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralLanguage=void 0;var o=n(3),i=n(655),a=r(i);n(436);var s=o.ngPreferencesModule.directive("nvPreferenceGeneralLanguage",function(){return{restrict:"E",template:a.default,controller:"PreferencesGeneralLanguageController",controllerAs:"preferencesGeneralLanguage"}});t.nvPreferenceGeneralLanguage=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralShareController=void 0;var r=n(3);n(16),n(166),n(20);var o=r.ngPreferencesModule.controller("PreferencesGeneralShareController",["$scope","preferencesService","$log","toastService","$filter","eventAggregator","COMMON_EVENTS","socketService","SHARE_SOCKET_EVENTS","keyboardService","SHARE_CONSTANTS","COMMON_HTTP_ERROR_CODES","dialogService",function(e,t,n,r,o,i,a,s,l,c,u,d,f){function m(){t.getHotkeyShortcut(u.SHARE_HOTKEY_ID).then(function(e){x.translateValues.assignedKey=c.shortcutToStr(e.keys),x.shareHotkeyFetched=!0,T.info("Share hotkey: ",x.translateValues.assignedKey)},function(e){x.shareHotkeyFetched=!1,T.error("Error in retrieving shortcut for OpenShare:",e)})}function g(e){x.toggleState=!1,e.ready||T.info("OSC is not ready.")}function p(){r.showError({textContent:o("translate")("l10n.tryRestartSystem")})}function v(){r.showError({textContent:o("translate")("l10n.openShareFailure")})}function h(){f.show("nv-dialog-text",{title:"l10n.shareNotReady",style:"feature-error-dialog",text:"l10n.featureErrorMessage",button1:{text:"l10n.gotItText",action:f.cancel}})}function y(){t.getShareRunningStatus().then(function(e){x.enabledShare=e,T.info("getShareRunningStatus returned: ",x.enabledShare),x.loadingDone=!0},function(e){T.error("getShareRunningStatus failed."),x.loadingDone=!0,x.enabledShare=!1})}function b(){y()}function S(){t.isShareFeatureSupportedOnSystem().then(function(e){x.isShareSupported=e,T.info("isShareFeatureSupportedOnSystem response: ",x.isShareSupported)},function(e){T.error("isShareFeatureSupportedOnSystem failed.")})}function E(){T.info("onSysInfoUpdated event."),S(),y()}function _(e){x.toggleState=e}function A(e){T.info("Hotkey changed notification:",e.notification,e.hotkeyId),e.notification===u.HOTKEY_CHANGED&&e.hotkeyId===u.SHARE_HOTKEY_ID&&m()}function w(){x.shareLoaded=t.shareAddonLoaded,x.shareLoaded||(x.enabledShare=!1)}function I(){w(),x.translateValues={assignedKey:o("translate")("l10n.shareShortcut")},m(),s.register(l.OSCREADY_UPDATE,a.OSC_READY),s.register(l.OSCHOTKEY_CHANGED_NOTIFICATION,a.OSC_HOTKEY_CHANGED),i.on(a.SHARE_STATUS_CHANGED,b),i.on(a.OSC_READY,g),i.on(a.SYSTEMINFO_UPDATED,E),i.on(a.SHARE_OPEN_IN_PROGRESS,_),i.on(a.OSC_HOTKEY_CHANGED,A)}function C(){i.off(a.SHARE_STATUS_CHANGED,b),i.off(a.OSC_READY,g),i.off(a.SYSTEMINFO_UPDATED,E),i.off(a.SHARE_OPEN_IN_PROGRESS,_),i.off(a.OSC_HOTKEY_CHANGED,A)}var x=this;x.enabledShare=!1,x.isShareSupported=!1,x.shareHotkeyFetched=!1,x.shareLoaded=!1;var T=n.getInstance("main.preferences/PreferencesGeneralShareController");x.loadingDone=!1,x.onChangeShareState=function(){x.toggleState=!0,i.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,x.toggleState),t.toggleShareState(x.enabledShare).then(function(e){T.info("toggleShareState status: ",e),x.enabledShare?m():(x.toggleState=!1,i.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,x.toggleState))},function(e){T.error("toggleShareState failed."),i.trigger(a.SHARE_STATUS_CHANGE_IN_PROGRESS,x.toggleState),x.enabledShare&&!x.shareLoaded&&e.status===d.NOT_FOUND?h():p(),x.enabledShare=!1,x.toggleState=!1})},y(),S(),x.showHotkeyInfoAndIcon=function(){return x.shareHotkeyFetched&&x.enabledShare&&!x.toggleState},x.openOscSettings=function(){t.openOscPreferences().then(function(e){T.info("Opened OSC Settings page successfully. ",e)},function(e){T.error("Error in opening OSC Settings page:",e),v()})},I(),e.$on("$destroy",C)}]);t.preferencesGeneralShareController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralShare=void 0;var o=n(3);n(13);var i=n(656),a=r(i);n(438);var s=o.ngPreferencesModule.directive("nvPreferenceGeneralShare",function(){return{restrict:"E",template:a.default,controller:"PreferencesGeneralShareController",controllerAs:"preferencesGeneralShare"}});t.nvPreferenceGeneralShare=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesGeneralUpdatesController=void 0;var r=n(3);n(16),n(20);var o=r.ngPreferencesModule.controller("PreferencesGeneralUpdatesController",["$scope","$log","preferencesService","eventAggregator","PREFERENCES_EVENTS","toastService","$filter",function(e,t,n,r,o,i,a){function s(){i.showError({textContent:a("translate")("l10n.somethingWentWrong")})}function l(){n.getAutoDownloadDriverUpdates().then(function(e){c.autoDownloadDriverUpdates=e},function(e){s(),u.error("getAutoDownloadDriverUpdates failed: "+e)})}var c=this;c.autoDownloadDriverUpdates=!1,c.notifyGeforceDriverUpdate=!1,c.isUpdatesEnabled=!1;var u=t.getInstance("main.preferences/PreferencesGeneralUpdatesController");c.setAutoDownloadDriverUpdates=function(){n.setAutoDownloadDriverUpdates(c.autoDownloadDriverUpdates).catch(function(e){s(),u.error("setAutoDownloadDriverUpdates failed: "+e)})},c.setNotifyGeforceDriverUpdate=function(){n.setNotifyGeforceDriverUpdate(c.notifyGeforceDriverUpdate).catch(function(e){s(),u.error("setNotifyGeforceDriverUpdate failed: "+e)})},n.getNotifyGeforceDriverUpdate().then(function(e){c.notifyGeforceDriverUpdate=e},function(e){s(),u.error("getNotifyGeforceDriverUpdate failed: "+e)}),l(),r.on(o.AUTOMATIC_DRIVERDOWNLOAD,l),e.$on("$destroy",function(){r.off(o.AUTOMATIC_DRIVERDOWNLOAD,l)})}]);t.preferencesGeneralUpdatesController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferenceGeneralUpdates=void 0;var o=n(3),i=n(657),a=r(i);n(440);var s=o.ngPreferencesModule.directive("nvPreferenceGeneralUpdates",function(){return{restrict:"E",template:a.default,controller:"PreferencesGeneralUpdatesController",controllerAs:"preferencesGeneralUpdates"}});t.nvPreferenceGeneralUpdates=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldController=void 0;var r=n(3);n(16),n(20);var o=r.ngPreferencesModule.controller("PreferencesShieldDevicesController",["preferencesService","$log","toastService","$filter",function(e,t,n,r){var o=this,i=t.getInstance("main.preferences/PreferencesShieldDevicesController");o.removeAllDevices=function(){e.unpairAllShieldDevices().then(function(e){i.info("Unpaired all shield devices"),n.showError({textContent:r("translate")("l10n.shieldDevicesRemoved")})},function(e){i.error("unpairAllShieldDevices failed: ",e),n.showError({textContent:r("translate")("l10n.shieldDevicesRemoveFailed")})})}}]);t.preferencesShieldController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldDevices=void 0;var o=n(3),i=n(658),a=r(i);n(442);var s=o.ngPreferencesModule.directive("nvPreferencesShieldDevices",function(){return{restrict:"E",template:a.default,controller:"PreferencesShieldDevicesController",controllerAs:"preferencesShieldDevices"}});t.nvPreferencesShieldDevices=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShield=void 0;var o=n(3);n(447),n(443);var i=n(659),a=r(i),s=o.ngPreferencesModule.directive("nvPreferencesShield",["$window","GFECLIENT_CONFIG","eventAggregator","COMMON_EVENTS",function(e,t,n,r){return{restrict:"E",template:a.default,link:function(o){function i(){a(),o.$digest()}function a(){var n=angular.merge({},t.minResolution);o.isMinSpec=e.innerWidth<n.width}function s(){n.off(r.WINDOW_RESIZE,i)}a(),n.on(r.WINDOW_RESIZE,i),o.$on("$destroy",s)}}}]);t.nvPreferencesShield=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appCollectorEditDialogController=void 0;var r=n(3),o=r.ngPreferencesModule.controller("AppcollectorEditDialogController",["cefService","$mdDialog","$log","$timeout","$document",function(e,t,n,r,o){function i(){var e=angular.element(o[0].querySelector(".app-target"))[0];
s.showTargetTooltip=e.scrollWidth>e.offsetWidth}function a(){var e=angular.element(o[0].querySelector(".app-startin"))[0];s.showDirectoryTooltip=e.scrollWidth>e.offsetWidth}var s=this,l=n.getInstance("main.preferences/AppcollectorEditDialogController");s.maxSize=256,s.target=null,s.startIn=null,s.showTargetTooltip=!1,s.showDirectoryTooltip=!1,s.selectedApp.AppData.OriginalFilename=s.selectedApp.AppData.Name,s.openTargetFileDialog=function(){var t={"Programs and shortcuts":"*.exe; *.lnk; *.bat; *.url"};return e.localDirectoryExplorer(!0,t,!0).then(function(e){s.selectedApp.AppData.TargetPath=e,r(i,10)},function(e){l.error("AppCollector:OpenTargetFileDialog failed or cancelled")})},s.openStartInFileDialog=function(){return e.localDirectoryExplorer(!1,{},!0).then(function(e){s.selectedApp.AppData.WorkingDirectory=e,r(a,10)},function(e){l.error("AppCollector:OpenTargetFileDialog failed or cancelled")})},s.openBoxArtFileDialog=function(){var t={"All Pictures":"*.png; *.bmp; *.jpg; *.jpeg"};return e.localDirectoryExplorer(!0,t,!0).then(function(e){s.selectedApp.AppData.BoxArtPath=e},function(e){l.error("AppCollector:OpenTargetFileDialog failed or cancelled")})},s.cancel=function(){t.cancel()},s.done=function(){s.selectedApp.AppData.ModifiedFilename=s.selectedApp.AppData.Name;var e=s.selectedApp.AppData.BoxArtPath.indexOf("?");e>0&&(s.selectedApp.AppData.BoxArtPath=s.selectedApp.AppData.BoxArtPath.substring(0,e)),s.updateApplication(s.selectedApp.AppData),t.hide()},s.remove=function(){s.removeApp(),t.hide()},s.canSubmit=function(){return void 0!==s.selectedApp.AppData.Name&&null!==s.selectedApp.AppData.Name&&""!==s.selectedApp.AppData.Name},r(function(){i(),a()})}]);t.appCollectorEditDialogController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldGamestreamController=void 0;var o=n(3);n(16),n(92),n(21),n(13);var i=n(660),a=r(i);n(445),n(14),n(20);var s=o.ngPreferencesModule.controller("PreferencesShieldGamestreamController",["preferencesService","$log","$window","cefService","toastService","$filter","$mdDialog","$document","$timeout","localeService","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","TELEMETRY_SCREENS","COMMON_DYNAMIC_REDIRECT","dialogService","COMMON_HTTP_ERROR_CODES","$scope",function(e,t,n,r,o,i,s,l,c,u,d,f,m,g,p,v,h){function y(){x.gameStreamLoaded=e.gameStreamAddonLoaded,x.gameStreamLoaded||(x.isStreamingEnabled=!1)}function b(){y(),d.setScreen(m.SCREEN_PREFERENCES_SHIELD)}function S(){o.showError({textContent:i("translate")("l10n.tryRestartSystem")})}function E(){M=c(function(){var e=angular.element(l[0].querySelector(".appcollector-content-height"))[0],t=angular.element(e.querySelector(".shield-tile-content-outline"))[0],n=t.offsetTop+t.offsetHeight-e.offsetHeight;e.scrollTop=n,M=null})}function A(e){if(e.data&&e.data.NodeError)switch(e.data.NodeError){case 7:case 2:o.showError({textContent:i("translate")("l10n.unsupportedFileType")});break;case 11:o.showError({textContent:i("translate")("l10n.fileNotFound")});break;case 8:var t=_.find(x.streamApps,function(t){return t.AppData.TargetPath===e.config.data.Path});T.error("duplicate app being added ",t),x.selectedAppChanged(t),E();break;default:T.error("gameStream Add or Edit failed"),S()}else T.error("gameStream Add or Edit failed with unexpected format"),S()}function w(e){return e=e+"?"+(new Date).getTime()}function I(){p.show("nv-dialog-text",{title:"l10n.gameStreamNotReady",style:"feature-error-dialog",text:"l10n.featureErrorMessage",button1:{text:"l10n.gotItText",action:p.cancel}})}function C(){M&&(T.info("pending scroll to timeout cancelled"),c.cancel(M))}var x=this,T=t.getInstance("main.preferences/PreferencesShieldGamestreamController"),O=null,M=null;x.isStreamingEnabled=!1,x.isServerStatusCheckDone=!1,x.streamApps=[],x.gameStreamLoaded=!1,x.requestInProgress=!0,x.selectedAppChanged=function(e){O=e},e.getStreamApp().then(function(e){T.info("Streaming Apps Found",e.data.AppsData),x.streamApps=e.data.AppsData,x.streamApps.forEach(function(e){e.AppData.BoxArtPath=w(e.AppData.BoxArtPath)}),x.streamApps&&x.streamApps.length>0&&x.selectedAppChanged(x.streamApps[0])},function(e){T.error("getStreamApp failed with error: ",e),S()}).finally(function(){x.requestInProgress=!1}),e.getGameStreamServerStatus().then(function(e){x.isStreamingEnabled=e.data.streamingEnabled,x.isServerStatusCheckDone=!0,T.info("getGameStreamServerStatus: streamingEnabled-",e.data.streamingEnabled,", streamingSupported-",e.data.streamingEnabled)},function(e){x.isServerStatusCheckDone=!0,T.error("getGameStreamServerStatus failed with error:"),S()}),x.onChangeServerState=function(){x.toggleState=!0,e.updateGameStreamServerStatus(x.isStreamingEnabled).then(function(e){d.changeSetting(f.APPLICATION_SETTING_ENABLE_GAMESTREAM,x.isStreamingEnabled.toString()),T.info("updateGameStreamServerStatus status: ",e),x.toggleState=!1},function(e){T.error("updateGameStreamServerStatus failed with error:"),x.toggleState=!1,d.changeSettingFail(f.APPLICATION_SETTING_ENABLE_GAMESTREAM_FAILED,x.isStreamingEnabled.toString(),e.status),x.isStreamingEnabled&&!x.gameStreamLoaded&&e.status===v.NOT_FOUND?I():S(),x.isStreamingEnabled=!1})},x.onLaunchUrl=function(){var e=g.BASE_URL+u.getCurrentLocaleWithUnderscore()+"&page="+g.GAME_STREAM_REQUIREMENTS;T.info("Gamestream redirects to url:: ",e),n.open(e)},x.add=function(){var t={"Programs and shortcuts":"*.exe; *.lnk; *.bat; *.url"};return T.info("User adding new game stream App"),r.localDirectoryExplorer(!0,t,!0).then(function(t){x.requestInProgress=!0,T.info("Adding new game stream App: ",t),e.appCollectorAdd(t).then(function(e){x.streamApps.push(e.data),T.info("new stream app added: ",e),x.selectedAppChanged(e.data),E()},function(e){A(e)}).finally(function(){x.requestInProgress=!1})},function(e){e.isCancelled||(T.error("addAppCollector app localDirectoryExplorer: failed"),S())})},x.remove=function(){x.requestInProgress=!0,T.info("deleting stream app: ",O),e.appCollectorRemove(O.AppData.Name).then(function(e){x.streamApps.splice(x.streamApps.indexOf(O),1),O=null,x.streamApps.length>0&&x.selectedAppChanged(x.streamApps[0]),T.info("Deleted stream app")},function(e){T.error("gameStream Remove failed:"),S()}).finally(function(){x.requestInProgress=!1})},x.canNotRemove=function(){return void 0===O||null===O||x.requestInProgress===!0},x.updateApp=function(t){T.info("AppCollector:Edit:: ",t),x.requestInProgress=!0,e.appCollectorEdit(t).then(function(e){e.data.AppData.BoxArtPath=w(e.data.AppData.BoxArtPath),x.streamApps[x.streamApps.indexOf(O)]=e.data,O=e.data,T.info("Stream app updated")},function(e){A(e)}).finally(function(){x.requestInProgress=!1})},x.edit=function(){var e=s.show({template:a.default,locals:{selectedApp:angular.copy(O),removeApp:x.remove,updateApplication:x.updateApp},clickOutsideToClose:!0,controller:"AppcollectorEditDialogController",controllerAs:"vm",bindToController:!0});e.then(function(){}).catch(function(){T.error("AppCollector:Edit - can not open dialog winodw")})},x.hasAppsAndServerStatusDone=function(){return x.isServerStatusCheckDone&&x.streamApps.length>0},x.isSelected=function(e){return void 0!==O&&null!==O&&O.AppData.Name===e.AppData.Name},b(),h.$on("$destroy",C)}]);t.preferencesShieldGamestreamController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldGamestream=void 0;var o=n(3);n(449);var i=n(661),a=r(i);n(446);var s=o.ngPreferencesModule.directive("nvPreferencesShieldGamestream",function(){return{restrict:"E",template:a.default,controller:"PreferencesShieldGamestreamController",controllerAs:"preferencesShieldGamestream"}});t.nvPreferencesShieldGamestream=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesShieldTileController=void 0;var r=n(3),o=r.ngPreferencesModule.controller("PreferencesShieldTileController",[function(){var e=this,t=!1;e.showOverlay=function(e){t=e},e.isOverlayVisible=function(){return t}}]);t.preferencesShieldTileController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesShieldTile=void 0;var o=n(3);n(13),n(21);var i=n(662),a=r(i);n(448);var s=o.ngPreferencesModule.directive("nvPreferencesShieldTile",[function(){return{restrict:"E",scope:{nvApp:"="},template:a.default,controller:"PreferencesShieldTileController",controllerAs:"vm"}}]);t.nvPreferencesShieldTile=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.preferencesSystemInfoController=void 0;var o=n(4),i=r(o),a=n(3);n(24);var s=a.ngPreferencesModule.controller("PreferencesSystemInfoController",["$log","hardwareService","$translate","$q","eventAggregator","COMMON_EVENTS","$scope",function(e,t,n,r,o,a,s){function l(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}function c(e){var t,n;try{return i.isString(e)?(n=e/w/w/w,t=l(n,2),isNaN(t)?A:t+" GB RAM"):A}catch(e){return x.error("failed to format memory",e),A}}function u(e){var t,n,r;try{return i.isString(e)?(t=e.split("@"),2===t.length&&(n=t[0].split("x"),2===n.length)?r=n[0]+" x "+n[1]+", "+t[1]+"Hz":A):A}catch(e){return x.error("failed to format resolution",e),A}}function d(){var e,t;return _={},E?(_.cpuName=i.isString(E.CPUName)?E.CPUName:A,_.driverVersion=i.isString(E.DriverVersion)?y+E.DriverVersion:A,_.totalPhysicalMemory=c(E.TotalPhysicalMemory),_.currentResolution=u(E.CurrentResolution),e=i.isArray(E.GPU)?E.GPU.length:0,0===e?_.gpuName=A:1===e?_.gpuName=E.GPU[0].LongGPUName:(t=i.rest(E.GPU),_.gpuName=E.GPU[0].LongGPUName,_.gpuSubItems=i.pluck(t,"LongGPUName")),void x.info("createItems - systemInfo",_)):(x.info("createItems - hardware info not available"),r.reject())}function f(){return y?r.when(y):b?b:b=n(["l10n.driverVersion"]).then(function(e){y=e["l10n.driverVersion"]+" "})}function m(e,t){S.systemInfoItems[t]=e}function g(){S.systemInfoItems=[],m({icon:"icon-gpu",description:_.gpuName,subItems:_.gpuSubItems},I.GPU),m({icon:"icon-nvlogo",description:_.driverVersion},I.DRIVER_VERSION),m({icon:"icon-memory",description:_.cpuName},I.CPU),m({icon:"icon-ram",description:_.totalPhysicalMemory},I.RAM),m({icon:"icon-monitor",description:_.currentResolution},I.RESOLUTION)}function p(e){return E=e,f().then(d).then(g).then(function(){S.loadingState=C.DONE})}function v(e){x.info("sysinfo updated"),S.loadingState=C.LOADING,E=null,p(e).catch(function(e){S.loadingState=C.FAILED,x.error("failed to update system info",e)})}function h(){E?(x.info("System info updated on locale change"),y=null,b=null,p(E)):x.info("No hardware information to update system information.")}var y,b,S=this,E=null,_={},A="-",w=1024,I={GPU:0,DRIVER_VERSION:1,CPU:2,RAM:3,RESOLUTION:4},C={LOADING:"LOADING",FAILED:"FAILED",DONE:"DONE"},x=e.getInstance("main.games/PreferencesSystemInfoController");S.systemInfoItems=[],S.ITEM_POSITION=I,S.LOADING_STATE=C,S.loadingState=C.LOADING,t.getSystemInfo().then(p).catch(function(e){S.loadingState=C.FAILED,x.error("failed to init system info",e)}),o.on(a.SYSTEMINFO_UPDATED,v),o.on(a.LOCALE_CHANGED,h),s.$on("$destroy",function(){o.off(a.SYSTEMINFO_UPDATED,v),o.off(a.LOCALE_CHANGED,h)})}]);t.preferencesSystemInfoController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvPreferencesSystemInfo=void 0;var o=n(3),i=n(663),a=r(i);n(450);var s=o.ngPreferencesModule.directive("nvPreferencesSystemInfo",function(){return{restrict:"E",template:a.default,controller:"PreferencesSystemInfoController",controllerAs:"preferencesSystemInfo"}});t.nvPreferencesSystemInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.couponInputController=void 0;var r=n(34),o=r.ngRewardsModule.controller("CouponInputController",["$log","REWARDS_CONSTANTS","eventAggregator","$scope","REWARDS_EVENTS",function(e,t,n,r,o){function i(){l.couponCode="",l.validateCoupon()}function a(){l.codeInvalid=!0,l.actionButtonDisabled=!0}function s(){n.on(o.COUPON_INPUT.CLEAR_CODE,i),n.on(o.COUPON_INPUT.INVALIDATE_CODE,a),l.validateCoupon()}var l=this,c=(e.getInstance("main.rewards/CouponInputController"),"");l.couponCode=c,l.validateCoupon=function(){if(l.codeInvalid=!1,l.couponCode){l.couponCode=l.couponCode.replace(/\s+/g,"");var e=new RegExp(/^[a-zA-Z\-]*$/);l.codeInvalid=!e.test(l.couponCode);for(var r=0;r<l.couponCode.length;r++)r===t.REWARDS_COUPONS.CODE_DASH_LOCATIONS.FIRST||r===t.REWARDS_COUPONS.CODE_DASH_LOCATIONS.SECOND||r===t.REWARDS_COUPONS.CODE_DASH_LOCATIONS.THIRD||r===t.REWARDS_COUPONS.CODE_DASH_LOCATIONS.FOURTH||r===t.REWARDS_COUPONS.CODE_DASH_LOCATIONS.FIFTH?"-"!==l.couponCode.charAt(r)&&(l.couponCode=l.couponCode.substring(0,r)+"-"+l.couponCode.substring(r)):"-"===l.couponCode.charAt(r)&&(l.couponCode=l.couponCode.substring(0,r)+l.couponCode.substring(r+1));if(l.couponCode.length>t.REWARDS_COUPONS.CODE_LENGTH-1?(l.couponCode=l.couponCode.slice(0,t.REWARDS_COUPONS.CODE_LENGTH),l.codeInvalid=!e.test(l.couponCode),l.actionButtonDisabled=l.codeInvalid):l.actionButtonDisabled=!0,l.couponCode.length>c.length){if(l.couponCode.replace(/-/g,"").length-c.replace(/-/g,"").length>1||0===l.couponCode.indexOf(c))n.trigger(o.COUPON_INPUT.RESTORE_CARET);else for(var i=0;i<l.couponCode.length;i++)if(l.couponCode.charAt(i)!==c.charAt(i)){n.trigger(o.COUPON_INPUT.RESTORE_CARET,++i);break}}else if(l.couponCode.length===c.length&&l.couponCode!==c){for(var a=0;a<l.couponCode.length;a++)if(l.couponCode.charAt(a)!==c.charAt(a)){n.trigger(o.COUPON_INPUT.RESTORE_CARET,++a);break}}else if(l.couponCode===c||c.length-l.couponCode.length>1)n.trigger(o.COUPON_INPUT.RESTORE_CARET,-1);else for(var s=0;s<l.couponCode.length;s++)if(l.couponCode.charAt(s)!==c.charAt(s)){n.trigger(o.COUPON_INPUT.RESTORE_CARET,s);break}c=l.couponCode}else l.actionButtonDisabled=!0,c=""},l.redeemCoupon=function(){l.nvButton.action(l.couponCode)},s(),r.$on("$destroy",function(){n.off(o.COUPON_INPUT.CLEAR_CODE,i),n.off(o.COUPON_INPUT.INVALIDATE_CODE,a)})}]);t.couponInputController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvCouponInput=void 0;var o=n(34),i=n(199),a=r(i);n(452);var s=o.ngRewardsModule.directive("nvCouponInput",["eventAggregator","REWARDS_EVENTS","$log","$timeout","COMMON_KEYBOARD_KEYCODES",function(e,t,n,r,o){return{restrict:"E",scope:{nvInputPlaceholder:"=",nvButton:"=",nvErrorMessage:"@"},bindToController:!0,template:a.default,controller:"CouponInputController",controllerAs:"couponInput",link:function(i,a,s){function l(){g[0].focus()}function c(){g[0].blur()}function u(e){p=e}function d(e){if(p.ctrlKey&&p.which===o.V||_.isNull(e)||isNaN(e))r(function(){g[0].value=g[0].value});else if(e===-1){var t=g[0].selectionStart;r(p.which===o.SPACE?function(){g[0].setSelectionRange(t--,t--)}:function(){g[0].setSelectionRange(t,t)})}else r(function(){g[0].setSelectionRange(e,e)})}function f(){e.off(t.COUPON_INPUT.FOCUS,l),e.off(t.COUPON_INPUT.BLUR,c),e.off(t.COUPON_INPUT.RESTORE_CARET,d),g&&g.off("keydown",u),a.empty(),a.remove(),a=null,g=null}function m(){e.on(t.COUPON_INPUT.FOCUS,l),e.on(t.COUPON_INPUT.BLUR,c),e.on(t.COUPON_INPUT.RESTORE_CARET,d),g.on("keydown",u),i.$on("$destroy",f),a.on("$destroy",function(){i.$destroy()})}var g=(n.getInstance("main.rewards/CouponInputDirective"),angular.element(a.find("input"))),p={which:o.DEFAULT};m()}}}]);t.nvCouponInput=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardCardController=void 0;var o=n(34),i=n(138);r(i);n(126),n(13),n(29),n(91);var a=o.ngRewardsModule.controller("RewardCardController",["$filter","$log","REWARDS_CONSTANTS","eventAggregator","REWARDS_EVENTS","TELEMETRY_CRIMSON_EVENT_NAMES","telemetryService",function(e,t,n,r,o,i,a){function s(){l.nvReward.rewardPackage.assets?l.rewardImageUrl=l.nvReward.rewardPackage.assets.artwork.gfe_card?l.nvReward.rewardPackage.assets.artwork.gfe_card:l.nvReward.rewardPackage.assets.artwork.gfe_row?l.nvReward.rewardPackage.assets.artwork.gfe_row:l.nvReward.rewardPackage.assets.artwork.row:f.error("reward Package for campaign id "+l.nvReward.rewardPackage.uuid+" has invalid assets");var t=l.nvReward.nesPackage.expirationDateTime,n=l.nvReward.nesPackage.transactionDateTime;t=e("date")(t,"dd MMM yyyy"),n=e("date")(n,"dd MMM yyyy"),l.isRewardRedeemed()?(l.showOverlay=!0,l.rewardStatusIcon=u.REDEEMED,l.rewardStatusMessage=e("translate")("l10n.redeemed"),n?l.rewardDate=e("translate")("l10n.redeemedOn",{date:n}):(f.error("Unexpected scenario: Got a redeemed reward with no transaction date"),l.rewardDate=null)):l.isRewardExpired()?(l.showOverlay=!0,l.rewardStatusIcon=u.EXPIRED,l.rewardStatusMessage=e("translate")("l10n.expired"),t?l.rewardDate=e("translate")("l10n.expiredOn",{date:t}):(f.error("Unexpected scenario: Got an expired reward with no expiration date"),l.rewardDate=null)):(l.showOverlay=!1,t?l.rewardDate=e("translate")("l10n.availableTill",{date:t}):(f.info("Reward with this uuid is set to never expire: ",c),l.rewardDate=null))}var l=this,c=(l.nvReward.nesPackage.entitlementId,l.nvReward.rewardPackage.uuid),u={REDEEMED:"done",EXPIRED:"error_outline"},d=!1,f=t.getInstance("main.rewards/RewardCardController");l.isRewardUnRedeemedOrClaimable=function(){return l.nvReward.redemptionStatus===n.REDEMPTION_STATES.UNREDEEMED||l.nvReward.redemptionStatus===n.REDEMPTION_STATES.CLAIMABLE},l.isRewardRedeemed=function(){return l.nvReward.redemptionStatus===n.REDEMPTION_STATES.REDEEMED},l.isRewardExpired=function(){return l.nvReward.redemptionStatus===n.REDEMPTION_STATES.EXPIRED},l.onMouseEnter=function(){d=!0,l.isRewardUnRedeemedOrClaimable()&&(l.showOverlay=!0)},l.onMouseLeave=function(){d=!1,l.isRewardUnRedeemedOrClaimable()&&(l.showOverlay=!1)},l.isDetailsButtonVisible=function(){return l.isRewardRedeemed()&&d},l.redeemReward=function(e){l.isRewardExpired()||(l.nvReward.redemptionStatus===n.REDEMPTION_STATES.UNREDEEMED?a.push(i.REWARDS_REDEEM_AVAILABLE_REWARD,{campaignName:c||""}):l.nvReward.redemptionStatus===n.REDEMPTION_STATES.CLAIMABLE?a.push(i.REWARDS_CLAIM_AVAILABLE_REWARD,{campaignName:c||""}):a.push(i.REWARDS_VIEW_REDEEMED_REWARD,{campaignName:c||""}),r.trigger(o.REWARD_REDEEM_CLICKED,l.nvReward))},s()}]);t.rewardCardController=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvRewardCard=void 0;var o=n(34),i=n(664),a=r(i);n(454),n(29);var s=o.ngRewardsModule.directive("nvRewardCard",[function(){return{restrict:"E",scope:{},bindToController:{nvReward:"="},template:a.default,controller:"RewardCardController",controllerAs:"rewardCard"}}]);t.nvRewardCard=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.rewardsCenterController=void 0;var o=n(27),i=r(o),a=n(34);n(98);var s=n(138),l=r(s);n(126);var c=n(199);r(c);n(453),n(13),n(20),n(19),n(171),n(7),n(25);var u=a.ngRewardsModule.controller("RewardsCenterController",["rewardsService","$filter","$log","REWARDS_CONSTANTS","$mdDialog","eventAggregator","REWARDS_EVENTS","COMMON_EVENTS","toastService","gfeService","$scope","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","windowSpawnService","$window","jarvisService","dbCacheService","DB_NAMES","$state","$q","COMMON_DEFAULT_STATES","COMMON_GPU_ARCHITECTURE_IDS","$interval",function(e,t,n,r,o,a,s,c,u,d,f,m,g,p,v,h,y,b,S,E,A,w,I){function C(e,t,n,r,o){d.onlineState&&d.onlineState.online===!1?u.showOffline():e(t,n,r,o)}function x(){m.push(g.REWARDS_REDEMPTION_PORTAL_CLOSE,{couponCode:H.couponCode||""}),H.couponCode="",a.trigger(s.COUPON_INPUT.CLEAR_CODE),ne.info("getting Rewards"),B(),a.off(c.CHILD_WINDOW_CLOSED,x)}function T(n){u.showError({textContent:t("translate")(n||"l10n.unableToReachNvidia"),button:{text:t("translate")("l10n.learnMore"),action:e.openLearnMoreWindow}})}function O(){var n=E.defer();return H.unRedeemedList=[],H.redeemedOrExpiredList=[],e.getRedemptionHistory().then(function(e){W=!0,(_.size(e.claimable)>0||_.size(e.unRedeemed)>0)&&(H.unRedeemedList=e.claimable.concat(e.unRedeemed),_.forEach(H.unRedeemedList,function(e){if(e.redemptionStatus=e.nesPackage.packageStateInString,e.nesPackage.expirationDateTime){var t=new Date(e.nesPackage.expirationDateTime);Y>t&&(e.redemptionStatus=r.REDEMPTION_STATES.EXPIRED,e.nesPackage.transactionDateTime=e.nesPackage.expirationDateTime,H.redeemedOrExpiredList.push(e),H.unRedeemedList=_.without(H.unRedeemedList,e))}else ne.info("Reward has no expiry date",e.rewardPackage.name)}),H.unRedeemedList=t("orderBy")(H.unRedeemedList,"nesPackage.expirationDateTime",!0),W=!1),_.size(e.redeemed)>0&&(_.forEach(e.redeemed,function(e){e.redemptionStatus=r.REDEMPTION_STATES.REDEEMED,H.redeemedOrExpiredList.push(e)}),H.redeemedOrExpiredList=t("orderBy")(H.redeemedOrExpiredList,"nesPackage.transactionDateTime",!0),W=!1),j=e.somePackagesMissing,j&&T("l10n.someRedemptionHistoryItemsMissing"),n.resolve(e)}).catch(function(e){ne.error("Failed to get user rewards"),H.unRedeemedList=[],H.redeemedOrExpiredList=[],n.reject(e)}).finally(function(){V()}),n.promise}function M(){return H.requestInProgress=!0,H.rewardsLoaded=!1,X?void ne.error("Building rewards already in progress"):void(X=O().catch(function(){ne.error("Build rewards failed"),q=!0,T("l10n.couldNotRetrieveRedemptionHistory")}).finally(function(){H.requestInProgress=!1,H.rewardsLoaded=!0,X=null}))}function D(e){var t=o.show({template:l.default,locals:e,bindToController:!0,autoWrap:!1,clickOutsideToClose:!1,controller:"RedeemRewardController",controllerAs:"redeemReward"});t.then(function(){a.trigger(s.COUPON_INPUT.FOCUS)}).finally(function(){H.requestInProgress=!1,H.couponCode="",a.trigger(s.COUPON_INPUT.CLEAR_CODE)})}function N(e,t){var n=r.PORTAL_WINDOW_HEIGHT,o=r.PORTAL_WINDOW_WIDTH,a=v.screenY+v.innerHeight/2-n/2,s=v.screenX+v.innerWidth/2-o/2,l="toolbar=0,location=0,menubar=0,width="+o+",height="+n+",top="+a+",left="+s,c={message:t||"",urlToLoad:e.replace(/\//g,"NvForwardSlash")},u="external-page-loader-app.html#/"+encodeURI((0,i.default)(c));p.openChildWindow(u,l,"app_rewards",{},!0);ne.info("New browser window should have opened with url: ",e)}function R(){var t=e.getRedeemRequestData(),n=t.sysInfo&&t.sysInfo.dFma&&t.sysInfo.dFma[0],r=n&&parseInt(n,16);return r&&r<parseInt(w.MAXWELL_SERIES_1,16)}function P(){var e={message:r.VALIDATION_ERRORS.COUPONS.HARDWARE_RESTRICTION};D({nvRedemptionError:e})}function k(t,n,r){H.requestInProgress=!0,m.startLoad(g.REWARDS_REDEMPTION_PORTAL_FETCH_URL_RESPONSE_TIME),e.getRedemptionPortalUrl(t,n).then(function(e){var t=e.prefer_browser&&JSON.parse(e.prefer_browser)||!1;t?(N(e.url,r),a.on(c.CHILD_WINDOW_CLOSED,x)):D({nvRedemptionPortalIframeUrl:e.url}),m.endLoad(g.REWARDS_REDEMPTION_PORTAL_FETCH_URL_RESPONSE_TIME,{couponCode:n.couponCode||"",campaignName:K||"",gpuDeviceId:n.sysInfo.dIDa&&n.sysInfo.dIDa.toString()||"",lcid:parseInt(n.sysInfo.lg,10)||0})}).catch(function(e){ne.error("Show portal failed"),T()}).finally(function(){H.requestInProgress=!1})}function L(t){H.requestInProgress=!0,Z=e.getRedeemRequestData(),e.claimReward(t,!0).then(function(e){K=e.package,Z.campaignName=K,C(k,e.uuid,Z,"")}).catch(function(e){ne.error("Reward redemption for "+K+" failed with error: "+e.message),H.requestInProgress=!1,D({nvRedemptionError:e})})}function G(n){R()?P():(H.requestInProgress=!0,a.trigger(s.COUPON_INPUT.BLUR),Z=e.getRedeemRequestData(),Z.couponCode=n,e.attemptCouponRedemption(n).then(function(e){var n=t("translate")("l10n.codeVerified");K=e.rewardPackage.uuid,Z.campaignName=K,C(k,e.rdsPackage.entitlement,Z,n)}).catch(function(e){ne.error("Code Validation for "+n+" failed with error: "+e.message),H.requestInProgress=!1,e.message&&e.message===r.VALIDATION_ERRORS.COUPONS.NOT_FOUND?a.trigger(s.COUPON_INPUT.INVALIDATE_CODE):D({nvRedemptionError:e})}))}function F(e,n,o){return t("filter")(e,function(e){return e.redemptionStatus===r.REDEMPTION_STATES[n]||e.redemptionStatus===r.REDEMPTION_STATES[o]})}function U(){H.unRedeemedListLimitTo<H.filteredUnRedeemedList.length&&!ee?ee=I(function(){H.unRedeemedListLimitTo+=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,H.unRedeemedListLimitTo>=H.filteredUnRedeemedList.length&&(H.unRedeemedListLimitTo=H.filteredUnRedeemedList.length,I.cancel(ee),ee=null)},r.LIMIT_TO_FILTER.INTERVAL_LENGTH):H.unRedeemedListLimitTo>H.filteredUnRedeemedList.length&&(H.unRedeemedListLimitTo=H.filteredUnRedeemedList.length),H.redeemedOrExpiredListLimitTo<H.filteredRedeemedOrExpiredList.length&&!te?te=I(function(){H.redeemedOrExpiredListLimitTo+=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,H.redeemedOrExpiredListLimitTo>=H.filteredRedeemedOrExpiredList.length&&(H.redeemedOrExpiredListLimitTo=H.filteredRedeemedOrExpiredList.length,I.cancel(te),te=null)},r.LIMIT_TO_FILTER.INTERVAL_LENGTH):H.redeemedOrExpiredListLimitTo>H.filteredRedeemedOrExpiredList.length&&(H.redeemedOrExpiredListLimitTo=H.filteredRedeemedOrExpiredList.length)}function V(){H.filteredUnRedeemedList=H.unRedeemedList,H.filteredRedeemedOrExpiredList=H.redeemedOrExpiredList,J&&J.rewardsFilters&&J.rewardsFilters.available?H.isFilterButtonDisabled("available")?(ne.info("No unredeemed items available, reverting filter to all state"),H.setFilter("all")):H.filteredUnRedeemedList=F(H.filteredUnRedeemedList,"UNREDEEMED","CLAIMABLE"):J&&J.rewardsFilters&&J.rewardsFilters.expired?H.isFilterButtonDisabled("expired")?(ne.info("No expired items available, reverting filter to all state"),H.setFilter("all")):H.filteredRedeemedOrExpiredList=F(H.filteredRedeemedOrExpiredList,"EXPIRED"):J&&J.rewardsFilters&&J.rewardsFilters.redeemed?H.isFilterButtonDisabled("redeemed")?(ne.info("No redeemed items available, reverting filter to all state"),H.setFilter("all")):H.filteredRedeemedOrExpiredList=F(H.filteredRedeemedOrExpiredList,"REDEEMED"):J&&J.rewardsFilters&&J.rewardsFilters.all?ne.info("Rewards filters set to show all, no specifics applied"):J&&!J.rewardsFilters?(ne.info("Setting default filter to show all Rewards"),H.setFilter("all")):ne.error("Local view state not available to persist rewards filters"),U()}function z(t){var n=e.getRedeemRequestData();t.redemptionStatus===r.REDEMPTION_STATES.CLAIMABLE?C(L,t.nesPackage.packageId):C(k,t.nesPackage.entitlementId,n,"")}function B(){C(M)}function $(){J=y.getCachedUserItem(Q.userId,b.VIEW_STORE,b.VIEW_STATE),B(),a.on(s.REWARD_REDEEM_CLICKED,z),a.on(s.ON_REWARDS_UPDATED,B),f.$on("$destroy",function(){a.off(c.CHILD_WINDOW_CLOSED,x),a.off(s.REWARD_REDEEM_CLICKED,z),a.off(s.ON_REWARDS_UPDATED,B),ee&&(I.cancel(ee),ee=null),te&&(I.cancel(te),te=null)}),H.translatedInputPlaceholder=t("translate")("l10n.enterCouponCode"),H.nvCouponInputButton={text:"l10n.redeem",action:H.redeemCoupon}}var H=this,W=!1,j=!1,q=!1,Y=new Date,K=null,Z=null,X=null,J=null,Q=h.getLoggedInUser(),ee=null,te=null,ne=n.getInstance("main.rewards/RewardsCenterController");H.requestInProgress=!1,H.redeemButtonDisabled=!0,H.couponBannerExpanded=!1,H.filteredUnRedeemedList=H.unRedeemedList=[],H.filteredRedeemedOrExpiredList=H.redeemedOrExpiredList=[],H.redeemedOrExpiredListLimitTo=H.unRedeemedListLimitTo=r.LIMIT_TO_FILTER.ITEMS_AT_ONCE,H.couponsLearnMoreMessages=["l10n.checkCouponRetailer","l10n.checkYourEmailNvidia","l10n.lookForCouponCard"],H.redeemedOrExpiredItemsExist=function(){return H.redeemedOrExpiredList.length>0},H.unRedeemedItemsExist=function(){return H.unRedeemedList.length>0},H.showAvailableCards=function(){return H.matchFilter("all")||H.matchFilter("available")},H.showNoRedeemedItemsMessage=function(){return!H.redeemedOrExpiredItemsExist()&&H.matchFilter("all")},H.backToPreviousState=function(){J?S.go(J.lastRouterFromState,J.lastRouterFromStateParams,{location:"replace"}):(ne.error("Unable to go back to previous state, view state unavailable"),S.go(A.HOME_STATE,{},{location:"replace"}))},H.redeemCoupon=function(e){H.couponCode=e,m.push(g.REWARDS_REDEEM_CODE,{couponCode:H.couponCode||""}),C(G,e)},H.isFilterButtonDisabled=function(e){switch(e){case"all":return 0===H.getRewardsCount("all");case"available":return 0===H.getRewardsCount("available");case"redeemed":return 0===H.getRewardsCount("redeemed");case"expired":return 0===H.getRewardsCount("expired");default:return!1}},H.setFilter=function(e){J?(J.rewardsFilters={all:!1,available:!1,redeemed:!1,expired:!1},J.rewardsFilters[e]=!0,J.persist_(),"available"===e?m.push(g.REWARDS_TOOLBAR_FILTER_AVAILABLE):"redeemed"===e?m.push(g.REWARDS_TOOLBAR_FILTER_REDEEMED):"expired"===e?m.push(g.REWARDS_TOOLBAR_FILTER_EXPIRED):m.push(g.REWARDS_TOOLBAR_FILTER_ALL),V(),a.trigger(s.RESET_SCROLL_POSITION)):ne.error("Unable to set filter, view state unavailable")},H.matchFilter=function(e){return J&&J.rewardsFilters&&J.rewardsFilters[e]||!1},H.getRewardsCount=function(e){switch(e){case"all":return _.size(H.redeemedOrExpiredList)+_.size(H.unRedeemedList);case"available":return _.size(F(H.unRedeemedList,"UNREDEEMED","CLAIMABLE"));case"redeemed":return _.size(F(H.redeemedOrExpiredList,"REDEEMED"));case"expired":return _.size(F(H.redeemedOrExpiredList,"EXPIRED"));default:return 0}},H.toggleCouponBannerExpansionState=function(){H.couponBannerExpanded=!H.couponBannerExpanded,H.couponBannerExpanded&&m.push(g.REWARDS_REDEEM_COUPON_BANNER_EXPANDED)},$()}]);t.rewardsCenterController=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvRewardsCenter=void 0;var o=n(34),i=n(665),a=r(i);n(456),n(29),n(455);var s=o.ngRewardsModule.directive("nvRewardsCenter",["eventAggregator","REWARDS_EVENTS","$log","$timeout",function(e,t,n,r){return{restrict:"E",scope:{},template:a.default,controller:"RewardsCenterController",controllerAs:"rewardsCenter",link:function(o,i,a){function s(){var e=i.find("md-content");_.size(e)>0?r(function(){e[0].scrollTop=0}):u.error("Could not find a scroll element to reset scroll postion")}function l(){e.on(t.RESET_SCROLL_POSITION,s)}function c(){e.off(t.RESET_SCROLL_POSITION,s),i.empty(),i.remove(),i=null}var u=n.getInstance("main.rewards/RewardsCenterDirective");l(),o.$on("$destroy",c),i.on("$destroy",function(){o.$destroy()})}}}]);t.nvRewardsCenter=s},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gfeUpdatesService=void 0;var r=n(6);n(41),n(14),n(63);var o=r.ngUpdatesModule.service("gfeUpdatesService",["socketService","GFE_SOCK_MESSAGE","gfeUpdatesEndpoints","$log",function(e,t,n,r){var o=this,i=r.getInstance("main.updates/gfeUpdatesService");o.initialize=function(){e.register("/autoGFEdownload/newversion",t.NEW_VERSION_AVAIL),n.forceCheckUpdate().then(function(e){},function(e){i.error("GFE update check failed "+e)})}}]);t.gfeUpdatesService=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.gfwslDriverInformationService=void 0;var o=n(4),i=r(o),a=n(6);n(33),n(19);var s=a.ngUpdatesModule.service("gfwslDriverInformationService",["$log","gfwslEndpoints","$q","eventAggregator","COMMON_EVENTS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","gfwslArticleEndpoints",function(e,t,n,r,o,a,s,l){function c(e){var t="";return e&&e.status&&(t=e.status.toString()),t}function u(e,t,n){var r={};r.version=n,r.data=t,e.push(r)}function d(e){return t.getParams().dIDa?t.driver.getDriverInformation({gfwslParams:{GFPV:e}}).then(function(e){return a.push(s.UPDATES_GRD_CONTENT_SUCCESS),e}).catch(function(e){return a.push(s.UPDATES_GRD_CONTENT_FAILURE,c(e)),n.reject(e)}):(h.error("hardware system info provided insufficient primary gpu information"),
n.reject())}function f(e){var t=i.find(g,function(t){return t.version===e});if(!t&&!v.data){var r=d(e),o=r.then(function(t){return t&&t.data?(u(v,t.data,e),t.data):(h.error("gfwsl driver information returned null data for driver version",e),null)}).catch(function(e){return n.reject()}).finally(function(){var t=i.find(g,function(t){return t.version===e});g.splice(g.indexOf(t),1)});return u(g,o,e),o}return t.data}function m(){return t.getParams().dIDa?t.installer.getInstallationDriverData().then(function(e){return a.push(s.UPDATES_INSTALL_BB_HTML_SUCCESS),h.info("response from server to installation information ",e),e}).catch(function(e){return a.push(s.UPDATES_INSTALL_BB_HTML_FAILURE,c(e)),h.error("request to get driver installation content failed with : ",e),n.reject("gfwslEndpoints error")}):(h.error("hardware system info provided insufficient primary gpu information"),n.reject())}var g=[],p=this,v=[],h=e.getInstance("main.updates/gfwlsDriverInformationService");p.initialize=function(){r.on(o.SYSTEMINFO_UPDATED,this.resetDriverInformation),r.on(o.LOCALE_CHANGED,this.resetDriverInformation)},p.getDriverInformation=function(e){var t=i.find(v,function(t){return t.version===e});return t?(h.debug("Driver information from cache for driver version:",e),n.when(t.data)):f(e)},p.resetDriverInformation=function(){i.each(g,function(e){t.driver.getDriverInformation.cancel(e.data)}),g=[],v=[],h.debug("reset driver information cache to empty")},p.getInstallationDriverData=function(){return m().then(function(e){if(e&&e.data&&e.data.html&&e.data.html.head&&e.data.html.head.response&&e.data.html.head.response.url){var t={};return t.billboardURL=e.data.html.head.response.url,t}return h.error("gfwsl driver installation content returned null data"),n.reject()}).catch(function(e){return n.reject()})},p.getArticleInformation=function(e,r,o){return t.getParams().dIDa?(r.GFPV=o,l.getArticle({articleUrl:e,gfwslParams:r})):(h.error("hardware system info provided insufficient primary gpu information"),n.reject())}}]);t.gfwslDriverInformationService=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.highlightTileController=void 0;var o=n(6);n(153),n(64);var i=n(198),a=r(i),s=o.ngUpdatesModule.controller("HighlightTileController",["$scope","$mdDialog","DRIVER_TYPE","updatesService","$q","$log","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES",function(e,t,n,r,o,i,s,l){function c(e){try{return JSON.parse(e)}catch(t){return p.error("Json parsing exception for ",e),null}}function u(){if(f&&f.gfeLoadUrl){var e=f.gfeLoadUrl;e=e.replace(/\\/g,"");var t=e.split("{");if(2!==t.length)return p.error("Cannot request for article as gfeloadUrl is incorrect ",f.gfeLoadUrl),o.reject();t[1]="{"+t[1];var n=c(t[1]);return n?r.getDriverArticle(t[0],n,g).then(function(e){if(s.push(l.UPDATES_GRD_ARTICLE_SUCCESS),e&&e.data&&e.data.gfcontent){p.debug("get driver article returns content");var t={},n=e.data.gfcontent;return t.title=n.title,t.subTitle=n.author_date?n.author_date.by_on_date:null,t.body=n.body,t.style="article-content",t}return p.debug("get driver article returns null content"),s.push(l.UPDATES_GRD_ARTICLE_SUCCESS),null},function(e){return s.push(l.UPDATES_GRD_ARTICLE_FAILURE,e&&e.status&&e.status.toString()||""),o.reject(e)}):(p.error("Cannot request for article as gfeloadUrl has incorrect json ",f.gfeLoadUrl),o.reject())}return p.error("article url empty for ",f.gfeLoadUrl),o.reject("no article url")}var d=this,f=e.nvContent,m=e.nvDriverType,g=e.nvDriverVersion,p=i.getInstance("main.updates/HighlightTileController");d.showDetails=function(e){t.show({controller:"ArticleInformationController",controllerAs:"vm",template:a.default,disableParentScroll:!1,locals:{getArticleCallback:u},bindToController:!0})},d.getTelemetryEventName=function(){return f.featureId||!this.isContentGame()?m===n.CURRENT?e.$root.telemetryEventNames.UPDATES_VIEW_CURRENTDRV_ADDON_FEATURE:m===n.AVAILABLE_BETA?e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLEDRV_BETA_ADDON_FEATURE:e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLEDRV_ADDON_FEATURE:m===n.CURRENT?e.$root.telemetryEventNames.UPDATES_VIEW_CURRENTDRV_HIGHLIGHT:m===n.AVAILABLE_BETA?e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLEDRV_BETA_HIGHLIGHT:e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLEDRV_HIGHLIGHT},d.isContentGame=function(){return f&&"true"===f.isGfeSupportedGame}}]);t.highlightTileController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvHighlightTile=void 0;var o=n(6);n(13),n(169),n(21),n(29);var i=n(668),a=r(i);n(465);var s=o.ngUpdatesModule.directive("nvHighlightTile",function(){return{restrict:"E",scope:{nvContent:"=",nvDriverType:"=",nvDriverVersion:"@"},template:a.default,controller:"HighlightTileController",controllerAs:"highlightTile",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvHighlightTile=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.updateDetailsController=void 0;var o=n(4),i=r(o),a=n(6);n(64);var s=a.ngUpdatesModule.controller("UpdateDetailsController",["$scope","updatesService","$log","$sce",function(e,t,n,r){var o=this;o.showLoadingIndicator=!0,o.driverInformation=null;var a=n.getInstance("main.updates/UpdateDetailsController");o.driverVersion=e.nvDriverVersion,o.driverType=e.nvDriverType,t.getDriverInformation(o.driverVersion).then(function(e){e&&e.DriverAttributes?(o.driverInformation=e.DriverAttributes,e.DriverAttributes.ReleaseNotes&&(o.driverInformation.releaseNotes=r.trustAsHtml(e.DriverAttributes.ReleaseNotes))):a.error("No content avaliable for GRD version: ",o.driverVersion)},function(e){a.error("getDriverInformation failed with error: ",e)}).finally(function(){o.showLoadingIndicator=!1}),o.showHighLights=function(){return!(!o.driverInformation||i.isEmpty(o.driverInformation.ReleaseNotesAbstract)&&(!o.driverInformation.highlightGfeNg||i.isEmpty(o.driverInformation.highlightGfeNg.tiles)))},o.showDefaultBanner=function(){return o.showLoadingIndicator===!1&&!i.isNull(o.driverInformation)&&i.isNull(o.driverInformation.bannerGfeNg)},o.showDefaultContentImage=function(){return o.showLoadingIndicator===!1&&i.isNull(o.driverInformation)}}]);t.updateDetailsController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdateDetails=void 0;var o=n(6);n(61),n(475),n(473);var i=n(669),a=r(i);n(467);var s=o.ngUpdatesModule.directive("nvUpdateDetails",function(){return{restrict:"E",scope:{nvDriverVersion:"@",nvDriverType:"="},template:a.default,controller:"UpdateDetailsController",controllerAs:"updateDetails",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdateDetails=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdates=void 0;var o=n(6);n(471);var i=n(670),a=r(i),s=o.ngUpdatesModule.directive("nvUpdates",function(){return{restrict:"E",scope:{},template:a.default,link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdates=s},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.updatesDriverController=void 0;var o=n(4),i=r(o),a=n(6);n(64),n(224),n(15),n(12),n(20),n(19);var s=a.ngUpdatesModule.controller("UpdatesDriverController",["$scope","$log","TASK_STATUS","$filter","$timeout","updatesService","$state","CHECK_FOR_UPDATE","COMMON_EVENTS","eventAggregator","UPDATE_EVENTS","DOWNLOAD_PROGRESS_STATUS","telemetryService","TELEMETRY_CRIMSON_EVENT_NAMES","DRIVER_TYPE","dbService","DB_NAMES","INSTALLER_EVENTS","toastService","gfeService","dbCacheService","jarvisService",function(e,t,n,r,o,a,s,l,c,u,d,f,m,g,p,v,h,y,b,S,E,_){function A(e,t){var n={state:t,version:e};F.setItem(h.DRIVER_DOWNLOAD_STATE,n)}function w(){if(!i.isNull(j)&&!i.isUndefined(j)&&!i.isUndefined(j.version)){var e=r("filter")(G.driverUpdateList,{version:j.version});e&&e.length>0?(B.info("resume installation for recommended driver",j.version),a.beginInstallation(e[0],j.isCustomInstall,!0)):(B.info("resume installation for installed driver",j.version),a.beginInstallation(j,j.isCustomInstall,!0))}j=null}function I(){if(B.info("check for auto download Driver"),G.driverUpdateList&&!L&&i.isNull(j)){var e=G.driverUpdateList;if(G.driverUpdateList.length>1&&(e=r("filter")(G.driverUpdateList,{isBeta:!1})),e&&e[0]&&(G.isStatusPending(e[0].downloadStatus.status)||G.isStatusPaused(e[0].downloadStatus.status))&&e[0].downloadStatus.failureCount<3){B.info("autodownloadDriver for driver updates",e);var t;F.getItem(h.DRIVER_DOWNLOAD_STATE).then(function(e){t=e},function(e){B.error("failed to read driverDownloadState key in database: ",e)}).finally(function(){var n=!0;!t||t.version!==e[0].version||"paused"!==t.state&&"stop"!==t.state||(n=!1),n&&G.startDownload(e[0])})}}}function C(){L?(Y===q.FAILED||G.driverUpdateList?G.installedDriverHeaderText=z("l10n.currentlyInstalled"):G.installedDriverHeaderText=z("l10n.latestGeforceUpdate"),G.installedDriverHeaderText=G.installedDriverHeaderText.toUpperCase()):G.installedDriverHeaderText=""}function x(e){a.getUpdateDetails().then(function(e){K&&(!G.driverUpdateList||e&&e[0]&&G.driverUpdateList[0]&&G.driverUpdateList[0].version!==e[0].version)?b.show({textContent:r("translate")("l10n.newDriverAvailable"),icon:"file_download"}):b.isOpen()&&b.cancel(),B.debug("driver updates list is: ",e,G.driverUpdateList),G.driverUpdateList=e,I()}).catch(function(e){G.installedDriver&&K?b.show({textContent:r("translate")("l10n.latestGeforceUpdate"),icon:"check"}):b.isOpen()&&b.cancel(),G.driverUpdateList=null,B.error("getUpdates failed with error: ",e)}).finally(function(){B.info("refreshAvailableUpdates finally IN"),w(),G.installedDriver=L,e&&(B.info("call cb",e),e()),G.anydriverInfoOrUpdatesFound=!(!G.driverUpdateList&&!G.installedDriver),C(),V=!0,K=!1,B.info("refreshAvailableUpdates finally OUT")})}function T(e){b.show({textContent:e,icon:"error_outline"})}function O(){G.updateState===l&&a.canCheckForUpdate()&&i.isNull(j)?a.checkForUpdates():a.scanCompleted&&i.isNull(j)?(B.info("scan completed, refreshing state"),x()):a.manualCheckForUpdate&&!a.scanCompleted&&i.isNull(j)&&(b.showProgress({textContent:r("translate")("l10n.checkingforUpdates")}),K=!0)}function M(){G.installedDriver=null,L=null,a.getInstalledDriver().then(function(e){L=e,L.isExpanded=!1,L.reInstalledDriver=L.downloadStatus&&G.isDownloadStarted(L.downloadStatus.status)||L.reInstalledDriver||!1,B.info("getInstalledDriver get called",e)},function(e){B.error("getInstalledDriver failed with error: ",e)}).finally(function(){G.refreshUI(),o.cancel(W),W=o(function(){O()})})}function D(){Y=q.SCANNING}function N(){K=!1,T(z("l10n.unableToConnectToNvidia")),Y=q.FAILED}function R(){Y=q.FINISHED}function P(e){var t=G.installedDriver&&G.installedDriver.downloadStatus.taskId==e.taskId;if(t&&(G.installedDriver.reInstalledDriver=!1),e.status===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER)T(z("l10n.downloadPausedUnableToReachNvidia")),t&&(G.installedDriver.reInstalledDriver=!0);else if(e.status===n.TASK_CHECK_SUM_ERROR||e.status===n.TASK_SIGNATURE_VERIFICATION_FAILS)T(z("l10n.driverDownloadFailed"));else if(e.status===n.TASK_FAILED_UNABLE_TO_REACH_SERVER)T(z("l10n.unableToConnectToNvidia"));else if(e.status===n.TASK_DISK_WRITE_FAIL){var o=r("convertBytesToKBMBGB")(e.totalBytes);if(e.downloadedLocation.length>0){var i=e.downloadedLocation.split(":")[0];i=i.toUpperCase();var a=z("l10n.downloadDiskSpace",{value:o,drive:i});T(a)}}}function k(){B.info("got online event"),M()}var L,G=this,F=v.getGlobalStore(h.GLOBAL_STORE),U=Date.now(),V=!1;G.driverUpdateList=null,G.installedDriver=null,G.taskStatus=n;var z=r("translate"),B=t.getInstance("main.updates/updatesdrivercontroller");G.driverTypeConstant=p;var $,H,W,j=null;B.info("controller created"),G.installedDriverHeaderText="";var q={NOT_STARTED:"NOT_STARTED",FAILED:"FAILED",FINISHED:"FINISHED",SCANNING:"SCANNING"},Y=q.NOT_STARTED;G.user=_.getLoggedInUser(),G.viewState=E.getCachedUserItem(G.user.userId,h.VIEW_STORE,h.VIEW_STATE),G.anydriverInfoOrUpdatesFound=!0;var K=!1;G.getProgressString=function(e){var t="";if(e&&e.downloadStatus){var n=r("convertBytesToKBMBGB")(e.downloadStatus.totalBytes),o=r("convertBytesToKBMBGB")(e.downloadStatus.bytesDone);t=o+"/"+n}return t},G.startDownload=function(e){S.onlineState&&S.onlineState.online===!1?b.showOffline():a.startDownload(e.version,e.downloadURL).then(function(t){B.info("download started",t.data),A(e.version,"start"),e.downloadStatus=t.data},function(t){B.error("download failed to start",t),T(z("l10n.driverDownloadFailed")),G.installedDriver&&G.installedDriver.version===e.version&&(G.installedDriver.reInstalledDriver=!1),m.push(g.UPDATES_DOWNLOAD_DRIVER_FAILED,e.version)})},G.pauseDownload=function(e){a.pauseDownload(e.downloadStatus.taskId).then(function(t){A(e.version,"paused"),e.downloadStatus=t.data,B.info("download paused",e.downloadStatus)},function(e){B.error("download failed to pause with error",e)})},G.resumeDownload=function(e){a.resumeDownload(e.downloadStatus.taskId).then(function(t){e.downloadStatus=t.data,A(e.version,"resume"),B.info("download resume",e.downloadStatus)},function(e){B.error("download failed to resume with error",e)})},G.stopDownload=function(e,t){t&&(G.installedDriver.reInstalledDriver=!1),a.stopDownload(e.downloadStatus.taskId).then(function(t){e.downloadStatus=t.data,A(e.version,"stop"),B.info("download stoped",e.downloadStatus)},function(e){B.error("download failed to stop with error",e)})},G.startInstall=function(e,t){a.beginInstallation(e,t,!1)},G.isDownloadStarted=function(e){return e===n.TASK_PAUSED||e===n.TASK_RUNNING||e===n.TASK_RETRY||e===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER},G.isStatusPaused=function(e){return e===n.TASK_PAUSED||e===n.TASK_PAUSED_UNABLE_TO_REACH_SERVER},G.isStatusCompleted=function(e){return e===n.TASK_COMPLETED},G.isStatusPending=function(e){return e===n.TASK_NOT_STARTED||e===n.TASK_CHECK_SUM_ERROR||e===n.TASK_FAILED_UNABLE_TO_REACH_SERVER||e===n.TASK_SIGNATURE_VERIFICATION_FAILS||e===n.TASK_DISK_WRITE_FAIL},G.updateDriverExpandedState=function(){var e=G.viewState.driverExpandState||{};B.debug("driverExpandState IN",e),L&&(angular.isDefined(e[G.installedDriver.version])?L.isExpanded=e[G.installedDriver.version]:G.driverUpdateList||(G.installedDriver.isExpanded=L.isExpanded=!0),e[G.installedDriver.version]=L.isExpanded),G.driverUpdateList&&1===G.driverUpdateList.length&&(G.driverUpdateList[0].isExpanded=e[G.driverUpdateList[0].version]!==!1,e[G.driverUpdateList[0].version]=G.driverUpdateList[0].isExpanded),G.viewState.driverExpandState=e,G.viewState.persist_(),B.debug("driverExpandState OUT",e)},G.isScanCompleted=function(){return a.scanCompleted},G.onExpand=function(e){o.cancel($),$=o(function(){e.isExpanded=!0,G.viewState.driverExpandState&&(G.viewState.driverExpandState[e.version]=!0,G.viewState.persist_())})},G.onCollapse=function(e){o.cancel(H),H=o(function(){e.isExpanded=!1,G.viewState.driverExpandState&&(G.viewState.driverExpandState[e.version]=!1,G.viewState.persist_())})},G.refreshUI=function(){x(G.updateDriverExpandedState)},G.updateState=s.params.updateState,j=s.params.resumeDriverInstallation,j&&F.setItem(h.DRIVER_INSTALL_STATE,null),G.isCheckForUpdateDisabled=function(){return!a.canCheckForUpdate()||Y===q.SCANNING},G.isInstallDisabled=function(){return K},G.onCheckForUpdate=function(){S.onlineState&&S.onlineState.online===!1?b.showOffline():a.canCheckForUpdate()&&(b.showProgress({textContent:r("translate")("l10n.checkingforUpdates")}),a.checkForUpdates(!0),K=!0)},M(),a.setUpdatesListener(G.refreshUI),G.getDownloadStatusMessage=function(e){var t="";return e===n.TASK_RUNNING?t=z("l10n.downloading"):G.isStatusPaused(e)?t=z("l10n.paused"):e===n.TASK_RETRY&&(t=z("l10n.retrying")),t},G.getAvlDriverTelemetryEventName=function(t){return t?e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLE_BETA_DRIVER:e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLE_DRIVER},G.getAvlDriverType=function(e){return e?p.AVAILABLE_BETA:p.AVAILABLE},G.canToggleDownload=function(e,t){var n=[],r=G.isStatusPending(e);if(r){if(L&&L.downloadStatus&&L.version!==t&&G.isDownloadStarted(L.downloadStatus.status))return!1;G.driverUpdateList&&(n=i.filter(G.driverUpdateList,function(e){return!(e.version===t||!G.isDownloadStarted(e.downloadStatus.status))}))}return 0===n.length&&r&&!K},G.reInstalledDriverMenuItemDisabled=function(){return L&&L.downloadStatus&&G.isStatusPending(L.downloadStatus.status)&&!G.canToggleDownload(L.downloadStatus.status,L.version)},G.performReinstalledDriver=function(){G.installedDriver&&(G.installedDriver.reInstalledDriver=!0,G.isStatusPending(L.downloadStatus.status)&&G.startDownload(L))},G.showReInstallButtons=function(){return G.installedDriver.reInstalledDriver},G.showLoadingIndicator=function(){return V===!1&&Date.now()-U>500},u.on(y.INSTALL_DONE,M),u.on(f.FAILED,P),u.on(d.SCAN_STARTED,D),u.on(d.SCAN_FAILED,N),u.on(c.ONLINE,k),u.on(d.SCAN_FINISHED,R),u.on(d.INSTALLED_DRIVER_UPDATE,M),e.$on("$destroy",function(){u.off(y.INSTALL_DONE,M),u.off(d.SCAN_STARTED,D),u.off(d.SCAN_FAILED,N),u.off(d.SCAN_FINISHED,R),u.off(f.FAILED,P),u.off(c.ONLINE,k),u.off(d.INSTALLED_DRIVER_UPDATE,M),o.cancel(H),o.cancel($),o.cancel(W),H=null,$=null,a.removeUpdatesListener(G.refreshUI)})}]);t.updatesDriverController=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesDriver=void 0;var o=n(6);n(195),n(194),n(111),n(169),n(468),n(40),n(115);var i=n(672),a=r(i);n(470);var s=o.ngUpdatesModule.directive("nvUpdatesDriver",[function(){return{restrict:"E",scope:{},template:a.default,controller:"UpdatesDriverController",controllerAs:"updatesDriver",link:function(e,t,n,r){function o(){t.empty(),t.remove(),t=null}e.$on("$destroy",o),t.on("$destroy",function(){e.$destroy()})}}}]);t.nvUpdatesDriver=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesDriverHighlightsController=void 0;var r=n(6),o=r.ngUpdatesModule.controller("UpdatesDriverHighlightsController",["$scope","$log",function(e,t){var n=this;n.driverHighlights=null,n.driverOverview=null,n.driverType=e.nvDriverType,n.driverVersion=e.nvDriverVersion;var r=t.getInstance("main.updates/UpdatesDriverHighlightsController"),o=e.$watch("nvDriverHighlight",function(){e.nvDriverHighlight?n.driverHighlights=e.nvDriverHighlight:r.error(" driver highlights is null")});e.$on("$destroy",function(){o()})}]);t.updatesDriverHighlightsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesDriverHighlights=void 0;var o=n(6);n(466);var i=n(673),a=r(i);n(472);var s=o.ngUpdatesModule.directive("nvUpdatesDriverHighlights",function(){return{restrict:"E",scope:{nvDriverHighlight:"=",nvDriverType:"=",nvDriverVersion:"@"},template:a.default,controller:"UpdatesDriverHighlightsController",controllerAs:"updatesDriverHighlights",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesDriverHighlights=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesHighlightsBannerController=void 0;var r=n(6),o=r.ngUpdatesModule.controller("UpdatesHighlightsBannerController",["$scope","DRIVER_TYPE","VIDEO_TYPE",function(e,t,n){function r(e){return e.indexOf("youtu.be")!==-1?n.YOUTUBE:e.indexOf(".mp4")!==-1?n.LOCAL:""}var o=this;o.videoBanner=null;var i=e.nvDriverType;o.isVideoAvailable=function(e){return e.video&&!_.isEmpty(e.video)&&e.video.url&&!_.isEmpty(e.video.url)};var a=e.$watch("nvDriverBanner",function(){o.videoBanner=e.nvDriverBanner,_.each(e.nvDriverBanner,function(e){o.isVideoAvailable(e)&&(e.video.type=r(e.video.url))})});o.getTelemetryEventName=function(){return i===t.CURRENT?e.$root.telemetryEventNames.UPDATES_VIEW_CURRENTDRV_TRAILER:i===t.AVAILABLE_BETA?e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLEDRV_BETA_TRAILER:e.$root.telemetryEventNames.UPDATES_VIEW_AVAILABLEDRV_TRAILER},e.$on("$destroy",function(){a()})}]);t.updatesHighlightsBannerController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesHighlightsBanner=void 0;var o=n(6);n(155);var i=n(674),a=r(i);n(474);var s=o.ngUpdatesModule.directive("nvUpdatesHighlightsBanner",function(){return{restrict:"E",scope:{nvDriverBanner:"=",nvDriverType:"="},template:a.default,controller:"UpdatesHighlightsBannerController",controllerAs:"updatesHighlightsBanner",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesHighlightsBanner=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallationCustomController=void 0;var r=n(6),o=r.ngUpdatesModule.controller("UpdatesInstallationCustomController",["$filter","updatesInstallerDialogService",function(e,t){var n=this;n.cleanInstall=!1;var r=t.getDialogModel(),o=r.installablePackagesData();n.showPackageSelectionUI=o[0],n.packages=o[1];var i=!0,a=e("translate");n.showPackageSelectionUI?n.cleanInstall=o[2]:i=o[2],n.getStatusText=function(e){return e&&e.length?e:a(i?"l10n.notSelected":"l10n.failed")},n.getUserSelectedCustomDetailsCallback=function(){var e=[];return n.showPackageSelectionUI&&(e.push(n.cleanInstall),e.push(n.packages)),e},t.getUserSelectedCustomDetailsRegister(n.getUserSelectedCustomDetailsCallback)}]);t.updatesInstallationCustomController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationCustom=void 0;var o=n(6),i=n(675),a=r(i);n(476);var s=o.ngUpdatesModule.directive("nvUpdatesInstallationCustom",function(){return{restrict:"E",template:a.default,controller:"UpdatesInstallationCustomController",controllerAs:"updatesInstallationCustom"}});t.nvUpdatesInstallationCustom=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateInstallationProgressController=void 0;var r=n(6);n(19);var o=r.ngUpdatesModule.controller("UpdateInstallationProgressController",["$log","updatesService","$sce","updatesInstallerDialogService",function(e,t,n,r){var o=this;o.status="",o.progressValue=0;var i=e.getInstance("main.updates/UpdateInstallationProgressController");o.model=r.getDialogModel(),o.isPreparingInstall=o.model.isExpressInstall(),o.isInstalling=!1,o.progressTitle="",o.installationDriverData=null,t.getInstallationDriverData().then(function(e){o.installationDriverData=e},function(e){i.error("getInstallationDriverData failed: "+e+". Returning static content."),o.showFallbackImage=!0}),o.refreshInstallingCallback=function(e){o.isPreparingInstall=e},o.progressTitleCallback=function(e){o.progressTitle=e},o.progressSetTotalCallback=function(e,t){o.progressValue=e/t*100},o.updateIsInstallingCallback=function(e){o.progressValue=0,o.isInstalling=e},o.getBillboardUrl=function(){var e="";return o.installationDriverData&&(e=n.trustAsResourceUrl(o.installationDriverData.billboardURL)),e},o.canShowUninstallProgress=function(){return!o.isPreparingInstall&&!o.isInstalling},o.canShowInstallProgress=function(){return!o.isPreparingInstall&&o.isInstalling},r.updateRefreshInstallingRegister(o.refreshInstallingCallback),r.updateProgressTitleRegister(o.progressTitleCallback),r.updateProgressSetTotalRegister(o.progressSetTotalCallback),r.updateIsInstallingRegister(o.updateIsInstallingCallback)}]);t.updateInstallationProgressController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationProgress=void 0;var o=n(6),i=n(676),a=r(i);n(478);var s=o.ngUpdatesModule.directive("nvUpdatesInstallationProgress",function(){return{restrict:"E",template:a.default,controller:"UpdateInstallationProgressController",controllerAs:"updateInstallationProgress"}});t.nvUpdatesInstallationProgress=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallationRebootController=void 0;var r=n(6),o=r.ngUpdatesModule.controller("UpdatesInstallationRebootController",["$scope","$interval","updatesInstallerDialogService",function(e,t,n){var r,o=this;o.interval=60,r=t(function(){o.interval<=1?(t.cancel(r),r=void 0,n.cancel(),n.rebootSystem()):o.interval--},1e3),e.$on("$destroy",function(){angular.isDefined(r)&&(t.cancel(r),r=void 0)})}]);t.updatesInstallationRebootController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallationReboot=void 0;var o=n(6),i=n(677),a=r(i);n(480);var s=o.ngUpdatesModule.directive("nvUpdatesInstallationReboot",function(){return{restrict:"E",template:a.default,controller:"UpdatesInstallationRebootController",controllerAs:"updatesInstallationReboot",link:function(e,t){function n(){e.$destroy()}function r(){t&&(t.off("$destroy",n),t.empty(),t.remove(),t=null)}e.$on("$destroy",r),t.on("$destroy",n)}}});t.nvUpdatesInstallationReboot=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallerDialogInstallationComplete=void 0;var o=n(6),i=n(678),a=r(i),s=o.ngUpdatesModule.directive("nvUpdatesInstallerDialogInstallationComplete",[function(){return{restrict:"E",template:a.default,link:function(e,t){function n(){e.$destroy()}function r(){t&&(t.off("$destroy",n),t.empty(),t.remove(),t=null)}e.$on("$destroy",r),t.on("$destroy",n)}}}]);t.nvUpdatesInstallerDialogInstallationComplete=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ngUpdatesModule=void 0;var o=n(6),i=n(679),a=r(i);o.ngUpdatesModule.directive("nvUpdatesInstallerDialogInstallationError",[function(){return{restrict:"E",template:a.default}}]),t.ngUpdatesModule=o.ngUpdatesModule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallerDialogController=void 0;var r=n(6),o=r.ngUpdatesModule.controller("UpdatesInstallerDialogController",["updatesInstallerDialogService","cefService","$scope",function(e,t,n){var r=this;r.model=e.getDialogModel(),t.enableCloseButton(!1),r.showTitleContainer=function(){return!(!r.model.title()&&!r.model.subtitle())},r.showActionContainer=function(){return!(!r.model.button2()&&!r.model.button1())},r.refreshDialogData=function(){r.model=e.getDialogModel()},e.refreshDialogDataRegister(r.refreshDialogData),n.$on("$destroy",function(){t.enableCloseButton(!0)})}]);t.updatesInstallerDialogController=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.updatesInstallerDialogService=void 0;var o=n(4),i=r(o),a=n(6);n(12),n(482),n(483),n(477),n(481),n(479),n(486);var s=a.ngUpdatesModule.service("updatesInstallerDialogService",["$mdDialog","$rootElement","INSTALLER_PAGE","eventAggregator","INSTALLER_EVENTS","$log","INSTALLER_ACTION","INSTALLER_FORM_EVENT","RESPONSE_TO_INSTALLER","dbService","DB_NAMES","DRIVER_INSTALLATION_FAILED_CONSTRAINT","$filter",function(e,t,n,r,o,a,s,l,c,u,d,f,m){function g(e){return y.preset().html('<nv-updates-installation-progress class="updates-updates-intstallation-progress"></nv-updates-installation-progress>').details(S.name).isExpressInstall(e)}function p(e){var t;switch(e){case s.ACTION_CANCEL:case s.ACTION_RESTART_LATER:case s.ACTION_CLOSE:t=c.ACTION_CANCEL;break;case s.ACTION_TRYAGAIN:case s.ACTION_INSTALL:case s.ACTION_RESTART_NOW:case s.ACTION_NEXT:t=c.ACTION_NEXT;break;default:t=c.ACTION_CANCEL}return t}function v(e){var t="";if(e&&e.constraintFailText&&e.constraintFailText[0]&&(t=e.constraintFailText[0],e.failedConstraintId&&e.failedConstraintId[0])){var n=i.findWhere(f,{failedConstraintId:e.failedConstraintId[0]});if(null!=n)if("SetupNeedsDiskSpaceCheck"===e.failedConstraintId[0]){t=e.constraintFailText[0];var r=e.constraintFailText[0].match(/\d+/g);r=r?r.join("."):"";var o=t.substring(t.lastIndexOf("(")-1,t.lastIndexOf(")")+1),a=m("translate");t=a(n.constrainTextId,{value:r,drive:o})}else t=n.constrainTextId}return t}function h(e,t,n,i){return y.preset().title(S.name).html('<nv-updates-installer-dialog-installation-error class="updates-installer-dialog-installation-error"></nv-updates-installer-dialog-installation-error>').details(t).bullets(Array.isArray(i)?i:[]).showBullets(Array.isArray(i)&&i.length>0).button1({text:e,action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,s.ACTION_CANCEL),r.trigger(o.INSTALL_CANCEL)}}).icon("warning").subtitle("l10n.installationCanNotContinue").showLink(n)}var y=this,b={};y.packages=[];var S,E=!1,_=!1,A=a.getInstance("main.updates/updatesInstallerDialogService"),w=function(){function e(e){t[e]=function(r){return null!=r?(n[e]=r,t):n[e]}}var t=this,n={};e("showLink"),e("html"),e("title"),e("icon"),e("subtitle"),e("details"),e("button1"),e("button2"),e("installablePackagesData"),e("isExpressInstall"),e("showBullets"),e("bullets")};y.show=function(n){e.show({template:'<md-dialog><nv-updates-installer-dialog class="updates-updates-installer-dialog"layout="column"></nv-updates-installer-dialog></md-dialog>',parent:t.find("nv-window"),escapeToClose:!1}),y.setDialogModel(n),r.trigger(o.INSTALL_STARTED)},y.cancel=function(t){e.cancel(),E=!1,_=!1},y.setDialogModel=function(e){b=e,y.refreshDialogData()},y.getDialogModel=function(){return b},y.preset=function(){return new w},y.rebootSystem=function(){var e={isCustomInstall:E,version:S.version,name:S.name};u.getGlobalStore(d.GLOBAL_STORE).setItem(d.DRIVER_INSTALL_STATE,e).then(function(){A.debug("persist driver installation entry in database",e),y.sendResponseToInstaller(y.installerStatus,s.ACTION_RESTART_NOW)})},y.showInstallationForm=function(e,t,n){E=t,_=n,S=e,y.show(g(!0))};var I=null;y.sendResponseToInstaller=function(e,t){var n={};n=i.extend(n,e),n.nextAction=p(t),A.debug("send response to installer",n),"function"==typeof I&&I(n)},y.showInstallerForm=function(e){if(y.installerStatus=e,e.method===l.SHOW_FORM){var t;switch(e.form){case n.NVIFORM_PRE_INSTALL_CHECK:y.sendResponseToInstaller(e,s.ACTION_NEXT);break;case n.NVIFORM_INSTALL_INITIAL:case n.NVIFORM_INSTALL_CHECKING:case n.NVIFORM_EULA:case n.NVIFORM_INSTALL_CHECK_WARNINGS:case n.NVIFORM_PRE_REBOOT_INSTALL:var r=y.getDialogModel();r&&r.html&&r.html().indexOf("nv-updates-installation-progress")!=-1||(A.debug("show progress dialog"),y.setDialogModel(g(!0))),y.updateRefreshInstalling(!0),y.sendResponseToInstaller(e,s.ACTION_INSTALL);break;case n.NVIFORM_INSTALL_REMOVE_PROGRESS:y.updateRefreshInstalling(!1);break;case n.NVIFORM_INSTALL_PROGRESS:y.setProgressTitle(""),y.updateRefreshInstalling(!1),y.updateIsInstalling(!0);break;case n.NVIFORM_INSTALL_FINISHED_NO_SUMMARY:y.showInstallationComplete();break;case n.NVIFORM_INSTALL_FINISHED:y.showInstallationCompleteWithSummary(e.packages);break;case n.NVIFORM_INSTALL_CHECK_WAIT:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),y.showInstallationCanNotStartWithCancelBtn(v(e),t),y.sendResponseToInstaller(e,s.ACTION_NEXT);
break;case n.NVIPROP_CUSTOM_INSTALL:y.showCustomInstallSelect(e.packages,e.cleanInstall);break;case n.NVIFORM_INSTALL_REMOVE_REBOOT:y.showInstallationContinueRebootRequired();break;case n.NVIFORM_INSTALL_FAILED:y.showInstallationFail(e.packages);break;case n.NVIFORM_INSTALL_REBOOT:y.showInstallationRebootWithSummary(e.packages);break;case n.NVIFORM_INSTALL_CHECK_FAILED:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),y.showInstallationCanNotStartWithCloseBtn(v(e),t);break;case n.NVIFORM_PRE_INSTALL_CHECK_RETRY:t=!(!e.failedConstraintId||"AllowInstallCheck"!==e.failedConstraintId[0]),y.showInstallationCanNotContinueWithTryAgainBtn(v(e),!1,t);break;case n.NVIFORM_INSTALL_START_FAILED:y.showInstallationCanNotContinueWithTryAgainBtn(e.constraintFailText[0],!0,!1,e.bullets);break;default:A.debug("un-handled installer forms",e)}}else y.setProgressTitle(e.progressTitle),y.updateInstallProgress(e.currentProgress,e.totalProgress);return!0};var C=null,x=null,T=null,O=null,M=null,D=null,N=null;y.updateRefreshInstallingRegister=function(e){C=e},y.updateProgressTitleRegister=function(e){x=e},y.updateProgressSetTotalRegister=function(e){T=e},y.updateIsInstallingRegister=function(e){O=e},y.refreshDialogDataRegister=function(e){M=e},y.setSendResponseToInstallerRegister=function(e){I=e},y.setInvokeInstallationCallbackRegister=function(e){D=e},y.getUserSelectedCustomDetailsRegister=function(e){N=e},y.updateRefreshInstalling=function(e){"function"==typeof C&&C(e)},y.setProgressTitle=function(e){"function"==typeof x&&x(e)},y.updateInstallProgress=function(e,t){"function"==typeof T&&T(e,t)},y.updateIsInstalling=function(e){"function"==typeof O&&O(e)},y.refreshDialogData=function(){"function"==typeof M&&M()},y.updateUserSelectedCustomDetails=function(){if("function"==typeof N){var e=N();i.isNull(e)||2!==e.length||(y.installerStatus.packages=e[1],y.installerStatus.cleanInstall=e[0])}},y.showInstallationComplete=function(){y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installer-dialog-installation-complete class="updates-installer-dialog-installation-complete"></nv-updates-installer-dialog-installation-complete>').details("l10n.installationComplete").button1({text:"l10n.close",action:function(){y.cancel(),r.trigger(o.INSTALL_DONE),y.sendResponseToInstaller(y.installerStatus,s.ACTION_CLOSE)}}))},y.showInstallationCanNotContinueWithTryAgainBtn=function(e,t,n,r){y.setDialogModel(h("l10n.close",e,n,r).button2({text:"l10n.tryAgain",action:function(){y.setDialogModel(g(!0)),t?"function"==typeof D?D(S,E,_):A.error("setInvokeInstallationCallback is not a function"):y.sendResponseToInstaller(y.installerStatus,s.ACTION_TRYAGAIN)}}))},y.showCustomInstallSelect=function(e,t){var n=[];n.push(!0),n.push(e),n.push(t),y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationOption").button1({text:"l10n.install",action:function(){y.setDialogModel(g(!1)),y.updateUserSelectedCustomDetails(),y.sendResponseToInstaller(y.installerStatus,s.ACTION_INSTALL)}}).button2({text:"l10n.cancel",action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,s.ACTION_CANCEL),r.trigger(o.INSTALL_CANCEL)}}).installablePackagesData(n))},y.showInstallationCompleteWithSummary=function(e){var t=[];t.push(!1),t.push(e),t.push(!0),y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationHasFinished").button1({text:"l10n.close",action:function(){y.cancel(),r.trigger(o.INSTALL_DONE),y.sendResponseToInstaller(y.installerStatus,s.ACTION_CLOSE)}}).installablePackagesData(t).icon("check"))},y.showInstallationFail=function(e){var t=[];t.push(!1),t.push(e),t.push(!1),y.setDialogModel(y.preset().title(S.name).icon("error").html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationFail").button1({text:"l10n.close",action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,s.ACTION_CLOSE),r.trigger(o.INSTALL_CANCEL)}}).installablePackagesData(t))},y.showInstallationRebootWithSummary=function(e){var t=[];t.push(!1),t.push(e),t.push(!0),y.setDialogModel(y.preset().title(S.name).icon("warning").html('<nv-updates-installation-custom class="updates-installation-custom-container"> </nv-updates-installation-custom>').subtitle("l10n.installationCompleteRestart").button1({text:"l10n.restartNow",action:function(){y.cancel(),y.sendResponseToInstaller(y.installerStatus,s.ACTION_RESTART_NOW)}}).button2({text:"l10n.restartLater",action:function(){y.sendResponseToInstaller(y.installerStatus,s.ACTION_CANCEL),y.cancel(),r.trigger(o.INSTALL_CANCEL)}}).installablePackagesData(t))},y.showInstallationContinueRebootRequired=function(){y.setDialogModel(y.preset().title(S.name).html('<nv-updates-installation-reboot class="updates-updates-installation-reboot"></nv-updates-installation-reboot>').button1({text:"l10n.restartNow",action:function(){y.cancel(),y.rebootSystem()}}))},y.showInstallationCanNotStartWithCloseBtn=function(e,t){y.setDialogModel(h("l10n.close",e,t))},y.showInstallationCanNotStartWithCancelBtn=function(e,t){y.setDialogModel(h("l10n.cancel",e,t))}}]);t.updatesInstallerDialogService=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesInstallerDialog=void 0;var o=n(6);n(157);var i=n(680),a=r(i);n(484);var s=o.ngUpdatesModule.directive("nvUpdatesInstallerDialog",function(){return{restrict:"E",scope:{subview:"@"},template:a.default,controller:"UpdatesInstallerDialogController",controllerAs:"updatesInstallerDialog",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesInstallerDialog=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatesNotificationsController=void 0;var r=n(6);n(64);var o=r.ngUpdatesModule.controller("UpdatesNotificationsController",["$log","$state","updatesService","TASK_STATUS","CHECK_FOR_UPDATE",function(e,t,n,r,o){function i(){n.getInstalledDriver().then(function(e){s.installedDriver=e},function(e){l.error("getInstalledDriver failed: "+e)})}function a(){s.updatesList=null,s.driverUpdatesCount=0,n.getUpdateDetails().then(function(e){s.updatesList=e,s.driverUpdatesCount=s.updatesList?s.updatesList.length:0},function(e){l.error("getUpdates failed: "+e)})}var s=this;s.updatesList=[],s.installedDriver=null,s.driverUpdatesCount=0,s.taskStatus=r,s.checkForUpdate=o;var l=e.getInstance("main.updates/UpdatesNotificationsController");s.launchUpdateTab=function(e){t.go("main.auth.updates",{updateState:e})},s.isDownloadStarted=function(e){return e===r.TASK_PAUSED||e===r.TASK_RUNNING},s.progressBarValue=function(e){return e.downloadStatus?e.downloadStatus.bytesDone/e.downloadStatus.totalBytes*100:0},s.refreshUI=function(){i(),a()},i(),n.checkForUpdates(),n.setUpdatesListener(s.refreshUI)}]);t.updatesNotificationsController=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.nvUpdatesNotification=void 0;var o=n(6);n(154),n(195),n(194);var i=n(682),a=r(i);n(487);var s=o.ngUpdatesModule.directive("nvUpdatesNotification",function(){return{restrict:"E",scope:{},template:a.default,controller:"UpdatesNotificationsController",controllerAs:"updatesNotifications",link:function(e,t){function n(){t.empty(),t.remove(),t=null}e.$on("$destroy",n),t.on("$destroy",function(){e.$destroy()})}}});t.nvUpdatesNotification=s},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,'input[type=range]{width:300px}ul[rn-carousel]{overflow:hidden;padding:0;white-space:nowrap;position:relative;-webkit-perspective:1000px;-ms-perspective:1000px;perspective:1000px;-ms-touch-action:pan-y;touch-action:pan-y}ul[rn-carousel]>li{color:#000;-webkit-backface-visibility:hidden;-ms-backface-visibility:hidden;backface-visibility:hidden;overflow:visible;vertical-align:top;position:absolute;left:0;right:0;white-space:normal;padding:0;margin:0;list-style-type:none;width:100%;height:100%;display:inline-block}ul[rn-carousel-buffered]>li{display:none}ul[rn-carousel-transition=hexagon]{overflow:visible}div.rn-carousel-indicator span{cursor:pointer;color:#666}div.rn-carousel-indicator span.active{color:#fff}.rn-carousel-control{-webkit-transition:opacity .2s ease-out;transition:opacity .2s ease-out;font-size:2rem;position:absolute;top:40%;opacity:.75;cursor:pointer}.rn-carousel-control:hover{opacity:1}.rn-carousel-control.rn-carousel-control-prev{left:.5em}.rn-carousel-control.rn-carousel-control-prev:before{content:"<"}.rn-carousel-control.rn-carousel-control-next{right:.5em}.rn-carousel-control.rn-carousel-control-next:before{content:">"}',""])},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,".ui-splitbar-icon-down,.ui-splitbar-icon-up{border-left:.45em solid transparent;border-right:.45em solid transparent}.stretch{position:absolute;top:0;left:0;right:0;bottom:0;overflow:auto}.animate-row{-webkit-transition:top .8s cubic-bezier(0,1.05,0,1);-moz-transition:top .8s cubic-bezier(0,1.05,0,1);-ms-transition:top .8s cubic-bezier(0,1.05,0,1);-o-transition:top .8s cubic-bezier(0,1.05,0,1);transition:top .8s cubic-bezier(0,1.05,0,1)}.animate-column{-webkit-transition:left .8s cubic-bezier(0,1.05,0,1);-moz-transition:left .8s cubic-bezier(0,1.05,0,1);-ms-transition:left .8s cubic-bezier(0,1.05,0,1);-o-transition:left .8s cubic-bezier(0,1.05,0,1);transition:left .8s cubic-bezier(0,1.05,0,1)}.ui-splitbar{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;background-color:#fff;right:auto;position:absolute;z-index:1}.ui-layout-row>.ui-splitbar{height:8px;width:100%;cursor:row-resize;text-align:center;justify-content:center;align-items:center;background:linear-gradient(to bottom,#fff 0,#eee 100%);overflow-y:hidden}.ui-layout-column>.ui-splitbar{width:8px;height:100%;cursor:col-resize;-webkit-flex-direction:column;flex-direction:column;background:linear-gradient(to right,#fff 0,#eee 100%);overflow-x:hidden}.ui-layout-column>.ui-splitbar>a,.ui-layout-row>.ui-splitbar>a{cursor:pointer;text-align:center;font-size:16px;color:#aaa}.ui-layout-column>.ui-splitbar>a:nth-child(2){margin-top:.35rem}.ui-layout-row>.ui-splitbar>a:nth-child(2){margin-left:.35rem}.ui-splitbar-icon{width:0;height:0;display:inline-block}.no-toggle .ui-splitbar-icon,.ui-layout-hidden{display:none}.ui-splitbar-icon-up{border-bottom:.45em solid}.ui-splitbar-icon-down{border-top:.45em solid;margin-right:.45em}.ui-splitbar-icon-left,.ui-splitbar-icon-right{border-top:.45em solid transparent;border-bottom:.45em solid transparent}.ui-splitbar-icon-right{border-left:.45em solid}.ui-splitbar-icon-left{border-right:.45em solid;margin-top:.45em}@media only screen and (max-device-width:480px){.no-mobile-toggle .ui-splitbar-icon{display:none}}@media print{.ui-splitbar{display:none}.stretch{position:relative}.stretch.ui-layout-container:last-child{position:static;overflow:visible}}",""])},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,"canvas{z-index:2}canvas.hidden{z-index:-1;visibility:hidden}.annotorious-annotationlayer{position:relative}.annotorious-opacity-fade{-moz-transition-property:opacity;-moz-transition-duration:.5s;-moz-transition-delay:0s;-webkit-transition-property:opacity;-webkit-transition-duration:.5s;-webkit-transition-delay:0s;-o-transition-property:opacity;-o-transition-duration:.5s;-o-transition-delay:0s;transition-property:opacity;transition-duration:.5s;transition-delay:0s}.annotorious-canvas{position:absolute;top:0;left:0}.annotorious-popup{line-height:135%;font-family:Arial,Verdana,Sans;font-size:12px;color:#000;background-color:#fff;border:1px solid #ccc;padding:9px 8px;word-wrap:break-word;width:180px;border-radius:3px;box-sizing:border-box;-moz-border-radius:3px;-webkit-border-radius:3px;-khtml-border-radius:3px;-moz-box-shadow:0 5px 15px #111;-webkit-box-shadow:0 5px 15px #111;box-shadow:0 5px 15px #111;-moz-transition-property:opacity;-moz-transition-duration:.5s;-moz-transition-delay:0s;-webkit-transition-property:opacity;-webkit-transition-duration:.5s;-webkit-transition-delay:0s;-o-transition-property:opacity;-o-transition-duration:.5s;-o-transition-delay:0s;transition-property:opacity;transition-duration:.5s;transition-delay:0s;position:absolute;z-index:1}.annotorious-popup-hide{opacity:0}.annotorious-popup-show{opacity:1}",""])},,,,function(e,t,n){t=e.exports=n(8)(),t.push([e.id,".notifications-md-menu-content{max-width:450px!important;max-height:500px!important}.notification-direction{position:absolute;top:-11px;width:450px}.notifications-md-list md-divider{border-top-width:2px}.notifications-empty-state{width:450px;height:500px}.notifications-md-menu-content .notifications-md-list md-list-item{padding:0!important}.notifications-md-menu-content .big-notification-image-container{width:450px;height:253px}.notifications-md-menu-content .small-notification-image-container{width:178px;height:100px}.big-notification-detail,.small-notification-detail{height:100px}.small-notification-detail{width:450px}",""])},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,"div.nv-custom-date-ctrl{padding-top:24px;padding-bottom:24px}div.nv-custom-date-ctrl h1{margin:0;padding-left:2px;font-size:12px;color:rgba(255,255,255,.45)!important}div.nv-custom-date-ctrl nv-date-field{padding-right:20px}div.nv-custom-date-ctrl nv-date-field input{border-bottom-color:#363636}div.nv-custom-date-ctrl input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;margin:0}div.nv-custom-date-ctrl nv-date-field md-select{width:auto;min-width:100px}div.nv-custom-date-ctrl .is-year-field{width:50px}div.nv-custom-date-ctrl .is-day-field{width:40px}div.nv-custom-date-ctrl nv-date-field label{text-transform:capitalize;color:rgba(255,255,255,.3)!important}div.nv-custom-date-ctrl nv-date-field md-select-value{text-transform:capitalize}div.nv-custom-date-ctrl nv-date-field .md-select-value{color:rgba(255,255,255,.45)}div.nv-custom-date-ctrl nv-date-field md-select.ng-valid .md-select-value,div.nv-custom-date-ctrl nv-date-field md-select.ng-valid.ng-pristine .md-select-value{color:#fff}div.nv-custom-date-ctrl nv-date-field md-select:not([disabled]):focus .md-select-value{border-bottom-color:#76B900!important}div.nv-custom-date-ctrl nv-date-field md-input-container.md-input-invalid .md-input:focus{border-bottom-color:#76B900}div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid.ng-touched .md-select-value{border-color:#B5291C!important}div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid .md-select-value,div.nv-custom-date-ctrl nv-date-field md-select.ng-invalid.ng-pristine .md-select-value{color:rgba(255,255,255,.3)!important}div.nv-custom-date-ctrl .error-message{color:#B5291C}md-option{color:#CCC!important}div.nv-custom-date-ctrl nv-date-field md-input-container{padding:0}",""])},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,".oobe-dialog .title h1,.oobe-side-text,.oobe-welcome-dialog{-webkit-font-smoothing:antialiased}.oobe-dialog{width:789px;height:497px;-webkit-backface-visibility:hidden;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.oobe-dialog .title{padding-top:24px;position:relative}.oobe-dialog .title h1{margin:0 24px;font-family:Roboto-Light;font-size:18px;font-weight:300;color:#fff;color:rgba(255,255,255,.9)}.oobe-dialog .subtitle{margin:8px 0 0 24px;font-size:10px;font-weight:400}.oobe-dialog form{position:relative}.oobe-dialog waiting-overlay{position:absolute;min-width:100%;min-height:100%;background-color:rgba(14,14,14,.7);z-index:5}.oobe-oauth-blocker-overlay{position:fixed;width:100%;height:100%;top:0;left:0;z-index:1000}.oobe-link-icon{position:relative}.oobe-link-icon .md-button{height:auto}.oobe-link-icon .md-button>img{position:absolute;right:12px;width:20px;height:auto;top:42px}.oobe-link-icon md-card{background-color:transparent;box-shadow:none;margin:5px auto auto;width:54px}.oobe-link-icon md-card:hover{box-shadow:none}.oobe-link-icon p{text-align:center;font-size:10px;margin:0}.oobe-dialog-scan .text-bottom-margin{margin-bottom:0}.oobe-dialog-scan .scan-top-margin{margin-top:8px}.oobe-loading-data{padding-top:60px}.oobe-loading-data>md-progress-circular{margin-top:38px}.oobe-login-pointer{cursor:pointer}.oobe-dialog-logo-margin{margin-top:150px;margin-left:190px;margin-bottom:40px;padding-left:0}.oobe-welcome-dialog{font-family:Roboto-Light!important}.oobe-welcome-dialog-header{height:64px}.oobe-welcome-dialog-header p{color:rgba(255,255,255,.45);margin:3px 24px 0}.oobe-welcome-dialog .md-actions{margin-bottom:2px}.oobe-welcome-card-holder{width:263px;height:329px;position:relative}.oobe-welcome-card-holder img{height:100%;width:100%}.oobe-welcome-card-holder .oobe-welcome-overlay{position:absolute;height:80px;background-image:url("+n(514)+");width:100%;bottom:0}.oobe-welcome-overlay .overlay-grouper{width:60%;margin-left:20%;height:100%;line-height:80px;text-align:center}.oobe-welcome-overlay .overlay-text{font-size:12px;color:rgba(255,255,255,.9);display:inline-block;vertical-align:middle;line-height:normal}.oobe-login-left-side{width:320px;height:497px;background-image:url("+n(511)+");bottom:0}.oobe-side-text{width:100%;height:165px;color:rgba(255,255,255,.75);font-size:16px;font-family:Roboto!important}.oobe-side-text p{padding-left:140px;padding-right:50px}.oobe-dialog-left-pane{width:320px;height:497px;overflow:hidden}.oobe-dialog-left-pane img{width:100%;height:100%}.oobe-dialog-right-pane .title h1{margin-top:12px}.oobe-dialog-right-pane .title .title-logo{position:absolute;top:23px;left:24px;width:auto;height:54px;font-size:54px}.oobe-dialog-right-pane .title .title-logo+h1{padding-left:64px}.oobe-dialog-right-pane .title button{width:auto;padding:0;margin:0}.oobe-dialog-right-pane .title .title-close{margin:12px 24px 0 0}.oobe-dialog-right-pane .title .button-close{width:auto;height:24px;font-size:24px}.oobe-dialog-right-pane .secondary-title{font-size:12px;margin:44px 0 16px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .secondary-title+.secondary-title{font-size:12px;margin:0 0 16px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .title.large{min-height:96px}.oobe-dialog-right-pane .content{margin:24px 0 0;padding:0 24px}.oobe-dialog-right-pane .message-banner{margin-top:24px;height:50px;line-height:50px;background-color:#303030;padding-left:24px;padding-right:24px;box-shadow:inset 0 8px 8px -10px #000,inset 0 -8px 8px -10px #000}.oobe-dialog-right-pane .message-banner span{display:inline-block;vertical-align:middle;line-height:normal;font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .md-actions{position:relative;padding:20px 8px 8px}.oobe-dialog-right-pane .md-actions button{margin:0}.oobe-dialog-right-pane .md-actions .button-helper{position:absolute;top:0;left:24px;font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45)}.oobe-dialog-right-pane .input-helper{font-size:11px;color:#a9a9a9;color:rgba(255,255,255,.45);padding-left:2px;padding-top:4px}.oobe-dialog-right-pane .login-button{padding:4px 4px 2px;margin-bottom:4px;position:relative}.oobe-dialog-right-pane .login-button img{width:278px;height:62px}.oobe-dialog-right-pane .login-button[disabled]{cursor:default;-webkit-filter:grayscale() opacity(30%)}.oobe-dialog-right-pane .login-text{left:60px;horiz-align:center;position:absolute;font-size:18px;top:24px;width:210px}.oobe-dialog-right-pane .login-button:not([disabled]):hover{background-color:rgba(55,90,162,.5)}.oobe-dialog-right-pane .login-button:not([disabled]):focus{background-color:rgba(55,90,162,.5);outline:0}.oobe-dialog-progress-bar{height:8px;position:absolute;width:100%;z-index:101;color:#363636!important;background:#363636!important}.oobe-dialog-progress-bar .md-accent.foreground{color:#76b900!important}.oobe-dialog-progress-bar .md-accent.background{background-color:#76b900!important}.oobe-dialog-done-pane-content{margin-top:152px}.oobe-dialog-done-first-text-margin{margin-top:24px;margin-bottom:16px}.oobe-dialog-done-second-text-margin{margin-top:0;margin-bottom:5px}.oobe-dialog-done-third-text-margin{margin-top:0;margin-bottom:0}.oobe-dialog-done-nogames-icon{opacity:.45}.oobe-dialog-done-scan-text-margin{margin-top:10px;margin-bottom:16px}.oobe-dialog-right-pane md-input-container.md-icon-right .md-errors-spacer+md-icon{margin-top:18px!important;color:#a9a9a9;color:rgba(255,255,255,.75)}.oobe-dialog-right-pane md-input-container+md-input-container.md-icon-right .md-errors-spacer+md-icon{margin-top:36px!important;color:#a9a9a9;color:rgba(255,255,255,.75)}.oobe-dialog-right-pane md-input-container.md-input-invalid label{color:gray;color:rgba(255,255,255,.3)}.oobe-dialog-right-pane md-input-container+md-input-container{padding-top:18px}.oobe-dialog-right-pane nv-custom-date{padding-bottom:14px}.forgot-password{position:absolute;left:10px;padding-left:8px!important;padding-right:8px!important;margin-top:0!important}.oobe-dialog a.in-app-link{color:#FFF;text-decoration:none}.oobe-panel{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.shadow-top{box-shadow:0 -10px 30px -5px rgba(0,0,0,.75)}.oobe-share-text-list{margin-top:0!important;padding-left:0!important}",""])},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,".preferences-shield-edit-dialog .image-container,.preferences-shield-edit-dialog .image-container md-icon,md-switch .md-container{cursor:pointer}.preferences-sidebar-container-medium{width:236px}.preferences-sidebar-container-small{width:186px}.preferences-sidebar-container .md-button-selected{background-color:#191919}.preferences-sidebar-container button{min-height:48px}.preferences-sidebar-container md-list-item .md-list-item-inner{padding-left:20px}.preferences-items-container{padding:24px 12px 0}.preferences-preference-section{padding:16px;margin:0 12px 24px}.preferences-share-overlay{width:calc(100% - 24px);left:12px;height:calc(100% - 24px)}.preferences-preference-section .margin-zero,.preferences-preference-section h3,.preferences-preference-section p{margin:0}.preferences-preference-section h3.feature-title{margin:0 0 0 32px;font-weight:400}.preferences-preference-section h4{margin:0;font-weight:400;text-transform:uppercase}.preferences-preference-section h5{margin-top:11px;margin-bottom:0;font-weight:400}.preferences-preference-section .md-list-item-text p{margin:4px 0 0 32px;font-weight:400}.preferences-preference-section .scan-location-content .md-list-item-text p{margin:0}.preferences-preference-section .md-3-line p{margin-top:8px;margin-bottom:8px;margin-left:8px;font-weight:400}.preferences-preference-section .md-3-line md-icon,.preferences-preference-section .md-3-line svg{margin:8px 0 8px 48px;line-height:16px;height:16px;width:16px}.preferences-preference-section .preferences-feature-header-section{margin:16px 0 16px 32px}.preferences-preference-section .preferences-feature-description-section{padding:0 0 24px;margin:0}.preferences-preference-section .requirement-link-container{padding:24px 0 0;margin:0}.preferences-preference-section .top-margin-checkboxes{margin-bottom:16px}.preferences-preference-section .margin-mid-checkbox{margin-bottom:16px;margin-top:0}.preferences-preference-section md-switch{float:right;margin-top:-8px;margin-right:-8px;padding:0}.preferences-preference-section md-switch .md-thumb{height:16px;width:16px}.preferences-preference-section md-switch .md-bar{height:12px;width:27px;left:2px;top:4px}.preferences-preference-section md-checkbox{line-height:normal;margin:0;padding:4pt 0}.preferences-preference-section md-icon.feature-notready-overlay{margin-top:16px;margin-left:16px}.preferences-preference-section .feature-readiness-content{margin-left:-16px;margin-right:-16px}.preferences-preference-section .preferences-section-content .feature-readiness-content a{margin-left:32px}.preferences-preference-section .language-section p{line-height:36px}.preferences-preference-section .language-section md-input-container{margin-bottom:8px}.preferences-preference-section .language-section .md-select-value{flex-grow:0}.preferences-preference-section .language-section .language-section-button{display:inline-block;text-align:right}.preferences-preference-section .about-section img{width:72px;height:72px}.preferences-preference-section .about-section p{margin-left:16px}.preferences-preference-section .about-section .links-top-margin,.preferences-preference-section .about-section .margin-between-links{margin-top:16px}.preferences-preference-section .about-section md-checkbox{margin-bottom:16px}.preferences-preference-section .about-section md-divider{border-top-color:#111}.preferences-preference-section .about-section md-divider.color-black-hue-2{border-top-color:#3a3a3a}.preferences-preference-section .about-section .title-content-top-margin{margin-top:2px}.preferences-preference-section .preferences-section-header,.preferences-preference-section .preferences-section-header-button,.preferences-preference-section .preferences-section-header-description,.preferences-preference-section .preferences-section-header-description-switch,.preferences-preference-section .preferences-section-header-switch{margin:0 0 12px}.preferences-preference-section .preferences-section-content{padding:12px 0 0}.preferences-preference-section .preferences-section-header-description p,.preferences-preference-section .preferences-section-header-description-switch p{margin-top:8px;line-height:10px}.preferences-preference-section .preferences-section-header-description md-switch,.preferences-preference-section .preferences-section-header-description-switch md-switch,.preferences-preference-section .preferences-section-header-switch md-switch{margin-bottom:0}.preferences-accounts-edit-avatar .avatar-image{min-height:110px}.preferences-accounts-edit-avatar .avatar-list-item{float:left}.preferences-system-info{padding-bottom:4px}.preferences-preference-section .preferences-system-info .margin-between-links{margin-bottom:12px}.preferences-preference-section .preferences-system-info .span-align-vertical{display:inline-block;vertical-align:middle;margin-left:5px}.preferences-preference-section .preferences-system-info .subitem-margin{margin-top:5px;margin-left:26px}.preferences-preference-section .feature-readiness-container .state-info-content-height,.preferences-preference-section .preferences-system-info .state-info-content-height{height:300px}.preferences-preference-section .language-section md-icon,.preferences-preference-section .preferences-system-info md-icon{height:18px;width:18px;line-height:18px;font-size:18px}.preferences-preference-section .preferences-section-content .games-scan-container{height:112px;margin-top:24px;margin-bottom:32px}.preferences-preference-section .preferences-section-content .games-scan-container h4:first-child{padding-top:10px}.preferences-preference-section .preferences-section-content .games-scan-container h4:nth-child(2){padding:16px 0}.preferences-preference-section .preferences-section-content .games-scan-divider{display:inline-block;width:1px;height:100%}.preferences-preference-section .preferences-section-content .scan-location-section{max-height:98px;height:98px}.preferences-preference-section .scan-location-content md-list{padding:0;height:98px}.preferences-preference-section .scan-location-content md-list-item{min-height:11px}.preferences-preference-section .scan-location-content .scan-location-md-list-item-button .md-button{height:24px;min-height:11px;line-height:24px}.preferences-preference-section .scan-location-content md-list-item .md-list-item-inner{margin-right:0;min-height:24px;height:24px;padding:0}.preferences-preference-section .scan-location-content md-list-item p{padding-left:8px;padding-right:8px}.preferences-preference-section .preferences-section-content .accounts-section-button,.preferences-preference-section .preferences-section-content .language-section-button,.preferences-preference-section .preferences-section-content .scan-location-content-margin,.preferences-preference-section .preferences-section-content .shield-section-button{margin-left:-16px;margin-right:-16px;margin-top:16px;height:36px}.preferences-preference-section .share-section-button{height:36px;margin-bottom:-28px;margin-left:-16px;margin-right:-16px}.preferences-preference-section .preferences-section-content .accounts-section-button md-button,.preferences-preference-section .preferences-section-content .language-section-button .md-button,.preferences-preference-section .preferences-section-content .scan-location-content-margin .md-button,.preferences-preference-section .preferences-section-content .shield-section-button .md-button,.preferences-preference-section .share-section-button .md-button{margin:8px}.preferences-preference-section .scan-location-section button.md-no-style{background:0 0}.preferences-preference-section .scan-location-content .scan-location-md-list-item-button .md-button:hover{background-color:rgba(91,91,91,.5);box-shadow:0 4px 5px -2px rgba(0,0,0,.75)}.preferences-preference-section .preferences-md-icon .md-container{height:16px;width:16px}.preferences-preference-section .preferences-md-icon md-checkbox div{line-height:1.64}.preferences-preference-section .preferences-md-icon md-checkbox{min-height:16px;line-height:1.64;padding:0}.preferences-preference-section .preferences-md-icon md-checkbox.md-checked .md-icon:after{left:4.67px;top:.22px}.preferences-preference-section .preferences-md-icon .md-icon,.preferences-preference-section .preferences-md-icon md-icon,.preferences-preference-section .preferences-section-header-button md-icon{height:16px;width:16px;line-height:16px;font-size:16px}.preferences-preference-section .preferences-section-header-button .md-icon-button{min-height:16px;height:16px;width:16px;line-height:0;font-size:16px;margin-top:-4px;margin-right:-2px}.preferences-preference-section .preferences-md-icon .md-label{margin-left:22px}.preferences-preference-section .preferences-md-icon .external-link-icon{font-size:10px}.preferences-accounts-section .accounts-section-personal-info .md-errors-spacer{min-height:0}.preferences-accounts-section .accounts-section-avatar img{width:80px;height:80px;margin:0 24px 24px}.preferences-accounts-section .accounts-section-avatar img+p{padding-bottom:16px}.preferences-accounts-section .accounts-section-personalInfo p{margin-bottom:8px}.preferences-accounts-section .accounts-section-personalInfo .header{min-height:36px}.preferences-accounts-section .accounts-section-personalInfo input:disabled{background-image:none}.preferences-accounts-section .accounts-section-personalInfo .details-spacing,.preferences-accounts-section .accounts-section-personalInfo md-input-container{margin-bottom:16px}.preferences-accounts-section .accounts-section-personalInfo md-input-container .md-input{margin-bottom:0;margin-top:0;padding:0 0 8px;max-height:22px;line-height:12px}.preferences-accounts-section .accounts-section-security p{margin-bottom:8px}.preferences-accounts-section .accounts-section-security md-checkbox{margin-top:8px}.preferences-accounts-section .preferences-accounts-devices button{margin:0}.preferences-accounts-section .accounts-section-newsletter p{margin-top:8px}.preferences-accounts-section .accounts-section-newsletter md-progress-circular{margin:0 auto}.preferences-shield-tile{margin:0 8px 8px 0}.preferences-shield-tile md-card-content:focus,.preferences-shield-tile:focus{outline:-webkit-focus-ring-color auto 5px;outline-color:transparent!important}.preferences-shield-tile .item-container .shield-tile-content-outline:focus,.preferences-shield-tile.shield-tile-content-outline md-card,.preferences-shield-tile.shield-tile-content-outline:focus md-card{outline:-webkit-focus-ring-color auto 5px;outline-color:#76b900!important}.preferences-shield-tile md-card:focus md-card-content,.preferences-shield-tile md-card:hover md-card-content{background-color:#414141!important}.preferences-shield-tile.shield-tile-content-outline md-card-content{background-color:#2d2d2d!important}.preferences-preference-section .shield-section h4{margin-bottom:8px}.preferences-preference-section .shield-section md-content{padding:1px 0 0 1px}.preferences-preference-section .shield-section .appcollector-content-height{height:357px}.preferences-preference-section .shield-section .empty-app-list{height:348px;border-style:solid;border-width:1px;border-color:#3c3c3c;margin-bottom:8px;width:100%}.preferences-preference-section .button-text-padding .md-button:not(.md-icon-button){padding-left:16px;padding-right:16px}.preferences-shield-tile .item-container{width:94px;height:170px;display:block}.preferences-shield-tile .item-container img{width:94px;height:134px;display:block}.preferences-shield-tile .item-container .shield-tile-img-border{border:1px solid transparent}.preferences-shield-tile .item-container md-card-content{width:94px;height:36px;display:block;padding:0}.preferences-shield-tile .item-container p{font-size:10px;padding:5px}.preferences-preference-section .preferences-games-battery-boost .battery-boost-content-title{height:16px;line-height:16px}.preferences-shield-edit-dialog{width:425px;height:270px}.preferences-shield-edit-dialog img{width:94px;min-height:134px;display:block}.preferences-shield-edit-dialog .container{margin:24px}.preferences-shield-edit-dialog md-input-container{margin:0}.preferences-shield-edit-dialog .boxart{margin-left:16px}.preferences-shield-edit-dialog .custom-label-heading{font-size:10px;font-weight:400;text-shadow:none;bottom:inherit;color:rgba(255,255,255,.7);padding-left:3px}.preferences-shield-edit-dialog .custom-label-content{font-size:12px;font-weight:400;text-shadow:none;bottom:inherit;color:rgba(255,255,255,1);padding-left:3px;margin-top:8px;margin-bottom:8px}.preferences-shield-edit-dialog md-icon:focus{outline:0;border:none}.preferences-shield-edit-dialog .image-container>img{display:block;width:94px;height:134px}.preferences-shield-edit-dialog .image-container:hover{box-shadow:0 3px 15px 1px rgba(0,0,0,.75);color:rgba(0,0,0,.75);opacity:.75}.preferences-shield-edit-dialog .image-container:hover md-icon{color:#fff!important}.preferences-shield-edit-dialog .image-container md-icon[selected],.preferences-shield-edit-dialog .image-container:active,.preferences-shield-edit-dialog .image-container:focus{outline-color:transparent!important}.preferences-preference-section .share-section p{line-height:1.64;margin-top:8px;margin-bottom:-3.5px}.preferences-preference-section .share-section md-icon{margin:0}.preferences-preference-section .share-section .share-hotkey-info{padding-top:24px;padding-bottom:24px}.preferences-preference-section .share-section .share-hotkey-info p{margin-top:3px!important;margin-bottom:0!important;margin-left:6px;font-size:10px}.preferences-share-alert-icon{margin-left:5px!important;line-height:10px!important}",""]);
},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,".rewards-dialog.rewards-redeem-reward{background-image:none;height:497px;min-width:789px;max-width:789px;position:relative;border-radius:0}.rewards-redeem-reward img{width:320px;height:497px}.rewards-redeem-reward .coupon-redemption-header .md-subheader{margin:36px 24px 24px;font-size:18px;font-weight:300}.rewards-external-page-container .iframe-top-toolbar .close-button,.rewards-redeem-reward .coupon-redemption-header .close-button{position:absolute;left:auto;right:8px;top:8px;min-height:24px;max-height:24px}.rewards-redeem-reward .coupon-redemption-block-error-container{margin-top:104px;padding:24px}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-base-icon{height:32px;line-height:32px;font-size:32px;width:32px}.rewards-redeem-reward .coupon-redemption-block-error-container nv-overlay{height:16px;width:16px;top:40px;left:235px;opacity:1}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-overlay-icon{height:16px;line-height:16px;width:16px;font-size:16px;opacity:1}.rewards-redeem-reward .coupon-redemption-block-error-container .block-error-message{margin-top:18px}.rewards-redeem-reward .coupon-redemption-block-error-container a{margin-top:12px}.rewards-dialog.rewards-external-page-container{background-image:none;height:497px;min-width:789px;max-width:789px;position:relative;border-radius:0}.rewards-external-page-container .iframe-top-toolbar{height:48px}.rewards-external-page-container .iframe-scrollbar-spacer{height:24px}.coupon-validation-container{height:56px;margin-top:30px;margin-bottom:10px}.coupon-validation-container .coupon-code-input,.coupon-validation-container .coupon-code-input:focus{height:36px;width:400px;outline:0;border:none}.coupon-validation-container .coupon-code-input::-webkit-input-placeholder{color:rgba(255,255,255,.3)}.coupon-validation-container .coupon-input-error-message{margin-top:8px;width:400px}.rewards-reward-card{width:376px;height:230px}.reward-card:focus,.rewards-feature-card:focus,.rewards-reward-card:focus{outline:0;border:none}.rewards-reward-card .reward-card{width:360px;height:214px;margin:0 16px 16px 0}.rewards-reward-card .reward-card .reward-card-image-container,.rewards-reward-card .reward-card .reward-card-image-container img{width:100%;height:154px}.rewards-feature-card .reward-card .reward-card-image-container,.rewards-feature-card .reward-card .reward-card-image-container img{width:100%;height:240px}.rewards-reward-card .reward-card .reward-card-image-container .reward-card-overlay .reward-status-icon{font-size:16px;line-height:16px;height:16px;width:16px}.rewards-feature-card .reward-card .reward-card-details-container .reward-date,.rewards-feature-card .reward-card .reward-card-details-container .rewards-details-left-message,.rewards-reward-card .reward-card .reward-card-details-container .reward-date,.rewards-reward-card .reward-card .reward-card-details-container .rewards-details-left-message{margin-top:6px}.rewards-reward-card .reward-card .reward-card-details-container .rewards-details-left-message+.reward-date{margin-left:30px}.rewards-reward-card .reward-card.md-accent.background-on-hover:hover .reward-card-details-container .reward-date,.rewards-reward-card .reward-card.md-accent.background-on-hover:hover .reward-card-title{color:#FFF!important}.rewards-feature-card .reward-card .reward-card-details-container .rewards-details-left-message+.reward-date{margin-left:70px}.rewards-reward-card .reward-card .rewards-feature-card{width:532px;height:332px}.rewards-feature-card .reward-card{width:500px;height:300px;margin:16px 0 16px 16px;background-color:rgba(70,70,70,1)}.rewards-feature-card .reward-card md-card-content,.rewards-reward-card .reward-card md-card-content{height:60px}.rewards-center-items-container .rewards-center-section-title{font-weight:400;margin:24px 24px 8px 0}.rewards-center-items-container .rewards-center-top-toolbar{height:56px}.rewards-center-items-container .rewards-center-top-toolbar .back-button{min-height:24px;margin:16px 12px 16px 36px!important}.rewards-center-items-container .rewards-center-top-toolbar .rewards-center-title{margin:22px 0}.rewards-center-items-container .rewards-center-top-toolbar nv-select-menu{margin-right:36px}.rewards-center-items-container .rewards-center-top-toolbar nv-select-menu .common-green-dot{bottom:9px;right:2px}.rewards-center-items-container .featured-reward-container .reward-tag-image{width:112px;height:187px}.rewards-center-items-container .featured-reward-container .featured-reward-details-container .featured-reward-details-description{margin-top:32px}.rewards-center-items-container .rewards-center-top-banner{min-height:150px;max-height:150px}.rewards-center-items-container .rewards-center-top-banner .reward-tag-image-sm{width:56px;height:94px}.rewards-center-items-container .rewards-center-top-banner .reward-banner-details-container .reward-banner-details-description{width:70%}.rewards-center-items-container .rewards-center-coupon-code-banner{height:132px;max-height:132px;transition:height .3s,max-height .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-section-separator-horizontal,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-section-separator-horizontal-center{height:1px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-section-separator-vertical{width:1px;height:100%}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-header,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-section-separator-horizontal{width:100%}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-header,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button{height:35px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:hover{background-color:#303030!important;opacity:1}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:active md-icon,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button:active p{color:rgba(255,255,255,.45)!important}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content{height:0;margin:0 auto;transition:height .3s}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-bullet{width:4px;height:7px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{right:50%;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content .learn-more-text-container{clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img{top:132px;height:224px;clip-path:polygon(0 0,100% 0,100% 0,0 0);transition:clip-path .3s}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content img{clip-path:polygon(0 0,100% 0,100% 100%,0 100%)}.rewards-center-items-container .rewards-center-coupon-code-banner md-icon.toggle-icon{height:16px;width:16px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state md-icon.toggle-icon{-moz-transform:rotateX(180deg);-ms-transform:rotateX(180deg);-o-transform:rotateX(180deg);-webkit-transform:rotateX(180deg);transform:rotateX(180deg)}.rewards-center-items-container .rewards-center-coupon-code-banner h2,.rewards-center-items-container .rewards-center-coupon-code-banner h2:hover{height:56px;line-height:36px;cursor:default;margin-top:48px;margin-bottom:28px}.rewards-center-items-container .redeemed-or-expired-items-container,.rewards-center-items-container .unredeemed-items-container{margin:0 auto}@media (min-width:1200px){.rewards-center-items-container .redeemed-or-expired-items-container,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button,.rewards-center-items-container .unredeemed-items-container{width:1128px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-section-separator-horizontal-center{width:1130px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state{height:356px;max-height:356px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content{height:224px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{top:180px;margin-right:-500px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container .learn-more-message{width:450px}}@media (max-width:1199px){.rewards-center-items-container .redeemed-or-expired-items-container,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-header-button,.rewards-center-items-container .unredeemed-items-container{width:752px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-section-separator-horizontal-center{width:754px}.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state{height:282px;max-height:282px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content img,.rewards-center-items-container .rewards-center-coupon-code-banner.expanded-state .learn-more-expandable-content{height:150px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container{top:164px;margin-right:-350px}.rewards-center-items-container .rewards-center-coupon-code-banner .learn-more-expandable-content .learn-more-text-container .learn-more-message{width:300px}}.rewards-center-items-container .filtered-list-separator{height:44px}",""])},function(e,t,n){t=e.exports=n(8)(),t.push([e.id,".updates-updates-driver nv-accordion-pane-content,.updates-updates-driver nv-accordion-pane-header-wrapper{min-width:768px}.updates-updates-driver-item{margin:0;padding-left:16px}.updates-updates-driver md-icon{margin-right:16px}.updates-updates-driver-item md-icon{font-size:32px;line-height:32px;height:32px}.updates-updates-driver .md-button{margin:0}.updates-updates-driver-item h3{margin-bottom:6px;margin-top:0;line-height:normal;text-transform:none;text-align:left;font-weight:400}.updates-updates-driver-item p{margin:0;line-height:normal;color:#9f9f9f;text-transform:none;text-align:left}.updates-updates-driver nv-accordion-pane{margin-bottom:1px}.updates-updates-driver nv-accordion-pane-header{height:70px}.updates-reinstall-driver{min-width:184px}.updates-reinstall-driver .updates-reinstall-driver-icon{margin:auto 16px auto 0!important;width:16px!important;height:16px;line-height:16px}.updates-updates-notification-md-menu-content .progress-container p{margin:0;line-height:normal;font-size:10px;color:#9f9f9f}.updates-updates-notification-md-menu-content .progress-container{margin-left:10px;margin-bottom:15px;margin-right:10px;line-height:normal}.updates-updates-notification-md-menu-content .notification-header{margin:10px 0 3px 15px;font-size:9px}.updates-updates-notification-md-menu-content .md-button{margin:0;padding:0;width:100%;height:inherit}.updates-updates-notification-md-menu-content md-list-item.md-2-line button.md-button{padding:0;margin:0}.updates-updates-notification-md-menu-content{padding:0;margin-top:-8px;margin-bottom:-8px;max-height:none}.updates-updates-details .highlight-container{height:406px}.updates-updates-notification-md-menu-content .checkforupdate-container{min-height:49px}.updates-updates-notification-md-menu-content .checkforupdate-container p{text-align:center}.updates-updates-details .highlight-container md-list-item{background-color:rgba(51,51,51,.5);margin-bottom:1px;padding:0;height:80px}.updates-updates-details{margin:24px 16px 10px}.updates-updates-container h4{margin-top:24px;margin-bottom:8px;font-weight:400}.updates-updates-details md-list-item img{margin-right:10px}.updates-updates-container md-list-item.md-2-line .md-list-item-text h3{line-height:normal;margin:0}.updates-updates-details md-list-item.md-2-line .md-list-item-text{padding:0}.updates-updates-container .updates-updates-driver-container{width:100%;max-width:100%}.updates-updates-container .updates-updates-driver-container .checkforupdate-button{margin-top:14px;margin-bottom:-36px}.updates-updates-details .highlight-container md-list-item img{width:60px;height:60px}.updates-updates-details .highlight-container md-list{padding:0;margin:0}.updates-updates-details .highlight-container md-list-item{margin:10px}.updates-updates-container md-list md-list-item.md-2-line .md-list-item-text p,.updates-updates-container p,md-list md-list-item.md-3-line .md-list-item-text p{color:#9f9f9f}.updates-update-download-progress{margin-bottom:15px;margin-right:15px;margin-left:15px;line-height:normal}.updates-update-download-progress p{margin:0;line-height:normal;text-transform:none;text-align:left}.updates-update-download-progress md-progress-linear{margin-top:6px}.updates-updates-driver .updates-update-download-progress{margin:0;width:280px}.updates-updates-driver .download-details-status-container p{margin-top:6px;margin-bottom:0}.updates-updates-driver .download-install-controls{margin-right:32px}.updates-updates-driver .download-install-controls .expressInstall{margin-right:10px}.download-details-container .download-speed,.updates-updates-driver .download-details-container{margin-right:16px}.updates-updates-driver .download-container .download-pause-resume{margin-right:10px}.updates-updates-driver .download-container .download-stop{margin-right:0}.updates-updates-installer-dialog{width:790px;height:442px;background-image:url("+n(531)+")}.updates-updates-installer-dialog md-dialog-content{padding:0;overflow:hidden}.updates-updates-intstallation-progress iframe{width:790px;height:376px;border:0}.updates-updates-intstallation-progress .updates-installlation-progress-fallbackImage{width:790px}.updates-updates-intstallation-progress .progress-status-container{margin:10px 15px 5px}.updates-updates-intstallation-progress p{margin:4px 0 0;line-height:10px}.updates-updates-intstallation-progress h4{margin:0 0 4px}.updates-updates-installer-dialog h4{line-height:17px;font-weight:400;margin-top:0}.updates-updates-installer-dialog .updates-updates-installer-dialog-title{margin-bottom:8px}.updates-installer-dialog-installation-complete md-icon{width:48px;height:48px;line-height:normal;font-size:48px;font-weight:700}.updates-installer-dialog-installation-complete div{margin-top:100px}.updates-installer-dialog-installation-error div{margin-left:20px;margin-right:20px}.updates-installer-dialog-installation-error a{margin-top:14px;margin-left:5px;text-decoration:none;height:12px}.updates-installation-custom-container .package-group-table{margin-left:4px;margin-right:4px;height:234px}.updates-installation-custom-container .package-group-header{height:28px;padding-left:20px;margin:0}.updates-installation-custom-container .md-divider{border-top-width:1px;border-bottom-width:1px;border-top-color:#000;border-bottom-color:#1e1e1e}.updates-installation-custom-container md-checkbox,.updates-installation-custom-container p{line-height:normal;margin:0}.updates-installation-custom-container md-divider+div{margin-left:24px;margin-top:16px}.updates-installation-custom-container .warning-clean-install{margin-left:30px}.updates-updates-installer-dialog .updates-installer-dialog-header{margin:24px}.updates-updates-installer-dialog md-icon{margin:0 4px 0 0}.updates-installer-dialog-header:first-child md-icon+p{margin-top:5px}.updates-installer-dialog-header:first-child p{margin:0}.updates-updates-installation-reboot h4,.updates-updates-installation-reboot p{margin:6px 0 0}.updates-updates-installation-reboot div{margin-top:100px}.updates-game-list{padding-left:20px}.updates-game-list .updates-tile-repeater{min-height:232px;max-height:232px}.updates-highlight-tile{width:360px;height:242px;margin:0 16px 16px 0}@media only screen and (min-width:1224px){.updates-highlight-tile:nth-child(3n+0){margin-right:0}}@media only screen and (max-width:1223px){.updates-highlight-tile:nth-child(2n+0){margin-right:0}.updates-highlight-carousel .common-carousel img{width:auto;position:absolute;left:50%;top:0;transform:translateX(-50%)}}.updates-highlight-tile .image-container>img{width:360px;height:154px;display:block}.updates-highlight-tile .image-container .optimal-settings-icon-overlay{width:24px;height:24px;background-color:transparent;top:16px;left:312px}.updates-highlight-tile md-card,.updates-highlight-tile md-card-content{margin:0}.updates-highlight-tile md-card-content>p:last-child{margin-top:10px;margin-bottom:0}.updates-highlight-tile p{line-height:normal;margin:0}.updates-highlight-tile md-card-content .opsTitle{margin-top:3px}.updates-highlight-tile .common-container-gradient{margin:0 16px}.updates-highlight-tile:hover .color-black-hue-1{background-color:#76b900!important}.updates-highlight-tile:hover .color-white-hue-3,.updates-highlight-tile:hover .color-white-hue-4{color:#fff!important}.updates-highlight-tile:hover .common-container-gradient{opacity:0}.updates-updates-details-overlay{margin:0;height:56px;opacity:.45;top:auto;bottom:-10px;position:absolute;width:100%}.updates-updates-details-overlay p{margin:16px}.updates-updates-details-highlights-banner-container{height:298px}.updates-highlight-tile md-card-content{height:56px}.updates-updates-driver{max-width:1224px;margin:auto;padding-left:40px;padding-right:40px}.updates-updates-details-releaseAbstract{margin-bottom:20px;margin-top:-4px;color:rgba(255,255,255,.75);line-height:1.67}",""])},function(e,t,n){e.exports=n.p+"gold.svg"},function(e,t,n){e.exports=n.p+"gray.svg"},,function(e,t,n){e.exports=n.p+"gfe-logo-about-72.png"},,,function(e,t,n){e.exports=n.p+"lineBeak.png"},function(e,t,n){e.exports=n.p+"PCshield_left_pane.png"},function(e,t,n){e.exports=n.p+"facebook_login_blank_btn.png"},function(e,t,n){e.exports=n.p+"google_signin_blank_btn.png"},function(e,t,n){e.exports=n.p+"login_left_background.png"},function(e,t,n){e.exports=n.p+"nvidia_login_blank_btn.png"},function(e,t,n){e.exports=n.p+"origin-logo.png"},function(e,t,n){e.exports=n.p+"overlay_bg.png"},function(e,t,n){e.exports=n.p+"playstation-logo.png"},function(e,t,n){e.exports=n.p+"raptr-logo.png"},function(e,t,n){e.exports=n.p+"scan_left_pane.png"},function(e,t,n){e.exports=n.p+"scanning_left_pane.png"},function(e,t,n){e.exports=n.p+"share_left_pane.png"},function(e,t,n){e.exports=n.p+"steam-logo.png"},function(e,t,n){e.exports=n.p+"uplay-logo.png"},function(e,t,n){e.exports=n.p+"warcraft-logo.png"},function(e,t,n){e.exports=n.p+"welcome_maingraphic1.png"},function(e,t,n){e.exports=n.p+"welcome_maingraphic2.png"},function(e,t,n){e.exports=n.p+"welcome_maingraphic3.png"},function(e,t,n){e.exports=n.p+"xbox-logo.png"},function(e,t,n){e.exports=n.p+"bullet_green_arrow.png"},function(e,t,n){e.exports=n.p+"coupons_expandable_banner.png"},function(e,t,n){e.exports=n.p+"redeem_reward_default.png"},function(e,t,n){e.exports=n.p+"default_banner.png"},function(e,t,n){e.exports=n.p+"installer-dialog-background.png"},function(e,t,n){e.exports=n.p+"installer_banner.png"},function(e,t,n){e.exports=n.p+"gfn-background.jpg"},function(e,t){e.exports='<label translate=l10n.affectedGame></label> <md-select class=feedback-affected-games-list-margin ng-model=affectedGameCtrl.selectedGame ng-change=affectedGameCtrl.onChange()> <md-option id=dropdown ng-value=game.shortName ng-repeat="game in affectedGameCtrl.affectedGamesList">{{game.displayName}}</md-option> </md-select> '},function(e,t){e.exports="<div class=common-carousel-indicator-dimensions> </div> "},function(e,t){e.exports='<span ng-repeat="slide in ::carouselIndicators.slides" ng-click=carouselIndicators.setIndex($index) tabindex=-1> <nv-carousel-indicator nv-is-selected=carouselIndicators.isSelected($index) class="common-carousel-indicator common-carousel-indicator-dimensions"></nv-carousel-indicator> </span> '},function(e,t){e.exports='<div class=common-carousel flex layout=column> <div ng-if=!carousel.isBanner flex layout=column> <ul rn-carousel rn-carousel-buffered rn-carousel-index=carousel.selectedIndex rn-swipe-disabled=true layout-fill flex> <li ng-repeat="image in carousel.slides"> <nv-image-annotation nv-image-src={{::image.image}} nv-image-alt={{::image.image}} nv-annotation=image.annotation layout-fill class=common-container-overflow></nv-image-annotation> </li> </ul> <nv-overlay class="common-overlay no-background mouse-event-passthrough" nv-position=bottom ng-style=carousel.centerIndicators() ng-if=carousel.isIndicatorsVisible()> <nv-carousel-indicators nv-slides=carousel.slides nv-selected-index=carousel.selectedIndex class="rn-carousel-indicator custom-indicator common-carousel-indicators" layout=row layout-align="center end" flex></nv-carousel-indicators> </nv-overlay> </div> <div ng-if=carousel.isBanner class=banner-carousel rn-carousel-controls-allow-loop> <ul rn-carousel rn-carousel-index=carousel.selectedIndex rn-carousel-auto-slide rn-carousel-transition=zoom layout-fill> <li ng-repeat="image in ::carousel.slides"> <img ng-src={{::image.image}} alt={{::image.name}} layout-fill nv-image-fallback/> <nv-overlay layout-fill class="common-overlay no-background" ng-if=carousel.isVideoAvailable(image)> <div layout=column layout-align="center center" flex> <md-button class=md-icon-button ng-click=carousel.previewMedia($event,image)> <md-icon md-font-set=material-icons class="md-18 color-white-hue-1">play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </li> </ul> <nv-overlay class="common-overlay no-background" nv-position=bottom ng-if=carousel.isIndicatorsVisible()> <nv-carousel-indicators nv-slides=carousel.slides nv-selected-index=carousel.selectedIndex class="rn-carousel-indicator custom-indicator common-carousel-indicators" layout=row layout-align="center end" flex></nv-carousel-indicators> </nv-overlay> </div> </div> '},function(e,t){e.exports='<ng-form name=nvCtrl> <div class=nv-custom-date-ctrl> <h1 class=md-title>{{titleString}}</h1> <div layout=row> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> <nv-date-field> <md-input-container layout-fill md-no-float> </md-input-container> </nv-date-field> </div> <div class="error-message font-size-xxs" ng-messages=errors ng-if="((nvCtrl.year.$touched && !focus) || ((nvCtrl.day.$touched && !focus) && (!nvCtrl.month.$touched && !focus)))"> <div ng-message=pattern> <div translate=l10n.invalidYear></div> </div> <div ng-message="required, min, max, invalid"> <div translate=l10n.invalidDate></div> </div> </div> </div> </ng-form> '},function(e,t){e.exports='<waiting-overlay flex layout-fill layout layout-align="center center" ng-if=nvModel.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=70></md-progress-circular> </waiting-overlay> <form flex layout=column name=dialogForm autocomplete=off novalidate ng-submit=nvModel.button1.action() ng-keypress=hello($event)> <nv-dialog-progress-bar layout=row ng-if=nvModel.progress class="md-primary md-hue-3 background crimson-dialog-progress-bar" nv-progress-active={{nvModel.progress.active}} nv-progress-sections={{nvModel.progress.sections}}></nv-dialog-progress-bar> <div class=dialog-service-dialog-contents-close-button> <md-button md-autofocus ng-if=nvModel.closeButton class="md-icon-button dialog-service-dialog-contents-close-button" ng-click=nvModel.closeButton.action()> <md-icon md-font-set=material-icons>close</md-icon> </md-button> <h1 class=dialog-service-dialog-contents-title translate={{nvModel.title}} translate-values={{nvModel.translateValues}} ng-style=nvModel.titleStyle></h1> <h2 class=dialog-service-dialog-contents-subtitle ng-if=nvModel.subtitleLink> <a href={{nvModel.subtitleLink}} translate={{nvModel.subtitle}} translate-values={{nvModel.translateValues}} nv-telemetry=\'{"tarconID":{{nvModel.subtitleTelemetryId}}}\'></a> </h2> </div> <p translate={{nvModel.subTitle}} ng-if=nvModel.subTitle translate-value={{nvModel.translateValues}} class=dialog-service-dialog-contents-sub-title></p> <error-div ng-if=nvModel.error> <span id=dialogValidationError translate={{nvModel.error}} translate-values={{nvModel.translateValues}}></span> </error-div> <md-dialog-content tabindex=-1 flex layout=column layout-fill nv-dialog-model=nvModel> </md-dialog-content> <div class="md-actions dialog-service-dialog-contents-footer" layout=row dir=rtl> <md-button ng-class="{\'md-accent\': nvModel.button1.accent}" ng-if=nvModel.button1 tabindex=100 translate={{nvModel.button1.text}} type=submit ng-disabled=nvModel.button1.disabled></md-button> <md-button ng-if=nvModel.button2 ng-style=nvModel.button2.style tabindex=101 translate={{nvModel.button2.text}} type=button ng-click=nvModel.button2.action() ng-disabled=nvModel.button2.disabled></md-button> <span flex></span> <md-button ng-if=nvModel.button3 ng-style=nvModel.button3.style tabindex=102 translate={{nvModel.button3.text}} type=button ng-click=nvModel.button3.action() ng-disabled=nvModel.button3.disabled></md-button> </div> </form> '},function(e,t){e.exports='<ng-form autocomplete=off flex layout-align="start start" layout=column name=editEmailCtrl.emailForm novalidate> <p class="md-primary md-hue-2 foreground" translate=l10n.enterYourInformation></p> <md-input-container layout-fill ng-if=!editEmailCtrl.nvDialogModel.is2FactorAuthentication> <label translate=l10n.currentPassword></label> <input nv-input name=password ng-model=editEmailCtrl.password ng-change=editEmailCtrl.passwordChanged() ng-required=!editEmailCtrl.nvDialogModel.is2FactorAuthentication tabindex=1 type=password /> <div class=error-message ng-messages=editEmailCtrl.emailForm.password.$error ng-show=editEmailCtrl.emailForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=invalidPassword> <div translate=l10n.incorrectPassword></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.newEmailAddress></label> <input nv-input name=email ng-model=editEmailCtrl.email ng-change=editEmailCtrl.emailChanged() required tabindex=2 type=email /> <div class=error-message ng-messages=editEmailCtrl.emailForm.email.$error ng-show=editEmailCtrl.emailForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.reEnterEmailAddress></label> <input nv-input name=reEnterEmail ng-model=editEmailCtrl.reEnterEmail required nv-fields-match={{editEmailCtrl.emailForm.email.$viewValue}} test=editEmailCtrl.email tabindex=3 type=email /> <div class=error-message ng-messages=editEmailCtrl.emailForm.reEnterEmail.$error ng-show=editEmailCtrl.emailForm.reEnterEmail.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.emailAddressesDoNotMatch></div> </div> </div> </md-input-container> </ng-form> '},function(e,t){e.exports='<div class=dialog-email-verification ng-if=!emailVerificationCtrl.nvDialogModel.isAuthentication> <div class=dialog-email-verification-email flex layout layout-align="center center"> <span>{{emailVerificationCtrl.nvDialogModel.translateValues.email}}</span> <md-button ng-if=emailVerificationCtrl.nvDialogModel.hasPassword class=md-icon-button ng-click=emailVerificationCtrl.nvDialogModel.editMailAddress()> <md-icon md-font-set=material-icons class=md-18>edit</md-icon> </md-button> </div> <p class="md-primary md-hue-2 foreground" translate-values={{emailVerificationCtrl.nvDialogModel.translateValues}} translate=l10n.verficationEmailHasBeenSent></p> <p class="md-primary md-hue-2 foreground" translate=l10n.clickContinueAfter></p> </div> <div ng-if=emailVerificationCtrl.nvDialogModel.isAuthentication> <p class="md-primary md-hue-2 foreground" translate-values={{emailVerificationCtrl.nvDialogModel.translateValues}} translate=l10n.verficationEmailHasBeenSent></p> <p class="md-primary md-hue-2 foreground" translate=l10n.clickContinueAfter></p> </div> '},function(e,t){e.exports='<div class="md-primary md-hue-2 foreground" ng-bind-html=dialogHtmlCtrl.nvDialogModel.html></div> '},function(e,t){e.exports='<div class=dialog-message layout-align="center center" layout=column> <div layout=row> <md-icon flex=25 material-icons class=md-96 color-white-hue-4>info</md-icon> <h2 flex class="md-primary foreground" color-white-hue-4 translate={{dialogMessageCtrl.nvDialogModel.text}}></h2> </div> </div> '},function(e,t){e.exports='<p class="md-primary md-hue-2 foreground" translate={{dialogTextCtrl.nvDialogModel.text}} translate-values={{dialogTextCtrl.nvDialogModel.translateValues}}></p> '},function(e,t){e.exports="<div ng-class=\"{'crimson-dialog-container-tall': dialog.model.style === 'honeycomb-tall'}\"> <md-dialog layout=column class=crimson-dialog ng-class=dialog.model.style> <nv-dialog-contents flex layout=column nv-directive={{dialog.directive}} nv-model=dialog.model></nv-dialog-contents> </md-dialog> </div> "},function(e,t){e.exports='<div class="bg-grey-im-hue-3 md-right-section constants-z-layers-modal-minus-one" layout=row ng-class="feedbackFloatCtrl.viewState.feedbackFloatShowState ? \'feedbackfloat-animate\' : \'\'" ng-if=feedbackFloatCtrl.showFeedbackButton()> <div ng-mouseleave=feedbackFloatCtrl.onMouseLeave() ng-mouseenter=feedbackFloatCtrl.onMouseEnter()> <md-button class="md-icon-button feedback-button" ng-click=feedbackFloatCtrl.onOpenFeedbackDialog()> <md-icon class="md-16 feedback-icon" md-font-set=material-icons>message</md-icon> </md-button> <a ng-click=feedbackFloatCtrl.onOpenFeedbackDialog() class="feedbackfloat-state3-margin md-default-theme font-size-sm md-accent foreground feedback-link" ng-show=feedbackFloatCtrl.showFloatStateOpen()>{{\'l10n.sendfeedback\' | translate | uppercase}}</a> </div> <md-button class="md-icon-button feedback-button" ng-click=feedbackFloatCtrl.disableFeedbackFloat() ng-show=feedbackFloatCtrl.viewState.feedbackFloatOverlayEnabled> <md-icon class="md-16 feedback-icon color-white-hue-5" md-font-set=material-icons>close</md-icon> </md-button> </div> '},function(e,t){e.exports='<md-input-container> <label translate=l10n.feedbackCategory></label> <md-select ng-model=feedbackCtrl.selectedCategory tabindex=1 ng-change=feedbackCtrl.onCategoryChange() md-autofocus> <md-option ng-value=category ng-repeat="category in feedbackCtrl.categories" translate={{category.name}}></md-option> </md-select> </md-input-container> <md-input-container ng-if=feedbackCtrl.selectedCategory> <label translate=l10n.subCategory></label> <md-select ng-model=feedbackCtrl.selectedSubCategory tabindex=2 ng-change=feedbackCtrl.onSubCategoryChange()> <md-option ng-value=subCategory ng-repeat="subCategory in feedbackCtrl.selectedCategory.subcategories" translate={{subCategory.name}}></md-option> </md-select> </md-input-container> <md-input-container ng-if=feedbackCtrl.showAffectedGameDropDown()> <nv-affected-game-list nv-selected-game=feedbackCtrl.selectedSupportedGame></nv-affected-game-list> </md-input-container> <div ng-if=feedbackCtrl.showAffectedLocalGamesList() class=feedback-affected-games-list-label-div> <label class=feedback-affected-games-list-label translate=l10n.affectedGames /> </div> <div class=feedback-affected-games-grid ng-if=feedbackCtrl.showAffectedLocalGamesList()> <md-content> <md-list class=feedback-affected-games-listbox> <md-list-item ng-repeat="game in feedbackCtrl.affectedLocalGamesList"> <md-checkbox class=feedback-affected-games-checkbox tabindex=3 ng-click=feedbackCtrl.toggleGameSelection(game.shortName) ng-checked=feedbackCtrl.isGameSelected(game.shortName)></md-checkbox> {{game.displayName}} </md-list-item> </md-list> </md-content> </div> <div class=file-upload-div-margin ng-if=feedbackCtrl.showUploadFileOption()> <nv-file-upload nv-file-path=feedbackCtrl.filePath></nv-file-upload> </div> <md-input-container class=feedback-dialog> <label translate=l10n.comments></label> <textarea maxlength=2000 ng-model=feedbackCtrl.comments tabindex=4 md-maxlength=2000 rows=2 required ng-keyup=feedbackCtrl.validateRequiredFields()></textarea> </md-input-container> ';
},function(e,t){e.exports="<div class=file-upload-wrapper-div-margin> <div class=file-upload-label> <label translate=l10n.location /> </div> <label for=fileInput> <md-icon md-font-set=material-icons class=md-18 id=plusIcon>add_box</md-icon> </label> <label class=file-path-label>{{fileUploadCtrl.filePath}}</label> <input id=fileInput type=button ng-click=fileUploadCtrl.openFileDialog() /> </div> "},function(e,t){e.exports="<div layout=row layout-fill> <img class=nv-annotation-image ng-src={{::nvImageSrc}} alt={{::nvImageAlt}} nv-image-fallback/> </div> "},function(e,t,n){e.exports='<div layout=row layout-align="center center" class=constants-position-relative layout-fill flex> <img src='+n(42)+' class=common-image-fallback> <nv-overlay class="common-overlay constants-z-layers-zero" layout-fill> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=30 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports="<md-dialog flex class=common-media-dialog-service-media-dialog> <img ng-if=mediaDialog.model.image() ng-src={{mediaDialog.model.image()}} alt={{galleryImagePreview.image}} ng-mouseenter=mediaDialog.setShowOverlay(true) /> <nv-overlay class=\"common-overlay no-background\" ng-if=mediaDialog.model.image() ng-show=mediaDialog.showOverlay ng-mouseleave=mediaDialog.setShowOverlay(false)> <div layout=column layout-fill> <md-toolbar> <div class=md-toolbar-tools> <span flex></span> <div ng-if=mediaDialog.model.toolbarHtml() nv-bind-html-compile={{mediaDialog.model.toolbarHtml()}}></div> <md-button class=md-icon-button ng-click=mediaDialog.close()> <md-icon class=material-icons>close</md-icon> <md-tooltip> {{'l10n.close' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </div> </nv-overlay> <nv-video nv-default-video-control={{mediaDialog.model.video().defaultVideoControl}} ng-if=mediaDialog.model.video() nv-src={{mediaDialog.model.video().source}} nv-video-loaded=mediaDialog.setVideoLoaded(value) nv-video-close=mediaDialog.close() nv-video-type={{mediaDialog.model.video().type}}> <md-toolbar> <div class=md-toolbar-tools> <div ng-if=mediaDialog.model.toolbarHtml() nv-bind-html-compile={{mediaDialog.model.toolbarHtml()}}></div> <md-button class=md-icon-button ng-click=mediaDialog.close()> <md-icon class=material-icons>close</md-icon> <md-tooltip> {{'l10n.close' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </nv-video> </md-dialog> "},function(e,t){e.exports='<div class=constants-position-relative ng-click=mediaTile.previewMedia($event) layout-fill> <img ng-src={{mediaTile.mediaItem.thumbnail}} alt={{mediaTile.mediaItem.alt}} nv-image-fallback=nv-no-loading-indicator /> <nv-overlay layout-fill class=common-overlay ng-if=mediaTile.isVideo()> <div layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn"> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class=material-icons>play_circle_outline</md-icon> </md-button> </div> </nv-overlay> </div> '},function(e,t){e.exports=' <md-list-item class="md-3-line bg-dark-hv" layout=row layout-align="start start"> <img ng-src={{nvNews.img}} alt={{nvNews.title}} /> <div class=md-list-item-text> <a href=# nv-ellipsis-lines=2>{{nvNews.title}}</a> <p nv-ellipsis-lines=2>{{nvNews.text}}</p> <a href=# class="hyperlink-no-decorate md-accent foreground">{{\'l10n.readMore\' | translate}}</a> </div> </md-list-item> '},function(e,t){e.exports='<md-content> <md-list> <nv-news-item ng-repeat="newsItem in news.newsList" nv-news=newsItem class=common-news-item></nv-news-item> </md-list> </md-content> '},function(e,t,n){e.exports='<div layout=column layout-align="center center" flex layout-fill class=common-nv-no-content-fallback> <img ng-src='+n(42)+' ng-hide=nvImageSrc /> <md-icon md-font-set=material-icons class="font-size-100 material-icons margin-zero color-dark-gray" ng-show=nvImageSrc>{{nvImageSrc}}</md-icon> <p class="color-dark-gray common-nv-no-content-fallback-tip" translate={{nvTip}}></p> <ng-transclude></ng-transclude> </div> '},function(e,t){e.exports='<md-menu-item> <md-button aria-label="" ng-click=selectMenuItem.handleClick() ng-disabled=selectMenuItem.disabled> <p ng-style=selectMenuItem.itemStyle> <ng-transclude></ng-transclude> </p> </md-button> </md-menu-item> '},function(e,t){e.exports='<div ng-if=nvFiltered class=common-green-dot></div> <md-menu md-offset="10 36" md-position-mode={{::nvPositionMode}}> <md-button class=md-icon-button ng-click=$mdOpenMenu($event)> <md-tooltip> <span translate={{::nvLabel}}></span> </md-tooltip> <md-icon md-font-set=material-icons class=color-white-hue-2>{{::nvMdIcon}}</md-icon> </md-button> <md-menu-content md-menu-align-target md-menu-origin class="md-primary md-hue-1"> <ng-transclude></ng-transclude> </md-menu-content> </md-menu> '},function(e,t){e.exports='<md-toast> <div layout=row layout-align="space-between center" class="padding-right-left-16 bg-dark-im-hue-5 color-white-hue-3 font-size-sm1" layout-fill> <md-progress-circular id=progressIndicator ng-if=toast.toastModel.showProgressIndicator class="md-accent margin-right-12" md-diameter=24 md-mode=indeterminate></md-progress-circular> <md-icon md-font-set=material-icons ng-if=toast.isGenericToastIcon() class="md-24 margin-right-12">{{toast.toastModel.icon}}</md-icon> <div layout=column class="image-container constants-position-relative" ng-if=toast.isCustomToastIcon()> <nv-overlay layout-fill class="common-overlay no-background" ng-if=toast.toastModel.alertIcon> <md-icon class="nv-custom-icons md-16 feature-notready-toolbar-overlay nv-custom-alert-icon-color" md-font-icon=icon-alert></md-icon> </nv-overlay> <md-icon class="md-24 margin-right-12 nv-custom-icons" ng-class="\'{{toast.toastModel.customColor}}\'" md-font-icon={{toast.toastModel.icon}}></md-icon> </div> <span flex nv-ellipsis-lines=2 class=padding-right-32>{{toast.toastModel.textContent}}</span> <md-button ng-if=toast.toastModel.button ng-click=toast.handleAction() class="color-green padding-right-24"> <span translate={{toast.toastModel.button.text}}></span> </md-button> <md-icon md-font-set=material-icons ng-click=toast.close() class="md-16 common-toast-close-icon color-white-hue-4">close</md-icon> </div> </md-toast> '},function(e,t){e.exports="<div class=common-video-directive> <video ng-if=!videoCtrl.isVideoTypeYoutube() autoplay ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false) ng-show=videoCtrl.videoLoaded> <source ng-src={{videoCtrl.nvSrc}} type=video/mp4> </video> <div class=youtube-video-container ng-if=videoCtrl.isVideoTypeYoutube() ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false)> <iframe id=ytPlayer frameborder=0 ng-src={{videoCtrl.nvSrc}} allowfullscreen></iframe> </div> <nv-overlay ng-if=videoCtrl.showDefaultOverlay() class=youtube-overlay ng-show=videoCtrl.showOverlay ng-mouseenter=videoCtrl.setShowOverlay(true) ng-mouseleave=videoCtrl.setShowOverlay(false)> <div layout=row layout-fill> <div flex></div> <ng-transclude></ng-transclude> </div> </nv-overlay> <nv-overlay layout ng-if=!videoCtrl.showDefaultOverlay() class=\"common-overlay no-background\" ng-show=videoCtrl.showOverlay ng-mouseleave=videoCtrl.setShowOverlay(false)> <div layout=column flex layout-align=\"center center\"> <div layout=row layout-fill> <div flex></div> <ng-transclude></ng-transclude> </div> <div layout-fill flex layout-align=\"center center\" layout=column ng-mousedown=videoCtrl.toggleMediaPlay()> <input ng-show=videoCtrl.showPlaybutton() type=image src=../../../assets/main/img/play_btn70.png /> </div> <md-toolbar> <div class=md-toolbar-tools> <md-button ng-if=videoCtrl.showPlaybutton() class=md-icon-button ng-click=videoCtrl.toggleMediaPlay()> <md-icon class=material-icons>play_arrow</md-icon> <md-tooltip> {{'l10n.play' | translate }} </md-tooltip> </md-button> <md-button ng-if=!videoCtrl.showPlaybutton() class=md-icon-button ng-click=videoCtrl.toggleMediaPlay()> <md-icon class=material-icons>pause</md-icon> <md-tooltip> {{'l10n.pause' | translate }} </md-tooltip> </md-button> <md-slider flex min=0 max=100 ng-model=videoCtrl.sliderPosition></md-slider> <span>&nbsp; &nbsp;{{videoCtrl.currentVideoTime}}</span> <md-button class=md-icon-button ng-if=!videoCtrl.muted() ng-click=videoCtrl.muteUnmute()> <md-icon class=material-icons>volume_up</md-icon> <md-tooltip> {{'l10n.volume' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button ng-if=videoCtrl.muted() ng-click=videoCtrl.muteUnmute()> <md-icon class=material-icons>volume_off</md-icon> <md-tooltip> {{'l10n.volume' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button> <md-icon class=material-icons>fullscreen</md-icon> <md-tooltip> {{'l10n.fullscreen' | translate }} </md-tooltip> </md-button> </div> </md-toolbar> </div> </nv-overlay> <md-progress-circular md-mode=indeterminate ng-show=videoCtrl.videoWaiting class=\"md-accent progress-circular\"></md-progress-circular> </div> "},,,,function(e,t){e.exports="<div flex layout=row id=toast-container> <nv-game-list ng-if=!homeCtrl.synchedViewState.classicViewEnabled class=games-game-list nv-user-id={{::homeCtrl.user.userId}} nv-selected-game-id=homeCtrl.selectedGameId flex layout=column></nv-game-list> <nv-classic-game-list ng-if=homeCtrl.synchedViewState.classicViewEnabled class=games-classic-game-list nv-user-id={{::homeCtrl.user.userId}} nv-selected-game-id=homeCtrl.viewState.selectedGameId flex layout=column></nv-classic-game-list> </div> "},function(e,t){e.exports="<md-button ng-disabled={{nvDisabled}}> <md-icon md-font-set=material-icons>{{::nvMdIcon}}</md-icon> <span class=color-medium-gray-hue-2 translate={{::nvLabel}}></span> </md-button> "},function(e,t){e.exports='<md-button class="md-icon-button md-button md-ink-ripple" ng-disabled={{nvDisabled}}> <md-tooltip md-autohide><span translate={{::nvToolTip}}></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 ng-binding ng-scope ng-isolate-scope material-icons" ng-hide={{::nvCustomIcon}}>{{::nvMdIcon}}</md-icon> <div layout=column class="image-container constants-position-relative" ng-show={{nvCustomIcon}}> <nv-overlay layout-fill class="common-overlay no-background" ng-hide=nvShareAddonLoaded> <md-icon class="nv-custom-icons md-12 feature-notready-toolbar-overlay nv-custom-alert-icon-color" md-font-icon=icon-alert></md-icon> </nv-overlay> <md-icon class="nv-custom-icons md-18" md-font-icon={{::nvMdIcon}}></md-icon> </div> </md-button> '},function(e,t,n){e.exports="<div class=main-toolbar-top-dividers flex layout=column> <div class=bg-dark-eh-hue-1></div> <div class=bg-dark-im-hue-6></div> </div> <md-toolbar layout=row class=bg-dark-vh-hue-1> <div class=md-toolbar-tools flex layout=row> <nv-main-tab-button nv-md-icon=home nv-label=l10n.home nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.HOME_VIEW_GAMES_AND_FRIENDS}}}' nv-disabled={{mainToolbarCtrl.driverless}} nv-state=main.auth.home.gamesAndFriends></nv-main-tab-button> <img src="+n(82)+"> <nv-main-tab-button nv-md-icon=archive nv-label=l10n.drivers nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.UPDATES_VIEW_UPDATES}}}' nv-state=main.auth.updates></nv-main-tab-button> <div class=md-toolbar-tools flex layout=row ng-if=::mainToolbarCtrl.devFeatures.experimental> <img src="+n(82)+"> <nv-main-tab-button nv-md-icon=video_library nv-label=l10n.gallery nv-state=main.auth.gallery nv-disabled={{mainToolbarCtrl.driverless}}></nv-main-tab-button> <img src="+n(82)+'> <nv-main-tab-button nv-md-icon=shopping_basket nv-label=l10n.gfn nv-state=main.auth.gfn nv-disabled={{mainToolbarCtrl.driverless}}></nv-main-tab-button> </div> <span flex></span> <div ng-if=mainToolbarCtrl.notificationsEnabled> <nv-notifications class=notifications></nv-notifications> </div> <div ng-if=::mainToolbarCtrl.devFeatures.experimental> <nv-updates-notification class=updates-updates-notification></nv-updates-notification> </div> <nv-main-tab-icon class=margin-right-16 nv-md-icon=icon-share nv-custom-icon=true nv-tab-icon-clicked=mainToolbarCtrl.enableAndLaunchShare() nv-tool-tip=l10n.shareGameMoments ng-if=mainToolbarCtrl.isShareSupported nv-disabled={{mainToolbarCtrl.isShareButtonDisabled}} nv-change-icon-color={{mainToolbarCtrl.isShareRunning}} nv-share-addon-loaded=mainToolbarCtrl.shareLoaded></nv-main-tab-icon> <nv-main-tab-icon class=margin-right-16 nv-md-icon=settings nv-custom-icon=false nv-tool-tip=" l10n.settings" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.PREFERENCES_VIEW_PREFERENCES}}}\' nv-state=main.auth.preferences nv-disabled={{mainToolbarCtrl.driverless}}></nv-main-tab-icon> <img src='+n(82)+"> <nv-inline-dropdown nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.OOBE_CLICK_USERNAME}}}' class=constants-friend-list-width layout-fill> <nv-inline-dropdown-header> <img nv-circle ng-src={{mainToolbarCtrl.avatar.url}} alt={{::mainToolbarCtrl.displayName}} class=md-avatar nv-fallback-src={{mainToolbarCtrl.defaultAvatarUrl}} /> <h3 class=display-name nv-ellipsis-lines=1>{{mainToolbarCtrl.displayName}}</h3> <md-tooltip md-autohide ng-if=mainToolbarCtrl.showTooltip>{{mainToolbarCtrl.displayName}}</md-tooltip> </nv-inline-dropdown-header> <md-list> <md-list-item ng-click=\"$state.go('main.auth.preferences.accounts')\" ng-disabled=mainToolbarCtrl.driverless> <p translate=l10n.account></p> </md-list-item> <md-list-item ng-click=mainToolbarCtrl.onClickRedeem($event) ng-disabled=mainToolbarCtrl.driverless nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.HOME_VIEW_REWARDS}}}' ng-if=mainToolbarCtrl.rewardsFeatureEnabled> <p translate=l10n.redeem></p> </md-list-item> <md-list-item ng-click=mainToolbarCtrl.logout() nv-telemetry='{\"tarconID\":{{::$root.telemetryEventNames.OOBE_LOGOUT}}}'> <p translate=l10n.logOut></p> </md-list-item> </md-list> </nv-inline-dropdown> </div> </md-toolbar> "},function(e,t){e.exports="<nv-window class=common-window nv-resizable=main.isWindowsOS() nv-movable=main.isWindowsOS() nv-controllable=main.isWindowsOS() flex layout=column> <div layout=column flex> <nv-main-toolbar class=common-main-toolbar></nv-main-toolbar> <md-toolbar class=md-toolbar-tools layout=row layout-align=end ng-if=main.newVersionAvailable class=highlight> <span> <md-button ng-click=main.install() ng-disabled=!main.newVersionAvailable> <md-tooltip md-direction=left> <span translate=l10n.installNewVersion></span> </md-tooltip> <span ng-class=\"{'md-accent foreground': main.newVersionAvailable}\" translate=l10n.updateNow> </span> </md-button> </span> </md-toolbar> <div layout flex ui-view> </div> </div> <nv-feedback-float></nv-feedback-float> </nv-window> <nv-prefetch-directive></nv-prefetch-directive> "},,,,function(e,t){e.exports='<div class=friends-friend-about> <div class=content-container flex=100> <div class="left-column bg-dark-hv"> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.realName\' | translate}}: {{friendAbout.userAboutGeneral.realName}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.lastSeen\' | translate}}: {{friendAbout.userAboutGeneral.lastSeen}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.memberSince\' | translate}}: {{friendAbout.userAboutGeneral.memberSince}} </div> <div class="left-content color-dark-gray font-size-lg"> {{\'l10n.reputation\' | translate}}: </div> <div class=star-rating> <div ng-repeat="item in friendAbout.getArray() track by $index"> <div name=rating-item class=rating> <img ng-src={{friendAbout.loadRatingImage(item)}} class=golden-star /> </div> </div> </div> </div> <div class="right-column bg-dark-hv"> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>movie_creation</md-icon> {{friendAbout.userAboutSpecification.graphicsHardware}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>visibility</md-icon> {{friendAbout.userAboutSpecification.driverVersion}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>select_all</md-icon> {{friendAbout.userAboutSpecification.CPU}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>memory</md-icon> {{friendAbout.userAboutSpecification.RAM}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>desktop_windows</md-icon> {{friendAbout.userAboutSpecification.displayResolution}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>favorite</md-icon> {{friendAbout.userAboutSpecification.OS}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>mouse</md-icon> {{friendAbout.userAboutSpecification.interface.pointingDevice}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>keyboard</md-icon> {{friendAbout.userAboutSpecification.interface.textInput}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>gamepad</md-icon> {{friendAbout.userAboutSpecification.interface.gameController}} </div> <div class="right-content color-light-gray"> <md-icon class="material-icons md-default-theme" md-font-set=material-icons>nature_people</md-icon> {{friendAbout.userAboutSpecification.interface.augmentedRealityHardware}} </div> </div> </div> </div> '},function(e,t){e.exports='<div class="friends-friend-achievements tile-layout" ng-controller=FriendAchievementsController> <md-content> <div layout=row layout-wrap> <div ng-repeat="achievement in vm.userAchievements" flex=50 class=friends-friend-tile-layout> <div nv-achievement-tile></div> </div> </div> </md-content> </div> '},function(e,t){e.exports="<md-content class=md-padding> </md-content> "},function(e,t,n){e.exports="<div layout=column class=friends-friend-broadcast> <div flex layout=column class=image-position ng-switch on=friendBroadcast.view> <nv-broadcast-viewer ng-switch-when=broadcast layout=column flex portal={{friendBroadcast.broadcastStatus.data.portal}} channel={{friendBroadcast.broadcastStatus.data.channel}}></nv-broadcast-viewer> <img ng-switch-when=image ng-src="+n(197)+' alt="{{\'l10n.alt.background\' | translate}}" layout-fill="" class=ng-scope src='+n(197)+' /> <nv-overlay nv-position=bottom class=common-overlay> <div layout=row layout-align="start center" class=overlay-width> <div flex=10 class=md-padding> <img ng-src={{friendBroadcast.selectedUser.avatar}} class=rounded-image alt={{friendBroadcast.selectedUser.name}} layout-fill/> </div> <div flex layout=column> <div class="font-size-xxxl line-height-md">{{friendBroadcast.selectedUser.core.displayName}}</div> <span class="font-size-xl color-medium-gray">{{\'l10n.broadcasting\' | translate:friendBroadcast.translateInterpolation}} {{}}</span> </div> <md-button ng-click=friendBroadcast.watchBroadcast() ng-if="friendBroadcast.view === \'broadcast\'" class="md-accent md-raised watch-broadcast-button">{{\'l10n.watchBroadcast\' | translate}}</md-button> </div> </nv-overlay> <div class=label> <div> <div>{{l10n.placeholderText | translate}}</div> </div> </div> </div> </div> '},function(e,t){e.exports='<md-content class="md-padding friend-compare-games-holder"> </md-content> '},function(e,t){e.exports='<md-content flex class="md-padding friends-friend-details"> <p>{{friendDetails.user.core.displayName}}</p> <div layout=column> <div layout=row> <nv-friend-broadcast layout></nv-friend-broadcast> <div flex layout=column class=summary-compare> <md-tabs flex layout=column> <md-tab flex layout label="{{\'l10n.gameSummary\' | translate}}"> <md-tab-body flex layout> <nv-friend-game-summary class="md-primary md-hue-3 background" flex layout=column></nv-friend-game-summary> </md-tab-body> </md-tab> <md-tab label="{{\'l10n.compareGames\' | translate}}"> <md-content class=md-padding> <nv-friend-compare-games></nv-friend-compare-games> </md-content> </md-tab> </md-tabs> </div> </div> <div flex layout=row> <div class=friend-info> <md-tabs md-border-bottom> <md-tab label=Achievements> <nv-friend-achievements></nv-friend-achievements> </md-tab> <md-tab label="Activity Feed"> <nv-friend-activity-feed></nv-friend-activity-feed> </md-tab> <md-tab label="{{\'about\' | translate | uppercase}}"> <nv-friend-about></nv-friend-about> </md-tab> </md-tabs> </div> <div flex class=friends-groups> <md-tabs md-border-bottom> <md-tab label=Friends class=friends-friend-details> <md-content class="md-padding list-layout" flex layout> <nv-friend-list class=friends-friend-list nv-type=grid nv-user-id={{friendDetails.user.userId}} flex layout></nv-friend-list> </md-content> </md-tab> <md-tab label=Groups> <md-content class=md-padding> <nv-friend-group-list nv-type=grid class=friends-friend-group-list nv-user-id={{friendDetails.user.userId}}></nv-friend-group-list> </md-content> </md-tab> </md-tabs> </div> </div> </div> </md-content> '},function(e,t){e.exports='<md-content class=friends-friend-game-summary flex layout=column> <nv-accordion nv-accordion-mode=alwaysOne flex layout=column> <nv-accordion-pane nv-start-expanded=true> <nv-accordion-pane-header flex layout=row layout-align="start center"> <span flex>{{\'l10n.gameSummary\' | translate}}</span> </nv-accordion-pane-header> <nv-accordion-pane-content id=donut-chart layout=column> <style>.friends-friend-game-summary .nvd3.nv-pie path{stroke-width:0}</style> <svg flex ng-show=friendGameSummary.showChart()></svg> <div class=overlay-text layout-align="center center" layout=column> {{\'l10n.numGames\' | translate:friendGameSummary.translateInterpolation()}} </div> </nv-accordion-pane-content> </nv-accordion-pane> <nv-accordion-pane ng-repeat="genreEntry in friendGameSummary.data track by $index"> <nv-accordion-pane-header flex layout=row layout-align="start center"> <md-content flex layout-align="start center" layout=row> <div class=rectangle-bullet ng-style=friendGameSummary.rectColor($index)> &nbsp; </div> {{genreEntry.label | translate}} </md-content> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column> <md-content flex> <div ng-repeat="gameEntry in genreEntry.data"> <img ng-src={{gameEntry.infoImage}} style=width:200px;height:100px /> <p> {{gameEntry.displayName}} </p> </div> </md-content> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </md-content> '},function(e,t){e.exports='<md-content class="md-primary md-hue-3" flex> <div flex layout=row layout-wrap flex=100 md-cols=2> <div class="md-2-line constants-position-relative" ng-repeat="group in groups.groupList" flex=25 material-card id={{group.displayName}}> <div class=grid-card> <md-list-item layout-margin> <img ng-src={{group.avatar}} class="md-avatar image-align-center margin" alt={{group.displayName}} /> </md-list-item> <div class=friend-name> <h4 nv-ellipsis-lines=1>{{group.displayName}}</h4> </div> </div> </div> </div> </md-content> '},function(e,t){e.exports='<md-content layout=column class="md-primary md-hue-3"> <md-list flex> <md-subheader class="md-no-sticky md-primary md-hue-3">{{\'l10n.friendGroupListTitle\' | translate}}</md-subheader> <md-menu md-align-target md-offset="0 70" ng-repeat="group in groups.groupList"> <md-list-item class=md-2-line flex ng-click=$mdOpenMenu()> <img alt={{group.displayName}} class=md-avatar ng-src={{group.avatar}} /> <div class=md-list-item-text> <h3>{{group.displayName}}</h3> <p nv-ellipsis-lines=1> <span ng-repeat="user in group.users"> {{(!$first ? \', \': \'\') + user.core.displayName}} </span> </p> </div> </md-list-item> <md-menu-content class="md-primary md-hue-2 md-whiteframe-z2" width=4> <md-menu-item> <md-button md-menu-align-target> Not Spec\'d </md-button> </md-menu-item> </md-menu-content> </md-menu> </md-list> </md-content> '},function(e,t){e.exports='<md-content flex layout class="md-primary md-hue-3"> <nv-virtual-grid-list flex layout> <div class=grid-card nv-virtual-grid-list-repeat="friend in friends.friendList track by $index" nv-on-demand> <md-menu md-position-mode="target-right target" md-offset=65,0 id=""> <md-button aria-label=photo class=md-icon-button ng-click=$mdOpenMenu()> <md-icon material-icons class=md-18>expand_more</md-icon> </md-button> <md-menu-content class="md-primary md-hue-2 md-whitframe-z2" width=4> <md-menu-item ng-if=friends.showWatchBroadcast(friend.status.activity)> <md-button md-menu-align-target ng-click=friends.watchBroadcast(friend.userId)> {{\'l10n.watchBroadcast\' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showAskToPlay(friend.status.activity)> <md-button ng-click=friends.askToPlay(friend.userId)> {{\'l10n.askToPlay\' | translate}} </md-button> </md-menu-item> <md-menu-divider ng-if=friends.showAskToPlay(friend.status.activity)></md-menu-divider> <md-menu-item> <md-button ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})"> {{\'l10n.viewProfile\' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showChat(friend.status.activity)> <md-button ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})"> {{\'l10n.chat\' | translate}} </md-button> </md-menu-item> </md-menu-content> </md-menu> <div ng-click="$state.go(\'main.auth.home.gamesAndFriends.friendDetails\', {userId: friend.userId})"> <md-list-item layout-margin> <img ng-src={{friend.core.avatar}} class="md-avatar image-align-center margin" alt={{friend.core.displayName}} /> </md-list-item> <div class=friend-name> <h4 nv-ellipsis-lines=1>{{friend.core.displayName}}</h4> </div> </div> </div> </nv-virtual-grid-list> </md-content> '},function(e,t){e.exports="<md-toolbar class=md-hue-3> <div class=md-toolbar-tools> <h1>{{'l10n.friendListTitle' | translate | uppercase}}</h1> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label=\"{{'l10n.sort' | translate}}\"> <nv-select-menu-item nv-action=\"friends.setSort('activity')\" nv-selected-test=\"friends.matchSort('activity')\"> {{'l10n.activity' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setSort('alphabetical')\" nv-selected-test=\"friends.matchSort('alphabetical')\"> {{'l10n.alphabetical' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label=\"{{'l10n.filter' | translate}}\"> <nv-select-menu-item nv-action=\"friends.setFilter('all')\" nv-selected-test=\"friends.matchFilter('all')\"> {{'l10n.all' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setFilter('online')\" nv-selected-test=\"friends.matchFilter('online')\"> {{'l10n.online' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"friends.setFilter('broadcasting')\" nv-selected-test=\"friends.matchFilter('broadcasting')\"> {{'l10n.broadcasting' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label=\"{{'l10n.moreDots' | translate}}\"> <nv-select-menu-item> {{'l10n.friendListTitle' | translate}} </nv-select-menu-item> </nv-select-menu> </div> </md-toolbar> <md-content layout=column class=\"md-primary md-hue-3\" flex> <md-list flex layout=column> <md-subheader class=\"md-no-sticky md-primary md-hue-3\">{{'l10n.' + friends.filterType | translate}}</md-subheader> <md-virtual-repeat-container flex layout> <div md-virtual-repeat=\"friend in friends.friendList | filter: friends.filter | orderBy: friends.sort\" flex layout> <md-menu md-align-target md-offset=\"0 70\" flex layout> <md-list-item class=md-2-line ng-class=friends.offlineClass(friend) flex id={{friend.core.displayName}} ng-click=$mdOpenMenu()> <img alt={{friend.displayName}} class=md-avatar ng-src={{friend.core.avatar}} /> <div class=md-list-item-text> <h3>{{friend.core.displayName}}</h3> <p translate={{friends.getActivityString(friend)}} translate-values={{friends.getActivityDynamicValues(friend)}}> </p> </div> </md-list-item> <md-menu-content class=\"md-primary md-hue-2 md-whitframe-z2\" width=4> <md-menu-item ng-if=friends.showWatchBroadcast(friend)> <md-button md-menu-align-target ng-click=friends.watchBroadcast(friend.userId)> {{'l10n.watchBroadcast' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showAskToPlay(friend)> <md-button ng-click=friends.askToPlay(friend.userId)> {{'l10n.askToPlay' | translate}} </md-button> </md-menu-item> <md-menu-divider ng-if=friends.showAskToPlay(friend)></md-menu-divider> <md-menu-item> <md-button ng-click=\"$state.go('main.auth.home.gamesAndFriends.friendDetails', {userId: friend.userId})\"> {{'l10n.viewProfile' | translate}} </md-button> </md-menu-item> <md-menu-item ng-if=friends.showChat(friend)> <md-button ng-click=\"$state.go('main.auth.home.gamesAndFriends.friendDetails', {userId: friend.userId})\"> {{'l10n.chat' | translate}} </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </md-virtual-repeat-container> </md-list> </md-content> "},,,function(e,t){e.exports='<md-content> <div ng-repeat="galleryFolder in galleryMoments.galleryList"> <nv-gallery-panel nv-gallery-folder=galleryFolder nv-filter-object=galleryMoments.filterObj class=gallery-gallery-panel></nv-gallery-panel> </div> </md-content> '},function(e,t){e.exports=" <md-tabs flex class=gallery-container> <md-tab label=\"{{'l10n.moments' | translate | uppercase}}\"> <nv-gallery-moments layout=column flex></nv-gallery-moments> </md-tab> <md-tab label=\"{{'l10n.showcase' | translate | uppercase}}\"> <nv-gallery-showcase layout=column flex></nv-gallery-showcase> </md-tab> </md-tabs> "},function(e,t){e.exports="<md-toolbar class=md-toolbar-tools> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label=\"{{'l10n.sort' | translate}}\"> <nv-select-menu-item nv-action=\"galleryMoments.sortGalleryList('folderName', false)\" nv-selected-test=\"galleryMoments.isSortType('folderName')\"> {{'l10n.alphabetical' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=\"galleryMoments.sortGalleryList('modifiedTime', true)\" nv-selected-test=\"galleryMoments.isSortType('modifiedTime')\"> {{'l10n.recentActivity' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label=\"{{'l10n.filter' | translate}}\"> <nv-select-menu-item nv-action=galleryMoments.setFilterType({}) nv-selected-test=\"galleryMoments.isFilterType('all')\"> {{'l10n.all' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=galleryMoments.setFilterType({fileType:galleryMoments.fileType.VIDEO}) nv-selected-test=\"galleryMoments.isFilterType('video')\"> {{'l10n.recordings' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action=galleryMoments.setFilterType({fileType:galleryMoments.fileType.IMAGE}) nv-selected-test=\"galleryMoments.isFilterType('screenshot')\"> {{'l10n.screenshots' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label=\"{{'l10n.moreDots' | translate}}\"> <nv-select-menu-item nv-action=\"\" nv-selected-test=\"\"> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <div layout=column flex class=\"md-padding gallery-moments\"> <div layout=row flex> <nv-gallery-library flex=30></nv-gallery-library> <nv-gallery-preview flex></nv-gallery-preview> </div> <nv-gallery-timeline></nv-gallery-timeline> </div> "},function(e,t){e.exports='<div layout=column ng-mouseenter=galleryPanel.setMediaInfoVisible(true) ng-mouseleave=galleryPanel.setMediaInfoVisible(false) ng-hide=galleryPanel.isFolderEmpty() class=panel-container> <div layout=row layout-align="space-between end"> <p>{{galleryPanel.galleryFolder.folderName}}</p> <div ng-show=galleryPanel.showExpandInfo() layout-align="end end"> <span ng-hide=galleryPanel.isExpanded class=color-light-gray> {{ galleryPanel.tilesRemaining() }} {{\'l10n.more\' | translate | lowercase }} <md-icon ng-click=galleryPanel.showMoreTiles() md-font-set=material-icons class=md-18 tabindex=-1>keyboard_arrow_down</md-icon> </span> <md-icon ng-show=galleryPanel.isExpanded md-font-set=material-icons class=md-18 ng-click=galleryPanel.showMoreTiles() tabindex=-1>keyboard_arrow_up</md-icon> </div> </div> <div layout=row layout-wrap> <div ng-repeat="file in galleryPanel.galleryFolder.files | filter: nvFilterObject | limitTo: galleryPanel.limitTo"> <nv-gallery-tile nv-gallery-file=file class=gallery-gallery-tile></nv-gallery-tile> </div> </div> </div> ';
},function(e,t){e.exports=" "},function(e,t){e.exports='<md-toolbar class=md-toolbar-tools> <span flex></span> <nv-select-menu nv-md-icon=sort nv-label="{{\'l10n.sort\' | translate}}"> <nv-select-menu-item nv-action="galleryShowcase.sortShowcaseList(\'snippet.title\', false)" nv-selected-test="galleryShowcase.isSortType(\'snippet.title\')"> {{\'l10n.alphabetical\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="galleryShowcase.sortShowcaseList(\'snippet.publishedAt\', true)" nv-selected-test="galleryShowcase.isSortType(\'snippet.publishedAt\')"> {{\'l10n.recentActivity\' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=filter_list nv-label="{{\'l10n.filter\' | translate}}"> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.all\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.recordings\' | translate}} </nv-select-menu-item> <nv-select-menu-item nv-action="" nv-selected-test=""> {{\'l10n.screenshots\' | translate}} </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_horiz nv-label="{{\'l10n.moreDots\' | translate}}"> <nv-select-menu-item nv-action="" nv-selected-test=""> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <md-content class=md-padding layout-fill layout=row layout-align="start start" layout-wrap> <nv-gallery-showcase-tile nv-gallery-showcase-item=showcaseTile ng-repeat="showcaseTile in galleryShowcase.galleryShowcaseList" class=gallery-showcase-tile></nv-gallery-showcase-tile> </md-content> '},function(e,t){e.exports='<md-card ng-mouseenter=galleryShowcaseTile.mouseHover(true) ng-mouseleave=galleryShowcaseTile.mouseHover(false) ng-click=galleryShowcaseTile.previewMedia($event) tabindex=-1> <div class=constants-position-relative> <img ng-src={{galleryShowcaseTile.showcaseItem.snippet.thumbnails.default.url}} class=md-card-image alt={{galleryShowcaseTile.showcaseItem.snippet.title}}> <nv-overlay layout-fill ng-class=galleryShowcaseTile.showOverlay() class=common-overlay> <div layout=column layout-fill> <div layout=row> <span flex></span> <div ng-class=galleryShowcaseTile.showButtons()> <md-button class="md-icon-button more-button" ng-click=""> <md-tooltip> {{\'l10n.share\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white">share</md-icon> </md-button> </div> </div> <div layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn"> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class=material-icons>play_circle_outline</md-icon> </md-button> </div> </div> </nv-overlay> </div> <md-card-content> <div layout=column layout-align="center start" class=showcase-item-info-block> <div nv-ellipsis-lines=1 class="color-light-gray showcase-item-title">{{galleryShowcaseTile.showcaseItem.snippet.title}}</div> <div class="color-dark-gray showcase-item-detail"> {{\'l10n.\' + galleryShowcaseTile.showcaseItem.origin | translate}} &middot; {{\'l10n.viewCount\' | translate:{num:galleryShowcaseTile.showcaseItem.statistics.viewCount} }} &middot; {{galleryShowcaseTile.showcaseItem.snippet.publishedAt | date:\'shortDate\'}} </div> </div> </md-card-content> </md-card> '},function(e,t){e.exports='<md-card ng-mouseenter=galleryTile.mouseHover(true) ng-mouseleave=galleryTile.mouseHover(false) ng-click=galleryTile.previewMedia($event) tabindex=-1> <div class=constants-position-relative> <img ng-src={{galleryTile.galleryFile.fileThumbnail}} class=md-card-image alt={{galleryTile.galleryFile.fileType}}> <nv-overlay layout-fill ng-class=galleryTile.showOverlay() class=common-overlay> <div layout=column layout-fill> <div layout=row> <span flex></span> <div ng-class=galleryTile.showButtons()> <md-button class="md-icon-button edit-button" ng-click=galleryTile.editMedia($event)> <md-tooltip> {{\'l10n.edit\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white">create</md-icon> </md-button> <md-button class="md-icon-button more-button" ng-click=galleryTile.editMedia($event)> <md-tooltip> {{\'l10n.moreDots\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-white">more_horiz</md-icon> </md-button> </div> </div> <div ng-if=galleryTile.isVideo(galleryTile.galleryFile.fileType) layout=column layout-align="center center" flex> <md-button class="md-icon-button video-play-btn"> <md-tooltip> {{\'l10n.play\' | translate}} </md-tooltip> <md-icon md-font-set=material-icons>play_circle_outline</md-icon> </md-button> </div> <div ng-if=galleryTile.isVideo(galleryTile.galleryFile.fileType) layout-align="end center" layout=row> <span class="video-length-label color-light-gray bg-dark-hv-hue-1">{{ galleryTile.galleryFile.videoLength | convertSecondsToHHMMSS}}</span> </div> </div> </nv-overlay> </div> <md-card-content> <div layout=row layout-align="space-between center"> <div nv-ellipsis-lines=1 class=color-light-gray> {{galleryTile.galleryFile.creationTime | date:\'MM/dd/yyyy h:mma\'}} </div> <md-icon ng-show=galleryTile.isVideo(galleryTile.galleryFile.fileType) class=color-light-gray md-font-set=material-icons class=md-18> videocam </md-icon> <md-icon ng-show=galleryTile.isImage(galleryTile.galleryFile.fileType) class=color-light-gray md-font-set=material-icons class=md-18> image </md-icon> </div> </md-card-content> </md-card> '},588,function(e,t){e.exports="<md-button class=md-icon-button> <md-icon class=material-icons>edit</md-icon> <md-tooltip> {{'l10n.edit' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button> <md-icon class=material-icons>share</md-icon> <md-tooltip> {{'l10n.share' | translate }} </md-tooltip> </md-button> <md-button class=md-icon-button> <md-icon class=material-icons>more_horiz</md-icon> <md-tooltip> {{'l10n.more' | translate }} </md-tooltip> </md-button> "},function(e,t){e.exports='<md-toolbar> <div class="md-toolbar-tools font-size-xl classic-game-list-top-toolbar-tools" layout=row layout-align="space-between center"> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.games></h4> <div layout=row> <md-button class=md-icon-button ng-click=games.changeView(false) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.HOME_TOGGLE_TO_GAMES_LIST_VIEW}}}\'> <md-tooltip><span translate=l10n.tileView></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-view-module class="nv-custom-icons color-white-hue-2"></md-icon> </md-button> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!games.matchFilter(\'all\')"> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'all\')" nv-action="games.setFilter(\'all\')" nv-selected-test="games.matchFilter(\'all\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_NONE}}}\'> <div translate=l10n.allNumber translate-value-number={{games.getGamesCount()}}></div> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'favorite\')" nv-action="games.setFilter(\'favorite\')" nv-selected-test="games.matchFilter(\'favorite\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FAVORITES}}}\'> <span translate=l10n.favoritesNumber translate-value-number={{games.getFavoriteGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'optimized\')" nv-action="games.setFilter(\'optimized\')" nv-selected-test="games.matchFilter(\'optimized\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_OPTIMIZED}}}\'> <span translate=l10n.optimizedNumber translate-value-number={{games.getOptimizedGamesCount()}}></span> </nv-select-menu-item> <md-divider></md-divider> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'hidden\')" nv-action="games.setFilter(\'hidden\')" nv-selected-test="games.matchFilter(\'hidden\')"> <span translate=l10n.hiddenNumber translate-value-number={{games.getHiddenGamesCount()}}></span> </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'scanGames\')" nv-action=games.scanGames() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_SCANGAMES}}}\'> <span translate={{games.scanText}}></span> </nv-select-menu-item> <nv-select-menu-item ng-show=games.isGameOpsSupported ng-disabled="games.buttonDisabled(\'optimizeAll\')" nv-action=games.optimizeGames() nv-telemetry=\'{ "tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_OPTIMIZE_ALL}}}\'> <span translate={{games.optimizeText}}></span> </nv-select-menu-item> </nv-select-menu> </div> </div> </md-toolbar> <div layout=row flex layout-fill> <div layout=column class="bg-grey-im-hue-3 games-classic-game-list-container constants-position-relative"> <div class="games-classic-game-list-items-container common-container-overflow" flex layout=column> <nv-overlay class="common-overlay classic-game-list-top-gradient margin-zero"></nv-overlay> <nv-no-content-fallback ng-if=games.showNoGameFallbackMessage() nv-tip=l10n.gamesYouPlay class=no-game-container flex layout-fill> <button ng-click=games.findAWayToPlay() class="font-size-sm md-button md-accent empty-state" translate=l10n.viewSupportedGames nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_FIND_A_WAY_TO_PLAY}},"url":"{{::games.findPlayUrl}}"}\'></button> </nv-no-content-fallback> <nv-no-content-fallback ng-show=games.showFallbackMessage() nv-tip={{games.fallbackMessage()}} nv-image-src={{games.fallbackImage()}} class=no-game-container flex layout-fill> <button ng-click=games.setFallbackFilter() class="font-size-sm md-button md-accent empty-state" translate={{games.fallbackButtonText()}}></button> </nv-no-content-fallback> <md-virtual-repeat-container flex layout-fill md-top-index=games.topIndex ng-if=games.gameListReady() md-auto-shrink=false> <md-list-item md-virtual-repeat="game in games.filteredGameList | limitTo: games.listLimitTo" ng-click=games.setSelectedGameId(game.id) nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_GAME_INFO}},"url":"{{game.systemGame.shortName}}"}\' ng-class="{\'bg-black-hv-hue-2 md-accent foreground\': games.isSelected(game.id)}" aria-label=classicViewGame> <div class=game-icon-container> <img ng-src={{game.systemGame.iconImage24}} alt={{::game.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator /> <nv-overlay layout-fill class="common-overlay no-background" ng-if=games.isGameOpsSupported> <div class="game-not-optimized-icon-wrapper bg-black-hv"> <nv-optimized-icon nv-system-game=game.systemGame class="color-white-hue-1 game-not-optimized-icon"></nv-optimized-icon> </div> </nv-overlay> </div> <div class=game-name-container> <p class=font-size-xxs nv-ellipsis-lines=1 ng-class="{\'color-white-hue-3\': !games.isSelected(game.id)}">{{game.systemGame.displayName}}</p> </div> </md-list-item> </md-virtual-repeat-container> </div> <nv-overlay class="common-overlay classic-game-list-bottom-gradient" nv-position=bottom></nv-overlay> </div> <div flex layout=column> <nv-game-details nv-selected-game-id=games.selectedGameId nv-classic-view-enabled={{true}} flex layout=column ng-if=games.gameListReady()></nv-game-details> </div> </div> '},function(e,t){e.exports='<md-dialog class=games-custom-ops> <div layout=column class=games-custom-ops-container> <div layout=column ng-hide=opsCtrl.showErrorMessage layout-fill> <h4 class="color-white-hue-1 font-size-sm line-height-sm1" translate={{opsCtrl.getHeading()}}></h4> <div layout=row class=resolution-display-mode-container> <div flex> <md-input-container> <p class="font-size-xxs color-white-hue-4" translate=l10n.resolution></p> <md-select class=color-white-hue-3 ng-model=opsCtrl.selectedResolution ng-disabled=opsCtrl.isResolutionDisabled() ng-change=opsCtrl.resolutionOrDisplayModeChanged() md-container-class=resolution-container> <header class=resolution-header ng-repeat-start="resolution in opsCtrl.resolutions"> <p ng-disabled=true ng-if=opsCtrl.showResolutionHeader($index) translate={{opsCtrl.resolutionHeader(resolution)}}></p> </header> <md-option class=resolution-options ng-value=resolution>{{opsCtrl.getResolutionString(resolution)}}</md-option> <footer ng-repeat-end></footer> </md-select> </md-input-container> </div> <div class=resolution-display-mode-separator></div> <div flex> <md-input-container> <p class="font-size-xxs color-white-hue-4" translate=l10n.displayMode></p> <md-select class=color-white-hue-3 ng-model=opsCtrl.selectedDisplayMode ng-disabled=opsCtrl.isDisplayModeDisabled() ng-change=opsCtrl.resolutionOrDisplayModeChanged() md-container-class=display-mode-container> <md-option class=display-mode-options ng-value=displayMode ng-repeat="displayMode in opsCtrl.displayModes">{{opsCtrl.getDisplayModeString(displayMode)}}</md-option> </md-select> </md-input-container> </div> </div> <div layout=column class=optimize-for-container> <p class="color-white-hue-3 font-size-sm line-height-sm1" translate=l10n.optimizeFor></p> <div layout=row layout-align="space-between center" class="optimized-slider-items-header color-white-hue-3"> <p ng-show=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.performance></p> <p ng-hide=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.battery></p> <p class="font-size-xxs line-height-sm1" translate=l10n.quality></p> </div> <div layout=column class=optimized-slider-container> <div layout=row layout-fill layout-align="center center"> <md-icon ng-show=opsCtrl.isCurrentSettingTypeAC() class="nv-custom-icons md-18 performance-icon" md-font-icon=icon-speedometer> <md-tooltip> <span translate=l10n.higherPerformance></span> </md-tooltip> </md-icon> <md-icon ng-hide=opsCtrl.isCurrentSettingTypeAC() class="nv-custom-icons md-18" md-font-icon=icon-onbattery> <md-tooltip> <span translate=l10n.longerBatteryLife></span> </md-tooltip> </md-icon> <div class=constants-position-relative> <md-slider md-discrete flex ng-model=opsCtrl.currentSliderIndex min=0 max={{opsCtrl.maxIndex}} step=1 ng-change=opsCtrl.currentSliderChanged() ng-disabled="opsCtrl.controlDisabled || !opsCtrl.maxIndex"> </md-slider> </div> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-quality-high class="nv-custom-icons quality-icon"> <md-tooltip> <span translate=l10n.betterQuality></span> </md-tooltip> </md-icon> </div> <div class=optimal-button-container> <div class="optimal-line-indicator md-accent background" ng-disabled=opsCtrl.controlDisabled></div> <md-button class="md-raised md-accent color-white-important optimal-value-button" ng-click=opsCtrl.applyOptimalValue() ng-disabled=opsCtrl.controlDisabled translate=l10n.optimal></md-button> </div> </div> </div> </div> <div layout=column ng-show=opsCtrl.showErrorMessage layout-align="center center" class=games-custom-ops-container layout-fill> <span translate=l10n.couldNotRetrieveCustomSettings></span> </div> </div> <div class=cancel-apply-container layout=row layout-align="end end"> <md-button ng-click=opsCtrl.cancelCustomSettings() translate=l10n.cancel></md-button> <md-button ng-hide=opsCtrl.showErrorMessage class=md-accent ng-click=opsCtrl.applyCustomSettings() translate=l10n.apply ng-disabled="opsCtrl.applyButtonDisabled || opsCtrl.controlDisabled"></md-button> </div> <nv-overlay class="common-overlay constants-z-layers-zero" layout-fill ng-show=opsCtrl.showProgressIndicator> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=30 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </md-dialog> '},function(e,t){e.exports='<span translate=l10n.dsr></span> <md-tooltip><span translate=l10n.dsrInfo></span></md-tooltip> <md-icon md-font-set=material-icons class="material-icons color-inherit">info_outline</md-icon> '},function(e,t){e.exports="<md-toolbar> <div class=md-toolbar-tools> <span flex></span> <md-button class=md-icon-button ng-click=gameDetailPreview.toggleFavorite() nv-telemetry='{\"tarconID\":{{$root.telemetryEventNames.GAMEDETAILS_SET_GAME_FAVORITE}},\"url\":\"{{gameDetailPreview.userGame.systemGame.shortName}},{{gameDetailPreview.userGame.favorite}}\"}'> <div ng-show=gameDetailPreview.userGame.favorite> <md-icon class=material-icons>star_rate</md-icon> <md-tooltip> {{'l10n.removeFavorite' | translate }} </md-tooltip> </div> <div ng-hide=gameDetailPreview.userGame.favorite> <md-icon class=material-icons>star_border</md-icon> <md-tooltip> {{'l10n.favorite' | translate }} </md-tooltip> </div> </md-button> <md-button class=md-icon-button ng-click=gameDetailPreview.showTagsModalDialog() ng-if=::gameDetailPreview.devFeatures.experimental> <md-tooltip> {{'l10n.tags' | translate }} </md-tooltip> <md-icon class=material-icons>local_offer</md-icon> </md-button> <md-button class=md-icon-button ng-click=gameDetailPreview.toggleVisibility()> <div ng-show=gameDetailPreview.userGame.hidden> <md-tooltip> {{'l10n.showGame' | translate }} </md-tooltip> <md-icon class=material-icons>visibility_off</md-icon> </div> <div ng-hide=gameDetailPreview.userGame.hidden> <md-tooltip> {{'l10n.hideGame' | translate }} </md-tooltip> <md-icon class=material-icons>visibility</md-icon> </div> </md-button> <md-button class=md-icon-button ng-if=::gameDetailPreview.devFeatures.experimental> <md-tooltip> {{'l10n.moreDots' | translate }} </md-tooltip> <md-icon class=material-icons>more_horiz</md-icon> </md-button> </div> </md-toolbar> <md-card class=md-card-no-hover> <nv-optimized-icon nv-system-game=gameDetailPreview.userGame class=games-optimized-icon ng-if=gameDetailPreview.isGameOpsSupported></nv-optimized-icon> <img ng-src={{gameDetailPreview.userGame.systemGame.infoImage}} alt={{gameDetailPreview.userGame.systemGame.displayName}} class=games-info-image nv-image-fallback/> <md-card-content layout=row layout-align=\"start center\" flex class=games-game-detail-preview-description> <img ng-src={{gameDetailPreview.userGame.systemGame.iconFile}} alt={{gameDetailPreview.userGame.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator /> <div flex layout=column> <h1>{{gameDetailPreview.userGame.systemGame.displayName}}</h1> <span class=\"md-body-1 game-preview-information\">{{gameDetailPreview.userGame.systemGame.installDirectory}}</span> </div> <div layout=column layout-align=\"center end\" ng-if=gameDetailPreview.isPlayed()> <div class=md-caption> <span translate=l10n.lastPlayed></span>{{ gameDetailPreview.userGame.lastLaunchDate | convertUTCToTimeAgo}} </div> <div class=md-caption> {{'l10n.totalPlayed' | convertSecondsToRelativeDate:gameDetailPreview.userGame.playedTime}} </div> </div> <nv-play-game class=games-play-game nv-system-game=gameDetailPreview.userGame.systemGame nv-telemetry='{\"tarconID\":{{$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},\"url\":\"{{gameDetailPreview.userGame.systemGame.shortName}}\"}'></nv-play-game> </md-card-content> </md-card> "},function(e,t,n){e.exports='<div flex class=games-game-details layout=column> <div ng-if=::!gameDetails.devFeatures.experimental flex layout=column> <md-toolbar class=game-details-toolbar nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_OPTIMIZATIONS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div class="md-toolbar-tools bg-black-hv-hue-1" layout=row layout-align="space-between center"> <div layout=row class=game-details-toolbar-left-container> <md-button class="md-icon-button game-details-back-button" ng-click="$state.go(\'main.auth.home.gamesAndFriends\')" ng-if=::!gameDetails.classicViewEnabled> <md-icon md-font-set=material-icons class="md-24 color-white-hue-1">arrow_back</md-icon> <md-tooltip><span translate=l10n.back></span></md-tooltip> </md-button> <span class=game-details-game-icon-container> <img ng-src={{gameDetails.userGame.systemGame.iconImage36}} alt={{gameDetails.userGame.systemGame.iconImage36}} nv-image-fallback=nv-no-loading-indicator /> </span> <span layout=column> <h4 class="color-white-hue-1 font-size-sm">{{gameDetails.userGame.systemGame.displayName}}</h4> <p class="color-white-hue-4 font-size-xxs selectable-text">{{gameDetails.userGame.systemGame.installDirectory}}</p> </span> </div> <div layout=row layout-align="center center" class=game-details-toolbar-right-container> <div class=padding-left-20> <md-button class=md-icon-button ng-click=gameDetails.toggleFavorite($event)> <div ng-if=!gameDetails.userGame.favorite> <md-tooltip><span translate=l10n.markFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18>star_border</md-icon> </div> <div ng-if=gameDetails.userGame.favorite> <md-tooltip><span translate=l10n.removeFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 color-white-hue-2">star_rate</md-icon> </div> </md-button> </div> <div class=padding-left-20> <md-button class=md-icon-button ng-click=gameDetails.toggleVisibility($event)> <div ng-if=!gameDetails.userGame.hidden> <md-tooltip><span translate=l10n.hideGame></span></md-tooltip> <md-icon md-font-set=material-icons class="md-18 color-white-hue-2">visibility</md-icon> </div> <div ng-if=gameDetails.userGame.hidden> <md-tooltip><span translate=l10n.showGame></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18>visibility_off</md-icon> </div> </md-button> </div> <img class="padding-left-16 padding-right-16" src='+n(82)+'> <div layout=row class="color-white-hue-4 font-size-xxs" layout-align="center center" ng-if=gameDetails.isPlayed()> <span translate=l10n.lastPlayed></span> <span>&nbsp;{{gameDetails.userGame.lastLaunchDate | convertUTCToTimeAgo}}</span> </div> <nv-play-game class=games-play-game nv-system-game=gameDetails.userGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_LAUNCH_LOCALGAME}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'></nv-play-game> </div> </div> </md-toolbar> <div class=games-game-optimization flex layout=column ng-if=gameDetails.doesSystemSupportOPS> <div class=constants-position-relative flex> <ui-layout options="::{disableToggle: true, disableMobileToggle: true, dividerSize: 3}" class=games-game-optimization-container> <div layout=row class="vops-image-container ui-splitbar-border" ui-layout-container min-size=249px size={{gameDetails.viewState.vopsImageContainerSize}}> <nv-vops nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} flex layout=column></nv-vops> </div> <div layout=column class=game-settings-table-container ui-layout-container min-size=210px> <nv-optimization nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} class=games-optimization layout=column flex></nv-optimization> </div> </ui-layout> </div> </div> <div layout=column class=game-system-ops-not-supported layout-align="center center" flex style=background-color:#000 ng-if=gameDetails.showOpsNotSupported()> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-notoptimized_reg class="nv-custom-icons md-48 color-white-hue-3"></md-icon> <p class="color-white-hue-3 font-size-12" translate=l10n.systemDoesNotSupportOps></p> <div layout=row layout-align="center center"> <p class="color-white-hue-3 font-size-12" translate=l10n.needToMeetSystemRequirement></p> <a ng-click=gameDetails.systemNoOpsRequirementLink() class="md-default-theme font-size-sm top-margin-linksection" flex>&nbsp;<span class=font-lowercase translate=l10n.systemRequirement></span> </a> </div> </div> <div layout=column class=game-system-ops-not-supported layout-align="center center" flex ng-if=gameDetails.opsNotDetermined> <md-icon class=md-48 md-font-set=material-icons>warning</md-icon> <p class="color-white-hue-3 font-size-12" translate=l10n.unableToReachNvidiaServers></p> </div> <div layout=column layout-align="center center" flex ng-show=gameDetails.opsSupportedRequestInProgress> <md-progress-circular id=progressIndicator class=md-accent md-diameter=30 md-mode=indeterminate></md-progress-circular> </div> </div> <md-tabs md-dynamic-height ng-if=::gameDetails.devFeatures.experimental> <md-tab label="{{\'l10n.optimization\' | translate | uppercase}}" ng-if=gameDetails.userGame.systemGame.regularSupported nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_OPTIMIZATIONS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div class="games-game-optimization constants-position-relative" layout=column> <div layout=row class=vops-image-container> <nv-vops nv-system-game=gameDetails.userGame.systemGame flex></nv-vops> </div> <div layout=row flex> <nv-optimization nv-system-game=gameDetails.userGame.systemGame nv-classic-view-enabled={{::gameDetails.classicViewEnabled}} flex class=games-optimization></nv-optimization> </div> </div> </md-tab> <md-tab label="{{\'l10n.gameInfo\' | translate | uppercase}}" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMEINFO_VIEW_GAME_DETAILS}},"url":"{{gameDetails.userGame.systemGame.shortName}}"}\'> <div layout=column> <div layout=row class=top-container> <nv-game-detail-preview nv-user-game=gameDetails.userGame class=games-game-detail-preview nv-ops-supported=gameDetails.doesSystemSupportOPS></nv-game-detail-preview> <div flex class=top-right-container> <md-toolbar> <div class=md-toolbar-tools> {{\'l10n.news\' | translate | uppercase}} </div> </md-toolbar> <md-content class=news-container> <nv-news ng-if=gameDetails.userGame.systemGame.shortName nv-short-name={{gameDetails.userGame.systemGame.shortName}} class=games-news></nv-news> </md-content> </div> </div> <div flex layout=row> <div class=bottom-left-container> <md-tabs md-border-bottom md-dynamic-height> <md-tab label="{{\'l10n.screenshots\' | translate | uppercase}}"> <md-card class="md-card-no-hover game-detail-screenshots-container"> <div ng-if=gameDetails.hasScreenshots() layout=row layout-wrap> <nv-media-tile nv-media-thumbnail={{screenshot.thumbnail}} nv-media-original={{screenshot.original}} nv-media-type={{gameDetails.mediaFileType.IMAGE}} nv-media-alt={{gameDetails.userGame.systemGame.displayName}} ng-repeat="screenshot in gameDetails.screenShots track by $index" class="common-media-tile bg-dark-im"></nv-media-tile> </div> <nv-no-content-fallback ng-if=!gameDetails.hasScreenshots() nv-tip="{{\'l10n.noContent\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> <md-tab label="{{\'l10n.videos\' | translate | uppercase}}"> <md-card class="md-card-no-hover game-detail-videos-container"> <nv-no-content-fallback ng-if=true nv-tip="{{\'l10n.noContent\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> </md-tabs> </div> <div flex> <md-tabs md-border-bottom md-dynamic-height> <md-tab label="{{\'l10n.description\' | translate | uppercase}}"> <md-card class=md-card-no-hover> <md-card-content flex ng-if=gameDetails.userGame.systemGame.longDescription> {{gameDetails.userGame.systemGame.longDescription}} </md-card-content> <nv-no-content-fallback ng-if=!gameDetails.userGame.systemGame.longDescription nv-tip="{{\'l10n.noDescription\' | translate}}" flex></nv-no-content-fallback> </md-card> </md-tab> <md-tab label="{{\'l10n.systemRequirement\' | translate | uppercase}}"> <md-card class=md-card-no-hover> <md-card-content flex></md-card-content> </md-card> </md-tab> </md-tabs> </div> </div> </div> </md-tab> </md-tabs> </div> '},function(e,t){e.exports='<md-toolbar> <div class="md-toolbar-tools font-size-xl" layout=row layout-align="space-between center"> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.games></h4> <div layout=row> <md-button class=md-icon-button ng-click=games.changeView(true) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.HOME_TOGGLE_TO_GAMES_CLASSIC_VIEW}}}\'> <md-tooltip><span translate=l10n.detailsView></span></md-tooltip> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-detailed_view class="nv-custom-icons color-white-hue-2"></md-icon> </md-button> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!games.matchFilter(\'all\')"> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'all\')" nv-action="games.setFilter(\'all\')" nv-selected-test="games.matchFilter(\'all\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_NONE}}}\'> <div translate=l10n.allNumber translate-value-number={{games.getGamesCount()}}></div> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'favorite\')" nv-action="games.setFilter(\'favorite\')" nv-selected-test="games.matchFilter(\'favorite\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_FAVORITES}}}\'> <span translate=l10n.favoritesNumber translate-value-number={{games.getFavoriteGamesCount()}}></span> </nv-select-menu-item> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'optimized\')" nv-action="games.setFilter(\'optimized\')" nv-selected-test="games.matchFilter(\'optimized\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_FILTER_OPTIMIZED}}}\'> <span translate=l10n.optimizedNumber translate-value-number={{games.getOptimizedGamesCount()}}></span> </nv-select-menu-item> <md-divider></md-divider> <nv-select-menu-item ng-disabled="games.buttonDisabled(\'hidden\')" nv-action="games.setFilter(\'hidden\')" nv-selected-test="games.matchFilter(\'hidden\')"> <span translate=l10n.hiddenNumber translate-value-number={{games.getHiddenGamesCount()}}></span> </nv-select-menu-item> </nv-select-menu> <nv-select-menu nv-md-icon=more_vert nv-label=l10n.moreDots> <nv-select-menu-item nv-action=games.scanGames() ng-disabled="games.buttonDisabled(\'scanGames\')" nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_SCANGAMES}}}\'> <span translate={{games.scanText}}></span> </nv-select-menu-item> <nv-select-menu-item ng-show=games.isGameOpsSupported ng-disabled="games.buttonDisabled(\'optimizeAll\')" nv-action=games.optimizeGames() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMETOOLBAR_MORE_OPTIMIZE_ALL}}}\'> <span translate={{games.optimizeText}}></span> </nv-select-menu-item> </nv-select-menu> </div> </div> </md-toolbar> <div ng-if=games.gameListReady() layout-fill layout=column flex class=constants-position-relative class=game-list-container> <nv-overlay class="common-overlay game-list-top-gradient constants-display-none"></nv-overlay> <nv-virtual-grid-list layout flex class=games-game-list-content> <div nv-virtual-grid-list-repeat="game in games.filteredGameList | limitTo: games.listLimitTo track by game.id" nv-top-index=games.topIndex nv-on-demand nv-repeat-item-class=games-game-tile class=games-game-tile> <nv-game-tile nv-game=game nv-game-selected=games.isGameSelected(game) nv-ops-supported=games.isGameOpsSupported nv-index=$index></nv-game-tile> </div> </nv-virtual-grid-list> <nv-overlay class="common-overlay common-container-gradient game-list-bottom-gradient" nv-position=bottom></nv-overlay> </div> <nv-no-content-fallback ng-if=games.showNoGameFallbackMessage() nv-tip=l10n.gamesYouPlay class=no-game-container flex> <button ng-click=games.findAWayToPlay() class="md-button md-accent" translate=l10n.viewSupportedGames nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_FIND_A_WAY_TO_PLAY}},"url":"{{::games.findPlayUrl}}"}\'></button> </nv-no-content-fallback> <nv-no-content-fallback ng-show=games.showFallbackMessage() nv-tip="{{ games.fallbackMessage()}}" nv-image-src={{games.fallbackImage()}} class=no-game-container flex> <button ng-click=games.setFallbackFilter() class="font-size-sm md-button md-accent" translate={{games.fallbackButtonText()}}></button> </nv-no-content-fallback> '},function(e,t){e.exports='<div layout=row layout-align="start center" class=game-ops-toolbar-tools> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-notoptimized_reg class="nv-custom-icons game-optimization-state-icon" ng-if=gameSettings.showUnoptimizedIcon()></md-icon> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons game-optimization-state-icon md-accent" ng-if=gameSettings.showOptimizedIcon()></md-icon> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-alert-circle_reg class="nv-custom-icons game-optimization-state-icon" ng-if=gameSettings.showWarningIcon()></md-icon> <span class="font-size-sm color-white-hue-3 game-ops-message" flex translate={{gameSettings.getMessage()}}></span> <md-button ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-if=gameSettings.showRevertButton() aria-label="Game Optimization" class="md-raised md-secondary game-optimize-button line-height-sm1" ng-click=gameSettings.optimizeGame() ng-mouseenter=gameSettings.setShowBorder(true) ng-mouseleave=gameSettings.setShowBorder(false)> <span translate=l10n.revert></span> </md-button> <md-button ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-if=gameSettings.showOptimizeButton() aria-label="Game Optimization" class="md-raised md-accent game-optimize-button line-height-sm1 color-white-important" ng-click=gameSettings.optimizeGame() ng-mouseenter=gameSettings.setShowBorder(true) ng-mouseleave=gameSettings.setShowBorder(false)> <span translate=l10n.optimize></span> </md-button> <md-button class=md-icon-button ng-hide=gameSettings.hideCustomization() ng-disabled=gameSettings.isOptimizeOrCustomOpsButtonDisabled() ng-click=gameSettings.openCustomOps()> <md-tooltip><span translate=l10n.customSettings></span></md-tooltip> <md-icon md-font-set=material-icons class=color-white-hue-3>build</md-icon> </md-button> </div> <div class=game-setting-list-container flex layout=column> <settings-header-container layout=row class="font-size-sm color-white-hue-3 font-uppercase constants-position-relative"> <div flex=40 translate=l10n.setting class=bg-dark-im-hue-3></div> <div flex=30 translate={{gameSettings.currentSettingHeader}} class=bg-dark-im-hue-3></div> <div flex ng-hide=!gameSettings.showOptimalSettingsInColumn() translate={{gameSettings.getOptimalSettingHeader()}} class="bg-dark-im-hue-3 settings-header-container-optimal-row"></div> <div flex ng-show=!gameSettings.showOptimalSettingsInColumn() class="bg-grey-im-hue-6 settings-header-container-optimal-row"></div> <div flex=100 layout=row layout-fill ng-show=gameSettings.showOptimalBorder() class=games-optimal-settings-container layout-align="end center"> <optimal-settings-container flex=30 layout-fill></optimal-settings-container> </div> </settings-header-container> <div class="constants-position-relative font-size-xxs game-setting-list-content" layout=column> <settings-container class="game-settings-container bg-grey-im-hue-6 common-container-overflow"> <nv-game-settings-item ng-repeat="setting in gameSettings.settings"> <header ng-if=gameSettings.showHeader($index) layout=row> <div translate={{gameSettings.headerValue(setting.type)}} class="font-uppercase bg-grey-im-hue-4 color-white-hue-3" flex=70></div> <div flex ng-hide=!gameSettings.showOptimalSettingsInColumn() class=bg-grey-im-hue-4></div> </header> <div layout=row class="game-settings-list color-white-hue-4" ng-mouseenter=gameSettings.mouseOver(setting.name) ng-mouseleave=gameSettings.mouseOver(null)> <div flex=40 ng-class="{\'bg-grey-im-hue-5\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}">{{setting.name}}</div> <div flex=30 ng-class="{\'bg-grey-im-hue-5\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}" nv-ellipsis-lines=1>{{setting.value}} <nv-dsr-info ng-if=setting.isCurrentDsrResolution></nv-dsr-info> </div> <div flex ng-if=gameSettings.showOptimalSettingsInColumn() ng-class="{\'md-accent foreground\': gameSettings.isOptimalSettingDifferent(setting.value, setting.optimalValue),\'bg-grey-im-hue-5\': $odd,\'bg-green-hv-hue-1\': gameSettings.isMouseHover(setting.name)}" class=optimal-settings-column nv-ellipsis-lines=1>{{setting.optimalValue}} <nv-dsr-info ng-if=setting.isOptimalDsrResolution></nv-dsr-info> </div> </div> </nv-game-settings-item> </settings-container> <div flex=100 layout=row layout-fill ng-show=gameSettings.showOptimalBorder() class=games-optimal-settings-container layout-align="end center"> <optimal-settings-container flex=30 layout-fill></optimal-settings-container> </div> <optimal-settings layout=row ng-show=gameSettings.showIconInColumn() class=games-optimal-settings layout-align="center center"> <div layout=column> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons md-accent"></md-icon> <p translate={{gameSettings.getOptimalMessage()}} class="tips color-white-hue-1"></p> </div> </optimal-settings> </div> <nv-overlay class="common-overlay common-container-gradient margin-zero game-settings-list-gradient" nv-position=bottom></nv-overlay> </div> <nv-overlay class="common-overlay constants-z-layers-two" layout-fill ng-show=gameSettings.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=30 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> ';
},function(e,t){e.exports="<md-dialog flex=33 class=md-padding> <h3>{{'l10n.tags' | translate}}:{{tagsModal.gameDisplayName}}</h3> <md-dialog-content> <md-chips ng-model=tagsModal.gameTags readonly=false placeholder=\"{{ 'l10n.enterTag' | translate}}\" secondary-placeholder=\"{{ 'l10n.secondaryTag' | translate}}\"> </md-chips> </md-dialog-content> <div class=md-actions layout=row> <md-button ng-click=tagsModal.managetags() class=\"md-raised md-primary\"> {{'l10n.manageTags' | translate | uppercase}} </md-button> <span flex></span> <md-button ng-click=tagsModal.accept() class=\"md-raised md-primary\"> {{'l10n.done' | translate | uppercase}} </md-button> <md-button ng-click=tagsModal.cancel() class=\"md-raised md-primary\"> {{'l10n.cancel' | translate | uppercase}} </md-button> </div> </md-dialog> "},function(e,t){e.exports='<md-card layout=column class=game-tile-card ng-click=gameTile.detailsButtonClickHandler() ng-mouseenter=gameTile.showOverlay(true) ng-mouseleave=gameTile.showOverlay(false)> <div layout=column flex class="image-container constants-position-relative"> <nv-overlay layout=column flex layout-fill class="common-overlay light-background background-animated" ng-if=gameTile.overlayVisible> <div flex layout-fill> <div layout=row layout-align="end end"> <div class=padding-right-top-8> <md-button class="md-icon-button md-button no-size opacity-animated" ng-click=gameTile.toggleFavorite($event) aria-label=l10n.markFavorite> <div ng-if=!gameTile.userGame.favorite> <md-tooltip><span translate=l10n.markFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class=md-16>star_border</md-icon> </div> <div ng-if=gameTile.userGame.favorite> <md-tooltip><span translate=l10n.removeFavorite></span></md-tooltip> <md-icon md-font-set=material-icons class="md-16 color-white-hue-2">star_rate</md-icon> </div> </md-button> </div> <div class=padding-right-top-8> <md-button class="md-icon-button md-button no-size opacity-animated" ng-click=gameTile.toggleVisibility($event) aria-label=l10n.hideGame> <div ng-if=!gameTile.userGame.hidden> <md-tooltip><span translate=l10n.hideGame></span></md-tooltip> <md-icon md-font-set=material-icons class="md-16 color-white-hue-2">visibility</md-icon> </div> <div ng-if=gameTile.userGame.hidden> <md-tooltip><span translate=l10n.showGame></span></md-tooltip> <md-icon md-font-set=material-icons class=md-16>visibility_off</md-icon> </div> </md-button> </div> </div> <div flex layout-fill layout-align="center center" layout=column class=position-play-detail-container> <span flex></span> <nv-play-game class="games-play-game opacity-animated" nv-system-game=nvGame.systemGame nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.GAMELIST_LAUNCH_LOCALGAME}},"url":"{{::nvGame.systemGame.shortName}}"}\'></nv-play-game> <md-button class="md-raised md-secondary color-white-important opacity-animated" ng-click=gameTile.detailsButtonClickHandler() nv-telemetry=\'{"tarconID":{{::$root.telemetryEventNames.HOME_VIEW_GAME_INFO}},"url":"{{::nvGame.systemGame.shortName}}"}\' aria-label=l10n.details> <span translate=l10n.details></span> </md-button> <span flex></span> </div> </div> </nv-overlay> <nv-optimized-icon nv-system-game=nvGame.systemGame class=games-optimized-icon ng-if=::gameTile.isGameOpsSupported></nv-optimized-icon> <img ng-src={{::nvGame.systemGame.coverImage}} alt={{::nvGame.systemGame.displayName}} nv-image-fallback=nv-no-loading-indicator nv-image-format> </div> <md-card-content class=game-title> <p nv-ellipsis-lines=1 class="font-size-xxs line-height-sm1 margin-zero color-white-hue-1">{{::nvGame.systemGame.displayName}}</p> <md-tooltip md-autohide ng-if=gameTile.showTooltip>{{::nvGame.systemGame.displayName}}</md-tooltip> </md-card-content> </md-card> '},function(e,t){e.exports="<md-tabs md-dynamic-height flex layout=column ng-if=optimization.frlSupportAndEnabled() class=game-optimization-settings-tabs md-selected=optimization.selectedTab> <md-tab md-on-select=optimization.changeSelectedTab(optimization.opsTab.PLUGGED_IN)> <md-tab-label> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-pluggedin class=nv-custom-icons></md-icon> <span translate=l10n.pluggedIn></span> </md-tab-label> <md-tab-body> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_AC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column></nv-game-settings> </md-tab-body> </md-tab> <md-tab flex md-on-select=optimization.changeSelectedTab(optimization.opsTab.ON_BATTERY)> <md-tab-label> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-onbattery class=nv-custom-icons></md-icon> <span translate=l10n.onBattery></span> </md-tab-label> <md-tab-body> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_DC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column></nv-game-settings> </md-tab-body> </md-tab> </md-tabs> <div ng-if=!optimization.frlSupportAndEnabled() flex layout=column> <nv-game-settings nv-system-game=optimization.systemGame nv-current-setting-type=optimization.settingType.SETTING_AC nv-classic-view-enabled={{::optimization.classicViewEnabled}} class=games-game-settings ng-if=optimization.systemGame nv-custom-ops-open=optimization.customOpsOpen flex layout=column nv-desktop-mode=!optimization.frlSupportAndEnabled()></nv-game-settings> </div> "},function(e,t){e.exports='<div class=games-optimized-icon-wrapper> <md-icon md-font-set=nv-custom-icons class="nv-custom-icons color-medium-gray-hue-1" ng-class=optimizedIcon.fontIconClass></md-icon> </div> '},function(e,t){e.exports='<md-button class="md-raised md-accent color-white-important" ng-click=vm.playLocalGame($event) aria-label=l10n.play> <span translate=l10n.play></span> </md-button> '},function(e,t){e.exports='<div class=vops-container ng-if=vops.showLoadingIndicator() layout=row layout-align="center center" flex> <md-progress-circular class=md-accent md-diameter=60 md-mode=indeterminate> </md-progress-circular> </div> <nv-no-content-fallback ng-if=vops.showUnavailable() nv-tip="{{\'l10n.noImagesAvailable\' | translate}}" flex></nv-no-content-fallback> <nv-no-content-fallback ng-if=vops.showVopsFailed() nv-tip="{{\'l10n.UnableToLoadImages\' | translate}}" flex></nv-no-content-fallback> <nv-carousel ng-if=vops.showVopsPreview() nv-slides=vops.gameVops nv-selected-index=0 flex layout=column /> '},function(e,t){e.exports="<md-content flex class=md-padding> <md-tabs flex md-border-bottom md-dynamic-height md-selected=gfn.pageNo> <md-tab label=\"{{'l10n.feature' | translate | uppercase }}\"> <nv-gfn-feature></nv-gfn-feature> </md-tab> <md-tab label=\"{{'l10n.freeForMembers' | translate}}\"> <nv-game-store nv-game-type=freeForMember></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.buyAndPlay' | translate}}\"> <nv-game-store nv-game-type=buyAndPlay></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.mostPopular' | translate}}\"> <nv-game-store nv-game-type=mostPopular></nv-game-store> </md-tab> <md-tab label={{gfn.labels.gameSeries1}}> <nv-game-store nv-game-type=gameSeries1></nv-game-store> </md-tab> <md-tab label={{gfn.labels.gameSeries2}}> <nv-game-store nv-game-type=gameSeries2></nv-game-store> </md-tab> <md-tab label=\"{{'l10n.genres' | translate}}\"> <nv-gfn-genres></nv-gfn-genres> </md-tab> </md-tabs> </md-content> "},function(e,t,n){e.exports="<div flex layout=row> <div layout=column> <div class=gfn-gfn-feature> <img src="+n(533)+" alt=\"{{'l10n.alt.background' | translate}}\" layout-fill=\"\" class=ng-scope /> <h1>{{ gfnFeature.bannerTexts.bannerPlayGame1 | uppercase}}</h1> <h1>{{ gfnFeature.bannerTexts.bannerPlayGame2| uppercase}}</h1> <h3 class=gfn-gfn-feature-subscribe> <a href=#>{{ gfnFeature.bannerTexts.bannerSubscribe }}</a> </h3> <div class=gfn-gfn-feature-pane> <h3>{{'l10n.news' | translate | uppercase}}</h3> <div flex> <nv-news nv-news-source=gfn></nv-news> </div> </div> </div> </div> <div flex layout=column class=gfn-gfn-feature-pane> <h3 class=md-flex>{{'l10n.latestGames' | translate | uppercase}}</h3> <div flex> <nv-latest-games></nv-latest-games> </div> </div> </div> "},function(e,t){e.exports=' <md-list-item layout=column layout-align="start start"> <md_button layout-align="start start" class=gfn-store-button ng-click=gameItem.onClickedGameItem()> <img ng-src={{gameItem.nvGame.infoImage}} alt=gameitem /> <div layout=column layout-align="start start" class=md-list-item-text> <p>{{gameItem.nvGame.displayName}}</p> <p ng-if=gameItem.nvGame.storeInfo.isPurchased> {{\'l10n.purchased\' | translate}} </p> <p ng-if=gameItem.isNeedPurchase()> ${{gameItem.nvGame.storeInfo.price}} </p> </div> </md_button> </md-list-item> '},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-game-store-item ng-repeat="gameItem in games.gameStoreList" nv-game=gameItem nv-show-type=games.gameType class=gfn-games-item></nv-game-store-item> </md-list> </md-content> '},function(e,t){e.exports='<md-content flex class="games-game-details md-padding"> <md-button ng-click="$state.go( \'main.auth.gfn\', {tabId: \'6\'}) " class=md-padding> &lt; {{gfnGenreGames.goBackString | translate}} </md-button> <nv-game-store nv-game-type="genre "></nv-game-store> </md-content> '},function(e,t){e.exports='<md-list-item layout=column layout-align="start start"> <md-button layout=column layout-align="start start" class=gfn-store-button ng-click="$state.go(\'main.auth.gfn.genreGames\', {id: gfnGenreItem.id})"> <img ng-src={{gfnGenreItem.img}} alt=genreItem /> <div layout-align="start start" class=md-list-item-text> <p>{{gfnGenreItem.name | translate}}</p> </div> </md-button> </md-list-item> '},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-genre-item ng-repeat="genre in gfnGenres.genreList" nv-genre=genre class=gfn-genre-games-item></nv-genre-item> </md-list> </md-content> '},function(e,t){e.exports=" <md-list-item layout=column layout-align=\"start start\" class=bg-dark-hv> <img ng-src={{nvGame.infoImage}} alt=gameitem /> <div style=width:inherit layout=row> <div class=md-list-item-text> <p>{{nvGame.displayName}}</p> <p class=color-light-gray> {{'l10n.releaseDate' | translate }} {{nvGame.releaseDate}} </p> </div> </div> </md-list-item> "},function(e,t){e.exports='<md-content layout=row layout-align="start start" layout-wrap> <md-list layout=row layout-align="start start" layout-wrap> <nv-latest-game-item ng-repeat="gameItem in games.latestGameList" nv-game=gameItem class=gfn-games-item></nv-latest-game-item> </md-list> </md-content> '},function(e,t){e.exports='<html> <head> <style>body{background-color:#1a1a1a;font-family:Roboto,sans-serif}.centered{position:absolute;top:50%;left:50%;margin-right:50%;transform:translate(-50%,-50%)}p{color:rgba(255,255,255,.3);width:410px;text-align:center}a{color:#76B900;text-transform:capitalize;text-decoration:none}</style> </head> <body> <div class=centered> <p aria-hidden=true> <img src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4="> </p> <p> {{errorMessage}} </p> <p> <a href=.>{{retry}}</a> </p> </div> </body> </html> '},function(e,t,n){e.exports='<md-menu md-offset="213 25" md-position-mode="target-right target" data-ng-init=notifications.onInit($mdOpenMenu);> <md-button class="md-icon-button margin-right-16" ng-click="$mdOpenMenu(); notifications.showNotifications()"> <md-tooltip><span translate=l10n.notifications></span></md-tooltip> <md-icon md-font-set=material-icons class=md-18 nv-notification-indicator={{notifications.showIndicator}}>notifications</md-icon> </md-button> <md-menu-content md-menu-align-target md-menu-origin class="md-primary md-hue-1 notifications-md-menu-content margin-zero padding-zero common-container-overflow bg-dark-vh-hue-2"> <img class="notification-direction margin-bottom-2" ng-src='+n(507)+' /> <md-list class="notifications-md-list margin-zero padding-zero"> <md-list-item class="no-focus-outline cursor-pointer-on-hover margin-bottom-2" ng-repeat="notification in notifications.notificationList"> <div class=no-focus-outline ng-click=notifications.onNotificationClicked(notification); layout=column flex layout-fill> <div layout=row layout-fill ng-if="!notifications.showBigNotification($index, notification)"> <div class=small-notification-image-container> <img ng-src={{notification.artWork}} flex=none layout-fill alt={{::notification.artWork}} nv-image-fallback=nv-no-loading-indicator /> </div> <div flex layout=column class="small-notification-detail margin-left-36 margin-right-12 margin-top-zero"> <span class="color-white-hue-5 font-size-xxs line-height-12 constants-position-absolute right-12">{{notification.availableTime | convertUTCToTimeAgo}}</span> <div layout=column flex layout-align="center start"> <p class="font-size-sm margin-zero padding-zero" nv-ellipsis-lines=1>{{notification.heading}}</p> <p class="color-green font-size-xxs margin-zero padding-zero margin-top-4" nv-ellipsis-lines=2>{{notification.description}}</p> </div> </div> </div> <div layout=column flex layout-fill ng-if="notifications.showBigNotification($index, notification)"> <div class=big-notification-image-container> <img ng-src={{notification.artWorkHighRes}} flex=none layout-fill alt={{::notification.artWork}} nv-image-fallback=nv-no-loading-indicator /> </div> <div layout=column class="big-notification-detail margin-top-8"> <span class="color-white-hue-5 font-size-xxs line-height-12 constants-position-absolute right-12">{{notification.availableTime | convertUTCToTimeAgo}}</span> <div layout=column flex layout-align="center center" class="margin-right-36 margin-left-36"> <p class="font-size-xl1 margin-zero padding-zero">{{notification.heading}}</p> <p class="color-green font-size-xl margin-zero padding-zero margin-top-4" nv-ellipsis-lines=2>{{notification.description}}</p> </div> </div> </div> </div> </md-list-item> <md-list-item ng-if=!notifications.notificationList.length> <div layout=row flex layout-fill layout-align="center center" class=notifications-empty-state> <div layout=column> <md-icon md-font-set=material-icons class=md-18>notifications</md-icon> <p translate=l10n.noNotifications></p> </div> </div> </md-list-item> </md-list> </md-menu-content> </md-menu> '},function(e,t,n){e.exports='<div class=oobe-dialog-right-pane flex layout=column> <div class="title large" layout=column> <h1 translate=l10n.logInWithYourAccount></h1> <div class=message-banner ng-if=oobeAuthChooseCtrl.messageBanner()> <span translate={{oobeAuthChooseCtrl.messageBanner()}}></span> </div> </div> <md-content class=content flex layout=column layout-align="start center"> <div class="login-button oobe-login-pointer" ng-disabled=!oobeAuthChooseCtrl.onlineState.online ng-attr-tabindex="{{oobeAuthChooseCtrl.onlineState.online ? 1 : -1}}" ng-click=oobeAuthChooseCtrl.onClickNVIDIA()> <img alt="{{\'l10n.alt.nvidiaSignIn\' | translate}}" src='+n(512)+'> <div class="login-text color-white" translate=l10n.alt.nvidiaSignIn></div> </div> <div class="login-button oobe-login-pointer" ng-disabled=!oobeAuthChooseCtrl.onlineState.online ng-attr-tabindex="{{oobeAuthChooseCtrl.onlineState.online ? 2 : -1}}" ng-click=oobeAuthChooseCtrl.onClickGoogle()> <img alt="{{\'l10n.logInWithGoogle\' | translate}}" src='+n(510)+'> <div class="login-text color-dim-gray" translate=l10n.logInWithGoogle></div> </div> <div class="login-button oobe-login-pointer" ng-disabled=!oobeAuthChooseCtrl.onlineState.online ng-attr-tabindex="{{oobeAuthChooseCtrl.onlineState.online ? 3 : -1}}" ng-click=oobeAuthChooseCtrl.onClickFacebook()> <img alt="{{\'l10n.alt.facebookSignIn\' | translate}}" src='+n(509)+'> <div class="login-text color-white" translate=l10n.alt.facebookSignIn></div> </div> </md-content> </div> '},function(e,t){e.exports='<form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthEditEmailCtrl.emailForm ng-submit=oobeAuthEditEmailCtrl.onDone()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthEditEmailCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=70></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate=l10n.editEmailAddress></h1> </div> <div class=message-banner ng-if=oobeAuthEditEmailCtrl.message translate={{oobeAuthEditEmailCtrl.message}}></div> <md-content flex layout=column class=content> <div class=secondary-title translate=l10n.enterYourInformation></div> <div layout=column layout-align="start start"> <md-input-container layout-fill class=md-icon-right ng-init="oobeAuthEditEmailCtrl.passwordBoxType = \'password\'"> <label translate=l10n.currentPassword></label> <input nv-input name=password ng-model=oobeAuthEditEmailCtrl.password ng-change=oobeAuthEditEmailCtrl.passwordChanged() required tabindex=1 type={{oobeAuthEditEmailCtrl.passwordBoxType}} /> <md-icon ng-if="oobeAuthEditEmailCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthEditEmailCtrl.passwordBoxType = \'text\'"></md-icon> <md-icon ng-if="oobeAuthEditEmailCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthEditEmailCtrl.passwordBoxType = \'password\'"></md-icon> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.password.$error ng-show=oobeAuthEditEmailCtrl.emailForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=invalidPassword> <div translate=l10n.incorrectPassword></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.newEmailAddress></label> <input nv-input name=email ng-model=oobeAuthEditEmailCtrl.email ng-change=oobeAuthEditEmailCtrl.emailChanged() required tabindex=2 type=email /> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.email.$error ng-show=oobeAuthEditEmailCtrl.emailForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill> <label translate=l10n.reEnterEmailAddress></label> <input nv-input name=reEnterEmail ng-model=oobeAuthEditEmailCtrl.reEnterEmail required nv-fields-match={{oobeAuthEditEmailCtrl.emailForm.email.$viewValue}} tabindex=3 type=email /> <div class=error-message ng-messages=oobeAuthEditEmailCtrl.emailForm.reEnterEmail.$error ng-show=oobeAuthEditEmailCtrl.emailForm.reEnterEmail.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.emailAddressesDoNotMatch></div> </div> </div> </md-input-container> </div> </md-content> <div class=md-actions layout=row dir=rtl> <md-button type=submit class=md-accent translate=l10n.done></md-button> <md-button ng-click=oobeAuthEditEmailCtrl.onCancel() translate=l10n.cancel></md-button> <span flex></span> </div> </form> '},function(e,t){e.exports='<form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthForgotPasswordCtrl.forgotForm novalidate ng-submit=oobeAuthForgotPasswordCtrl.onSubmit()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthForgotPasswordCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=70></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate=l10n.forgotPassword></h1> </div> <div class=message-banner ng-if=oobeAuthForgotPasswordCtrl.message translate={{oobeAuthForgotPasswordCtrl.message}}></div> <md-content flex layout=column class=content> <div ng-if=!oobeAuthForgotPasswordCtrl.sentView> <div class=secondary-title translate=l10n.forgotPasswordText></div> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input name=email ng-model=oobeAuthForgotPasswordCtrl.email required tabindex=1 type=email /> <div class=error-message ng-messages=oobeAuthForgotPasswordCtrl.forgotForm.email.$error ng-show=oobeAuthForgotPasswordCtrl.forgotForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.enterYourEmailAddress></div> </div> </div> </md-input-container> </div> <div ng-if=oobeAuthForgotPasswordCtrl.sentView> <div class=secondary-title translate-values={{oobeAuthForgotPasswordCtrl}} translate=l10n.forgotPasswordSentText></div> </div> </md-content> <div class=md-actions layout=row dir=rtl ng-if=!oobeAuthForgotPasswordCtrl.sentView> <md-button type=submit class=md-accent translate=l10n.submit> </md-button> <span flex></span> <md-button ng-click=oobeAuthForgotPasswordCtrl.onCancel() translate=l10n.cancel> </md-button> </div> <div class=md-actions layout=row dir=rtl ng-if=oobeAuthForgotPasswordCtrl.sentView> <md-button type=submit class=md-accent ng-click=oobeAuthForgotPasswordCtrl.onDone() translate=l10n.done> </md-button> <span flex></span> </div> </form> '},function(e,t){e.exports='<form nv-input-autofocus nv-key-code=27 nv-key-action=oobeAuthNvLoginCtrl.onClickClose() class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthNvLoginCtrl.loginForm novalidate ng-submit=oobeAuthNvLoginCtrl.onSubmit()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthNvLoginCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=70></md-progress-circular> </waiting-overlay> <div class="title large" layout=column> <div class=logo-title layout=row layout-fill> <md-icon class="title-logo nv-custom-icons" md-font-icon=icon-nvlogo></md-icon> <h1 flex translate=l10n.logInWithNVIDIA></h1> </div> <div class=message-banner ng-if=oobeAuthNvLoginCtrl.messageBanner()> <span translate={{oobeAuthNvLoginCtrl.messageBanner()}} translate-values={{oobeAuthNvLoginCtrl.messageTranslateValues}}></span> </div> </div> <md-content class=content flex layout=column> <div layout=column layout-align="start start"> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input name=email maxlength={{oobeAuthNvLoginCtrl.validationObject.email.maxsize}} ng-change=oobeAuthNvLoginCtrl.fieldsChanged() ng-model=oobeAuthNvLoginCtrl.email required type=email /> <div class=error-message ng-messages=oobeAuthNvLoginCtrl.loginForm.email.$error ng-show=oobeAuthNvLoginCtrl.loginForm.email.$touched md-auto-hide=false> <div ng-message=email> <div translate=l10n.invalidEmail></div> </div> <div ng-message=required> <div translate=l10n.enterYourEmailAddress></div> </div> </div> </md-input-container> <md-input-container layout-fill class=md-icon-right ng-init="oobeAuthNvLoginCtrl.passwordBoxType = \'password\'"> <label translate=l10n.password></label> <input nv-input name=password maxlength={{oobeAuthNvLoginCtrl.validationObject.password.maxsize}} ng-change=oobeAuthNvLoginCtrl.fieldsChanged() ng-model=oobeAuthNvLoginCtrl.password required type={{oobeAuthNvLoginCtrl.passwordBoxType}} /> <md-icon ng-if="oobeAuthNvLoginCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthNvLoginCtrl.passwordBoxType = \'text\'"></md-icon> <md-icon ng-if="oobeAuthNvLoginCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthNvLoginCtrl.passwordBoxType = \'password\'"></md-icon> <div class=error-message ng-messages=oobeAuthNvLoginCtrl.loginForm.password.$error ng-show=oobeAuthNvLoginCtrl.loginForm.password.$touched md-auto-hide=false> <div layout=row ng-message=required> <div translate=l10n.enterYourPassword></div> </div> </div> </md-input-container> </div> <div> <md-button class=forgot-password ng-click=oobeAuthNvLoginCtrl.onClickForgotPassword() translate=l10n.forgotPassword> </md-button> </div> </md-content> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important" ng-disabled=!oobeAuthNvLoginCtrl.onlineState.online type=submit translate=l10n.logIn></md-button> <md-button ng-click=oobeAuthNvLoginCtrl.onClickBack() translate=l10n.back></md-button> <span flex></span> <md-button ng-disabled=!oobeAuthNvLoginCtrl.onlineState.online ng-click=oobeAuthNvLoginCtrl.onClickRegister() translate=l10n.createNewAccount></md-button> <span class=button-helper translate=l10n.dontHaveAnAccount dir=auto></span> </div> </form> '},function(e,t){e.exports='<form nv-input-autofocus nv-key-code=27 nv-key-action=oobeAuthNvRegisterCtrl.onClickClose() class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthNvRegisterCtrl.regForm ng-submit=oobeAuthNvRegisterCtrl.onSubmit() novalidate> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthNvRegisterCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=70></md-progress-circular> </waiting-overlay> <div class="title large" layout=column> <div class=logo-title layout=row layout-fill> <md-icon class="title-logo nv-custom-icons" md-font-icon=icon-nvlogo></md-icon> <h1 flex translate={{oobeAuthNvRegisterCtrl.title}} ng-if="oobeAuthNvRegisterCtrl.regView === \'register\'"></h1> <h1 flex translate=l10n.registrationFailed ng-if="oobeAuthNvRegisterCtrl.regView === \'coppa\'"></h1> </div> <div class=message-banner ng-if=oobeAuthNvRegisterCtrl.messageBanner()> <span translate={{oobeAuthNvRegisterCtrl.messageBanner()}}></span> </div> </div> <md-content class=content flex layout=column ng-show="oobeAuthNvRegisterCtrl.regView === \'register\'"> <div layout=column layout-align="start start"> <md-input-container layout-fill> <label translate=l10n.displayName></label> <input nv-input maxlength={{oobeAuthNvRegisterCtrl.validationObject.displayName.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.displayName}} ng-trim=false name=displayName ng-model=oobeAuthNvRegisterCtrl.regModel.displayName nv-valid-display-name required> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.displayNameErrorWrapper md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=extendedPattern> <div translate=l10n.displayNameReqs translate-values={{oobeAuthNvRegisterCtrl.validationObject.displayName}}></div> </div> <div ng-message=notAvailable> <div translate=l10n.displayNameNotAvailable></div> </div> </div> </md-input-container> <div class=input-helper translate=l10n.displayNameDetails></div> <md-input-container layout-fill> <label translate=l10n.emailAddress></label> <input nv-input maxlength={{oobeAuthNvRegisterCtrl.validationObject.email.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.email}} name=email ng-model=oobeAuthNvRegisterCtrl.regModel.email ng-change=oobeAuthNvRegisterCtrl.emailChanged() required type=email ng-disabled=oobeAuthNvRegisterCtrl.emailDisabled> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.regForm.email.$error ng-show=oobeAuthNvRegisterCtrl.regForm.email.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="extendedPattern, email"> <div translate=l10n.invalidEmail></div> </div> <div ng-message=notAvailable> <div translate=l10n.emailAddressInUse></div> </div> </div> </md-input-container> <md-input-container layout-fill class=md-icon-right ng-if="oobeAuthNvRegisterCtrl.nvType !== \'social\'" ng-init="oobeAuthNvRegisterCtrl.passwordBoxType=\'password\'"> <label translate=l10n.password></label> <input nv-input minlength={{oobeAuthNvRegisterCtrl.validationObject.password.minsize}} maxlength={{oobeAuthNvRegisterCtrl.validationObject.password.maxsize}} nv-extended-pattern={{oobeAuthNvRegisterCtrl.validationObject.password}} name=password ng-model=oobeAuthNvRegisterCtrl.regModel.password required type={{oobeAuthNvRegisterCtrl.passwordBoxType}}> <md-icon ng-if="oobeAuthNvRegisterCtrl.passwordBoxType == \'password\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye ng-click="oobeAuthNvRegisterCtrl.passwordBoxType = \'text\'"></md-icon> <md-icon ng-if="oobeAuthNvRegisterCtrl.passwordBoxType == \'text\'" class="nv-custom-icons oobe-login-pointer" md-font-icon=icon-eye-off ng-click="oobeAuthNvRegisterCtrl.passwordBoxType = \'password\'"></md-icon> <div class=error-message ng-messages=oobeAuthNvRegisterCtrl.regForm.password.$error ng-show=oobeAuthNvRegisterCtrl.regForm.password.$touched md-auto-hide=false> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="minlength, maxlength, extendedPattern"> <div translate-values="{{ {minsize: oobeAuthNvRegisterCtrl.validationObject.password.minsize || 9, required: oobeAuthNvRegisterCtrl.validationObject.password.patternGroups.required || 3} }}" translate=l10n.passwordReqs></div> </div> </div> </md-input-container> <nv-custom-date ng-model=oobeAuthNvRegisterCtrl.regModel.birthdate title-string={{oobeAuthNvRegisterCtrl.dateOfBirthTitle}}> </nv-custom-date> <md-checkbox ng-model=oobeAuthNvRegisterCtrl.regModel.subscribe> <div translate=l10n.subscribe></div> </md-checkbox> <md-checkbox name=agreeToTerms ng-model=oobeAuthNvRegisterCtrl.regModel.agree required> <span translate=l10n.agreeToTerms translate-values=\'{agreeToTermsLink: "class=\\"in-app-link\\" ng-click=\\"oobeAuthNvRegisterCtrl.onClickAgreeToTerms($event)\\""}\' translate-compile></span> </md-checkbox> </div> </md-content> <md-content class=content flex layout=column ng-show="oobeAuthNvRegisterCtrl.regView === \'coppa\'"> <p translate=l10n.coppaText></p> </md-content> <div class="md-actions shadow-top" layout=row dir=rtl ng-if="oobeAuthNvRegisterCtrl.regView === \'register\'"> <md-button ng-disabled=!oobeAuthNvRegisterCtrl.onlineState.online type=submit class="md-raised md-accent color-white-important" translate=l10n.register></md-button> <md-button ng-click=oobeAuthNvRegisterCtrl.onClickBack() translate=l10n.back></md-button> <span flex></span> </div> <div class=md-actions layout=row dir=rtl ng-if="oobeAuthNvRegisterCtrl.regView === \'coppa\'"> <md-button ng-click=oobeAuthNvRegisterCtrl.onClickDone() translate=l10n.done></md-button> <md-button ng-click=oobeAuthNvRegisterCtrl.onClickPrivacyPolicy() translate=l10n.privacyPolicy></md-button> <span flex></span> </div> </form> '},function(e,t){e.exports='<md-content class=oobe-dialog-right-pane layout=column layout-align="center center" flex> <img ng-src={{oobeAuthSyncCtrl.avatar.url}} class=md-avatar alt={{oobeAuthSyncCtrl.displayName}} nv-fallback-src={{oobeAuthSyncCtrl.defaultAvatarUrl}} nv-circle=medium /> <p class="font-size-lg color-white-hue-1">{{oobeAuthSyncCtrl.displayName}}</p> <p class=color-light-gray translate=l10n.loginProgress></p> </md-content> '},function(e,t){e.exports='<form class=oobe-dialog-right-pane autocomplete=off flex layout=column name=oobeAuthVerificationCtrl.verificationForm ng-submit=oobeAuthVerificationCtrl.onRecheck()> <waiting-overlay layout layout-align="center center" ng-if=oobeAuthVerificationCtrl.waiting> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=70></md-progress-circular> </waiting-overlay> <div class=title layout=row layout-align="start center"> <h1 flex translate={{oobeAuthVerificationCtrl.title}}></h1> </div> <div class=message-banner ng-if=oobeAuthVerificationCtrl.message translate={{oobeAuthVerificationCtrl.message}}></div> <md-content flex layout=column class=content> <div class=dialog-email-verification-email flex layout layout-align="center center"> <span>{{oobeAuthVerificationCtrl.translateValues.email}}</span> <md-button ng-if=oobeAuthVerificationCtrl.nvSessionObject.user.core.passwordLastChanged class=md-icon-button ng-click=oobeAuthVerificationCtrl.onEditEmail()> <md-icon md-font-set=material-icons class=md-18>edit</md-icon> </md-button> </div> <div class=secondary-title translate-values={{oobeAuthVerificationCtrl.translateValues}} translate=l10n.verficationEmailHasBeenSent></div> <div class=secondary-title translate=l10n.clickContinueAfter></div> </md-content> <div class=md-actions layout=row dir=rtl> <md-button type=submit class=md-accent translate=l10n.continue></md-button> <md-button ng-click=oobeAuthVerificationCtrl.onResend() translate=l10n.resendVerification></md-button> <span flex></span> <md-button ng-click=oobeAuthVerificationCtrl.onChangeUser() translate=l10n.changeUser></md-button> </div> </form> ';
},function(e,t){e.exports='<md-content layout=row flex> <div class=oobe-login-left-side> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.oobeGiftsOverlayText></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.oobeSettingsOverlayText></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.oobeShieldOverlayText></p> </div> </div> <div flex layout=column ng-switch on=oobeAuthCtrl.nvActiveAuthView> <nv-oobe-auth-choose flex layout ng-switch-when=choose message={{oobeAuthCtrl.message}}></nv-oobe-auth-choose> <nv-oobe-auth-nv-login flex layout ng-switch-when=nvLogin message={{oobeAuthCtrl.message}} nv-prefilled=oobeAuthCtrl.prefilledLogin></nv-oobe-auth-nv-login> <nv-oobe-auth-nv-register flex layout ng-switch-when=nvRegister nv-type={{oobeAuthCtrl.registerType}} nv-prefilled=oobeAuthCtrl.prefilledRegistration></nv-oobe-auth-nv-register> <nv-oobe-auth-sync flex layout ng-switch-when=sync></nv-oobe-auth-sync> <nv-oobe-auth-forgot-password flex layout ng-switch-when=forgotPassword></nv-oobe-auth-forgot-password> <nv-oobe-auth-verification flex layout ng-switch-when=verification nv-session-object=oobeAuthCtrl.sessionObject nv-type={{oobeAuthCtrl.verificationType}}></nv-oobe-auth-verification> <nv-oobe-auth-edit-email flex layout ng-switch-when=editEmail nv-session-object=oobeAuthCtrl.sessionObject></nv-oobe-auth-edit-email> </div> </md-content> '},function(e,t){e.exports='<div class="oobe-dialog crimson" layout=row ng-switch on=oobeCtrl.nvActiveView> <nv-dialog-progress-bar layout=row class=oobe-dialog-progress-bar ng-if=oobeCtrl.progressShow nv-progress-active={{oobeCtrl.progressActive}} nv-progress-sections={{oobeCtrl.progressSections}}> </nv-dialog-progress-bar> <nv-oobe-welcome flex layout=row ng-switch-when=welcome></nv-oobe-welcome> <nv-oobe-auth flex layout=row ng-switch-when=auth nv-oobe-params=oobeCtrl.nvOobeParams></nv-oobe-auth> <nv-oobe-no-driver flex layout=row ng-switch-when=noDriver></nv-oobe-no-driver> <nv-oobe-scan flex layout=row ng-switch-when=scan></nv-oobe-scan> <nv-oobe-share flex layout=row ng-switch-when=share></nv-oobe-share> <nv-oobe-stream flex layout=row ng-switch-when=stream></nv-oobe-stream> <nv-oobe-done flex layout=row ng-switch-when=done></nv-oobe-done> </div> '},function(e,t,n){e.exports="<md-content layout=row flex ng-switch on=oobeDoneCtrl.doneView> <div class=oobe-dialog-left-pane> <div ng-switch-when=done><img src="+n(196)+"></div> <div ng-switch-when=nogames><img src="+n(196)+"></div> <div ng-switch-when=scanning><img src="+n(518)+'></div> </div> <div class=oobe-dialog-right-pane flex layout=column> <div class=title layout=row> <h1 ng-switch-when=done translate=l10n.scanComplete></h1> <h1 ng-switch-when=scanning translate=l10n.almostDone></h1> <h1 ng-switch-when=nogames translate=l10n.scanComplete></h1> </div> <div class=oobe-dialog-done-pane-content> <div layout=column flex layout-align="center center" ng-switch-when=done> <md-icon class="nv-custom-icons md-32 color-green" md-font-icon=icon-NVcheck></md-icon> <p class="font-size-sm color-medium-gray oobe-dialog-done-first-text-margin" translate=l10n.scanGamesProgress translate-values={{oobeDoneCtrl.translateValues}}></p> </div> <div layout=column flex layout-align="center center" ng-switch-when=nogames> </div> <div layout=column flex layout-align="center center" ng-switch-when=scanning> <md-progress-circular class=md-accent md-mode=indeterminate md-diameter=60></md-progress-circular> <p class="font-size-sm color-medium-gray oobe-dialog-done-scan-text-margin" translate=l10n.scanningGames translate-values={{oobeDoneCtrl.translateValues}} ng-hide="oobeDoneCtrl.translateValues.scanLocation === \'\'"></p> </div> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important" ng-click=oobeDoneCtrl.onClickDone() ng-disabled="oobeDoneCtrl.doneView === \'scanning\'" translate=l10n.done></md-button> </div> </div> </md-content> '},function(e,t){e.exports='<md-content layout=row flex> <div class=oobe-login-left-side> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.oobeGiftsOverlayText></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.oobeSettingsOverlayText></p> </div> <div class=oobe-side-text layout layout-align="center center"> <p translate=l10n.oobeShieldOverlayText></p> </div> </div> <div class=oobe-dialog-right-pane flex layout=column> <div class="title large"> <h1 translate=l10n.noDriverFound></h1> </div> <div class="font-size-sm color-medium-gray content" translate=l10n.clickContinueToInstallDriver> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important" ng-click=oobeNoDriverCtrl.onClickContinue() translate=l10n.continue></md-button> <span flex></span> </div> </div> </md-content> '},function(e,t,n){e.exports="<md-content layout=row flex> <div class=oobe-dialog-left-pane> <img src="+n(517)+'> </div> <div class=oobe-dialog-right-pane flex layout=column name=oobeScanCtrl.scanForm> <div class="title large" layout=row> <h1 translate=l10n.keepGamesOptimized></h1> </div> <div class="font-size-sm color-medium-gray content" translate=l10n.oobeScanText> </div> <div class="content font-size-sm"> <md-checkbox ng-model=oobeScanCtrl.autoOptimize> <span class=color-medium-gray translate=l10n.autoOptimizeNewGames></span> </md-checkbox> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button ng-click=oobeScanCtrl.onClickScan() class="md-raised md-accent color-white-important font-uppercase" translate=l10n.continue></md-button> <span flex></span> </div> </div> </md-content> '},function(e,t,n){e.exports="<md-content layout=row flex> <div class=oobe-dialog-left-pane> <img src="+n(519)+'> </div> <div class=oobe-dialog-right-pane flex layout=column> <div class="title large" layout=row> <h1 translate=l10n.shareGameMoments></h1> </div> <div class="font-size-sm color-medium-gray content" translate=l10n.oobeShareText> </div> <ul> <li class="font-size-sm color-medium-gray content oobe-share-text-list" translate=l10n.oobeShareEasilyRecordVideos></li> <li class="font-size-sm color-medium-gray content oobe-share-text-list" translate=l10n.oobeShareTakeScreenshots></li> <li class="font-size-sm color-medium-gray content oobe-share-text-list" translate=l10n.oobeShareCoPlay></li> <li class="font-size-sm color-medium-gray content oobe-share-text-list" translate=l10n.oobeShareBroadcast></li> </ul> <div class="font-size-sm color-medium-gray content" ng-if=oobeShareCtrl.shareHotkeyFetched translate-values={{oobeShareCtrl.translateValues}} translate=l10n.oobeShareHotkeyInfo> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important font-uppercase" ng-click=oobeShareCtrl.onClickEnable() translate=l10n.continue> </md-button> <span flex></span> </div> </div> </md-content> '},function(e,t,n){e.exports="<md-content layout=row flex> <div class=oobe-dialog-left-pane> <img src="+n(508)+'> </div> <div class=oobe-dialog-right-pane flex layout=column> <div class="title large" layout=row> <h1 translate=l10n.playOnShield></h1> </div> <div class="font-size-sm color-medium-gray content" translate=l10n.oobeStreamText> </div> <div class="font-size-sm color-medium-gray content" translate=l10n.oobeStreamText1> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button ng-click=oobeStreamCtrl.onClickNo() class="md-raised md-accent color-white-important font-uppercase" translate=l10n.continue> </md-button> <span flex></span> </div> </div> </md-content> '},function(e,t,n){e.exports='<md-content class=oobe-welcome-dialog layout=column flex> <div class="oobe-welcome-dialog-header title"> <h1 class=color-white-hue-1 translate=l10n.oobeWelcomeTitle></h1> <p class=font-size-sm translate=l10n.oobeWelcomeText></p> </div> <div layout=row> <div class=oobe-welcome-card-holder> <img src='+n(523)+' /> <div class=oobe-welcome-overlay> <div class=overlay-grouper> <span class="font-uppercase overlay-text" translate=l10n.gameMaxPerformance></span> </div> </div> </div> <div class=oobe-welcome-card-holder> <img src='+n(524)+' /> <div class=oobe-welcome-overlay> <div class=overlay-grouper> <span class="font-uppercase overlay-text" translate=l10n.gameReadyDrivers></span> </div> </div> </div> <div class=oobe-welcome-card-holder> <img src='+n(525)+' /> <div class=oobe-welcome-overlay> <div class=overlay-grouper> <span class="font-uppercase overlay-text" translate=l10n.shareGameMoments></span> </div> </div> </div> </div> <span flex></span> <div class=md-actions layout=row dir=rtl> <md-button class="md-raised md-accent color-white-important font-uppercase" ng-click=oobeWelcomeCtrl.onClickNext() translate=l10n.getStarted> </md-button> <span flex></span> </div> </md-content> '},function(e,t){e.exports='<md-content class=preferences-accounts-edit-avatar layout=column> <div layout=row layout-align="center top" class=avatar-image> <img ng-src={{editAvatarCtrl.avatarObject.url}} class=md-avatar nv-circle=large nv-fallback-src={{editAvatarCtrl.defaultAvatarUrl}} /> </div> <p class=color-white-hue-4 translate=l10n.chooseAvatarFromGallery></p> <md-content flex layout-align=center> <md-list> <md-list-item ng-repeat="item in editAvatarCtrl.avatarList track by $index" class=avatar-list-item> <img ng-src={{item.url}} class=md-avatar nv-circle=medium ng-click=editAvatarCtrl.selectAvatar(item) /> </md-list-item> </md-list> </md-content> </md-content> '},function(e,t,n){e.exports='<div layout-align="center center" layout-padding layout=column> <img ng-src='+n(42)+' alt="email updated success image" id=successImage /> <p>{{emailUpdatedCtrl.nvDialogModel.newEmail}}</p> <p class="md-primary md-hue-2 foreground" translate=l10n.thanksEmailUpdated></p> </div> '},function(e,t){e.exports='<ng-form autocomplete=off flex layout-align="start start" layout=column layout-fill name=editPasswordCtrl.passwordForm> <md-input-container layout-fill md-no-float> <label translate=l10n.currentPassword></label> <input nv-input name=currentPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.currentPassword required type=password> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.currentPassword.$error ng-show=editPasswordCtrl.passwordForm.currentPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> </div> </md-input-container> <md-input-container layout-fill md-no-float> <label translate=l10n.newPassword></label> <input nv-input name=changedPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.changedPassword minlength={{editPasswordCtrl.validationObject.password.minsize}} maxlength={{editPasswordCtrl.validationObject.password.maxsize}} nv-extended-pattern={{editPasswordCtrl.validationObject.password}} required type=password> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.changedPassword.$error ng-show=editPasswordCtrl.passwordForm.changedPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message="minlength, maxlength, extendedPattern"> <div translate-values={{editPasswordCtrl.validationObject.password}} translate=l10n.passwordReqs></div> </div> </div> </md-input-container> <md-input-container layout-fill md-no-float> <label translate=l10n.confirmPassword></label> <input nv-input name=confirmedPassword ng-model=editPasswordCtrl.nvDialogModel.passwordModel.confirmedPassword minlength={{editPasswordCtrl.validationObject.password.minsize}} maxlength={{editPasswordCtrl.validationObject.password.maxsize}} required type=password nv-fields-match={{editPasswordCtrl.passwordForm.changedPassword.$viewValue}}> <div class=error-message ng-messages=editPasswordCtrl.passwordForm.confirmedPassword.$error ng-show=editPasswordCtrl.passwordForm.confirmedPassword.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> <div ng-message=fieldsMatch> <div translate=l10n.passwordDoesNotMatch></div> </div> </div> </md-input-container> </ng-form> '},function(e,t){e.exports='<div layout=column class=preferences-feature-description-section> <md-list-item class=md-3-line ng-repeat="requirement in featureDescription.requirements" flex> <div ng-hide={{requirement.isRecommendation}}> <md-icon class=md-16 md-font-set=material-icons ng-show={{requirement.state}}>check</md-icon> <md-icon class=md-16 md-font-set=material-icons ng-hide={{requirement.state}}>do_not_disturb</md-icon> </div> <svg ng-show={{requirement.isRecommendation}}> <circle cx=8 cy=8 r=5 fill="rgba(255, 255, 255, 0.45)"/> </svg> <p nv-ellipsis-lines=2 class=font-size-xxs ng-class="requirement.state ? \'color-white-hue-3\' : \'color-white-hue-4\'">{{requirement.message}}</p> </md-list-item> <div class="feature-readiness-content requirement-link-container" ng-if=featureDescription.systemRequirement> <a ng-click=featureDescription.openLink() class="md-default-theme font-size-xxs top-margin-linksection" translate={{featureDescription.systemRequirement.text}} flex></a> </div> </div> '},function(e,t){e.exports='<div flex layout=row class=preferences-feature-header-section> <div layout=column class="image-container constants-position-relative" ng-hide={{featureHeader.nvOverallState}}> <nv-overlay layout-fill class="common-overlay no-background"> <md-icon class="nv-custom-icons md-16 feature-notready-overlay nv-custom-alert-icon-color" md-font-icon=icon-alert></md-icon> </nv-overlay> <md-icon class="nv-custom-icons md-32 feature-not-supported-icon-color" md-font-icon={{featureHeader.featureThumbnail}}></md-icon> </div> <md-icon class="nv-custom-icons md-32 color-white" ng-show={{featureHeader.nvOverallState}} md-font-icon={{featureHeader.featureThumbnail}}></md-icon> <div class=md-list-item-text flex> <h3 class="feature-title color-white-hue-3 font-size-sm font-uppercase">{{featureHeader.featureName}}</h3> <p class="color-white-hue-4 font-size-xxs font-uppercase" ng-hide={{featureHeader.nvOverallState}} translate=l10n.notReady></p> <p class="color-white-hue-4 font-size-xxs font-uppercase" ng-show={{featureHeader.nvOverallState}} translate=l10n.ready></p> <p class="color-white-hue-4 font-size-xxs">{{featureHeader.featureDescription}}</p> </div> </div> '},function(e,t){e.exports='<pre class="md-primary md-hue-2 foreground">{{licenseAgreementCtrl.licenseAgreement}}</pre> '},function(e,t){e.exports='<div class="preferences-preference-section md-hue-3 background md-primary accounts-section-avatar" id=avatar> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-sm color-white-hue-3" translate=l10n.avatar></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.updateAvatar()> <md-icon md-font-set=material-icons>edit</md-icon> </md-button> </div> <div class=preferences-section-content layout=column layout-align="center center"> <img ng-src={{preferencesAccounts.avatar.url}} class=md-avatar alt={{preferencesAccounts.user.core.displayName}} nv-fallback-src={{preferencesAccounts.defaultAvatarUrl}} nv-circle=large /> <p class="font-size-sm color-white-hue-1">{{preferencesAccounts.user.core.displayName}}</p> </div> </div> '},function(e,t){e.exports='<div class="preferences-preference-section md-hue-3 background md-primary" ng-hide=::!preferencesAccounts.devFeatures.experimental> <div class=preferences-section-header-description> <h4 class="font-size-sm color-white-hue-3" translate=l10n.deviceManagement></h4> </div> <div class=preferences-section-content> <md-list layout=column> <md-list-item ng-repeat="undefined in undefined"></md-list-item> </md-list> <div class=accounts-section-button> <md-button translate=l10n.removeAllDevices ng-click=preferencesAccounts.removeAllDevices() ng-disabled="undefined" id=removeAllDevices></md-button> </div> </div> </div> '},function(e,t){e.exports='<div class="preferences-preference-section md-hue-3 background md-primary" ng-hide=::!preferencesAccounts.devFeatures.experimental> <div class=preferences-section-header> <h4 class="font-size-sm color-white-hue-3" translate=l10n.linkedAccounts translate-values="{{ {linkedAccountsCount: undefined} }}"></h4> </div> <div class=preferences-section-content> <md-list layout=row> <md-list-item ng-repeat="undefined in undefined"></md-list-item> </md-list> <div class="accounts-section-button md-actions" layout=row layout-align=space-between> <md-button translate=l10n.remove ng-click="preferencesAccounts.removeLinkedAccounts(undefined)" ng-disabled="undefined" id=removeLink></md-button> <md-button translate=l10n.link ng-click=preferencesAccounts.linkAccounts() id=addLink></md-button> </div> </div> </div> '},function(e,t){e.exports='<div class="md-hue-3 background md-primary preferences-preference-section accounts-section-newsletter"> <div class=preferences-section-header-switch layout=row layout-align="space-between start"> <h4 class="font-size-sm color-white-hue-3" translate=l10n.nvidiaNewsletter></h4> </div> <div class=preferences-section-content> <md-checkbox class="color-white-hue-3 font-size-xxs" ng-change=preferencesAccounts.toggleNewsletter() ng-model=preferencesAccounts.subscribed.state> <span class=color-white-hue-4 translate=l10n.subscribe></span> </md-checkbox> </div> </div> '},function(e,t){e.exports='<div class="preferences-preference-section md-hue-3 background md-primary accounts-section-personalInfo" id=personalInfo> <div layout=row class=preferences-section-header-button layout-align=space-between> <h4 class="font-size-sm color-white-hue-3" translate=l10n.personalInformation></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.tryUpdatePersonalInformation() ng-if=preferencesAccounts.user.core.passwordLastChanged> <md-icon md-font-set=material-icons>edit</md-icon> </md-button> </div> <div class=preferences-section-content> <ng-form name=preferencesAccounts.personalInformationForm> <md-input-container layout-fill> <p class="font-size-xxs color-white-hue-5" translate=l10n.displayName></p> <input spellcheck=false class="font-size-sm color-white-hue-3" name=displayName ng-model=preferencesAccounts.editUserObject.displayName ng-disabled=!preferencesAccounts.isEditingPersonalInfo required> <div class=error-message ng-messages=preferencesAccounts.personalInformationForm.displayName.$error ng-show=preferencesAccounts.personalInformationForm.displayName.$touched> <div ng-message=required> <div translate=l10n.required></div> </div> </div> </md-input-container> <md-input-container layout-fill ng-hide=::!preferencesAccounts.devFeatures.experimental> <p class="font-size-xxs color-white-hue-5" translate=l10n.realName></p> <p class="font-size-sm color-white-hue-3">{{preferencesAccounts.getRealName()}}</p> </md-input-container> <md-input-container layout-fill> <p class="font-size-xxs color-white-hue-5" translate=l10n.emailAddress></p> <input class="font-size-sm color-white-hue-3" ng-model=preferencesAccounts.user.core.primaryEmail ng-readonly=true ng-disabled=!preferencesAccounts.isEditingPersonalInfo ng-click=preferencesAccounts.editEmailAddress()> <p class="font-size-xxs color-white-hue-4" translate=l10n.useThisEmailToLogin></p> </md-input-container> <div class=details-spacing> <p class="font-size-xxs color-white-hue-5" translate=l10n.birthday></p> <p class="font-size-sm color-white-hue-3" translate=l10n.birthdayFormat translate-values="{{ {birthdayFormat:preferencesAccounts.user.core.birthdate} }}" layout-align="center start"></p> </div> <md-input-container layout-fill ng-hide=::!preferencesAccounts.devFeatures.experimental> <p class="font-size-xxs color-white-hue-5" translate=l10n.phone></p> <p class="font-size-sm color-white-hue-3">{{preferencesAccounts.getPhone()}}</p> </md-input-container> <div> <p class="font-size-xxs color-white-hue-5" translate=l10n.memberSince></p> <p class="font-size-sm color-white-hue-3" translate=l10n.memberSinceFormat translate-values="{{ {memberSinceFormat:preferencesAccounts.user.core.created} }}" layout-align="center start"></p> </div> </ng-form> </div> </div> '},function(e,t){e.exports='<div class="preferences-preference-section accounts-section-security md-hue-3 background md-primary" id=security> <div class=preferences-section-header-button layout=row layout-align=space-between> <h4 class="font-size-sm color-white-hue-3" translate=l10n.security></h4> <md-button class=md-icon-button ng-click=preferencesAccounts.tryUpdatePersonalInformation() ng-if=preferencesAccounts.user.core.passwordLastChanged> <md-icon md-font-set=material-icons>edit</md-icon> </md-button> </div> <div class="preferences-section-content preferences-md-icon"> <div ng-if=preferencesAccounts.user.core.passwordLastChanged> <p class="font-size-xxs color-white-hue-5" translate=l10n.password></p> <p class="color-white-hue-3 font-size-sm" translate=l10n.passwordChangedDate translate-values="{{ {passwordChangedDate:preferencesAccounts.user.core.passwordLastChanged} }}" layout-align="center start"></p> </div> <md-checkbox class="color-white-hue-3 font-size-xxs" ng-change=preferencesAccounts.setUserRememberedOnMachine() ng-model=preferencesAccounts.isUserRememberedOnMachine> <span class=color-white-hue-4 translate=l10n.rememberUser /> </md-checkbox> </div> </div> '},function(e,t){e.exports="<div class=preferences-accounts-section layout=row flex> <div ng-if=!isMinSpec layout=column flex=50> <nv-preferences-accounts-avatar></nv-preferences-accounts-avatar> <nv-preferences-accounts-personal-info></nv-preferences-accounts-personal-info> <nv-preferences-accounts-security></nv-preferences-accounts-security> </div> <div flex ng-if=!isMinSpec> <nv-preferences-accounts-linked></nv-preferences-accounts-linked> <nv-preferences-accounts-devices></nv-preferences-accounts-devices> <nv-preferences-accounts-newsletter></nv-preferences-accounts-newsletter> </div> <div ng-if=isMinSpec layout=column flex=90> <nv-preferences-accounts-avatar></nv-preferences-accounts-avatar> <nv-preferences-accounts-personal-info></nv-preferences-accounts-personal-info> <nv-preferences-accounts-security></nv-preferences-accounts-security> <nv-preferences-accounts-linked></nv-preferences-accounts-linked> <nv-preferences-accounts-devices></nv-preferences-accounts-devices> <nv-preferences-accounts-newsletter></nv-preferences-accounts-newsletter> </div> </div> "},function(e,t){e.exports='<div id=toast-container layout=row flex> <div ng-class="{\'preferences-sidebar-container-medium\': !isMinSpec ,\r\n                    \'preferences-sidebar-container-small\': isMinSpec}" class="preferences-sidebar-container md-hue-3 background md-primary"> <div layout-fill> <md-list> <md-list-item class=color-white-hue-3 ng-repeat="preference in preferencesController.Preferences | filter: {isEnabled: true}" ng-click=$state.go(preference.route) ng-class="{\'md-button-selected md-accent foreground\': $state.includes(preference.route)}"> <p class=font-size-sm> {{preference.name | translate | uppercase}} </p> </md-list-item> </md-list> </div> </div> <md-content class=preferences-items-container flex> <div ui-view flex></div> </md-content> </div> '},function(e,t,n){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-sm">{{\'l10n.features\' | translate |uppercase}}</h4> </div> <div ng-switch=preferencesFeatureReadiness.loadingState class=feature-readiness-container> <div layout=row layout-align="center center" class=state-info-content-height ng-switch-when=LOADING> <md-progress-circular class=md-accent md-diameter=100 md-mode=indeterminate></md-progress-circular> </div> <div layout=column layout-align="center center" class=state-info-content-height ng-switch-when=FAILED> <img ng-src='+n(42)+' /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> <div class="preferences-section-content feature-readiness-content" ng-switch-when=DONE> <nv-accordion class="common-accordion common-accordion-transparent" nv-accordion-mode=onlyOne> <nv-accordion-pane ng-repeat="feature in preferencesFeatureReadiness.features | orderBy:\'-id\'"> <nv-accordion-pane-header flex layout=row layout-align="start center"> <nv-feature-header flex nv-feature-name={{feature.header}} nv-feature-tile={{feature.featureTile}} nv-feature-description={{feature.message}} nv-overall-state={{feature.newOverallState}}></nv-feature-header> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column> <nv-feature-description ng-if=feature nv-feature-name={{feature.featureTile}} nv-feature-requirements=feature.states></nv-feature-description> </nv-accordion-pane-content> <md-divider ng-if=preferencesFeatureReadiness.showDivider($index)></md-divider> </nv-accordion-pane> </nv-accordion> </div> </div> </div> '},function(e,t,n){e.exports='<div ng-if=!preferencesGamesBatteryBoost.loadingFailed> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.batteryBoost></h4> <p class="color-white-hue-5 font-size-xxs" translate=l10n.batteryBoostDescription></p> </div> <md-switch ng-model=preferencesGamesBatteryBoost.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost.onChangeBatteryBoostState(true) ng-show=preferencesGamesBatteryBoost.loadingDone ng-disabled=preferencesGamesBatteryBoost.requestInProgress></md-switch> </div> <div class="preferences-section-content preferences-games-battery-boost"> <div layout=row layout-align="space between" class=battery-boost-content-title> <p class="color-white-hue-4 font-size-xxs" translate=l10n.maximumFramerate></p> <h4 class="color-white-hue-3 font-size-xl"> {{ preferencesGamesBatteryBoost.currentSliderIndex }} <span translate=l10n.fps></span> </h4> </div> <div layout=row layout-align="space-between center" class="optimized-slider-items-header color-white-hue-3"> <p ng-show=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.performance></p> <p ng-hide=opsCtrl.isCurrentSettingTypeAC() class="font-size-xxs line-height-sm1" translate=l10n.battery></p> <p class="font-size-xxs line-height-sm1" translate=l10n.quality></p> </div> <div layout=column class=optimized-slider-container> <div layout=row layout-align="center center"> <md-icon class="nv-custom-icons md-18 battery-icon" md-font-icon=icon-onbattery> <md-tooltip> <span translate=l10n.longerBatteryLife></span> </md-tooltip> </md-icon> <div flex class=constants-position-relative> <md-slider md-discrete ng-model=preferencesGamesBatteryBoost.currentSliderIndex min=30 max=60 step=5 ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch ng-change=preferencesGamesBatteryBoost.onChangeBatteryBoostState(false)> </md-slider> </div> <md-icon class="nv-custom-icons md-18 quality-icon" md-font-icon=icon-speedometer> <md-tooltip> <span translate=l10n.higherPerformance></span> </md-tooltip> </md-icon> </div> <div class=optimal-button-container> <div class="optimal-line-indicator md-accent background" ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch></div> <md-button class="md-accent color-white-important md-raised optimal-value-button font-size-xxs" ng-click=preferencesGamesBatteryBoost.applyOptimalValue() ng-disabled=!preferencesGamesBatteryBoost.enabledBatterySwitch translate=l10n.optimal> </md-button> </div> </div> </div> <nv-overlay class=common-overlay layout=column layout-align="center center" ng-show=preferencesGamesBatteryBoost.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent md-diameter=100 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> <div ng-if=preferencesGamesBatteryBoost.loadingFailed> <div> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.batteryBoost></h4> <p class="color-white-hue-5 font-size-xxs" translate=l10n.batteryBoostDescription></p> </div> <div layout=column layout-align="center center"> <img ng-src='+n(42)+" /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> </div> "},function(e,t){e.exports='<div layout=row layout-align="space-between top" flex> <div ng-if=!isMinSpec layout=column flex=50> <div class="preferences-preference-section md-primary md-hue-3 background"> <nv-preference-games-scan></nv-preference-games-scan> </div> <nv-preference-games-location></nv-preference-games-location> </div> <div ng-if=!isMinSpec layout=column flex=50> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=preferencesGames.isOpsSupported> <nv-preference-games-ops></nv-preference-games-ops> </div> <div class="preferences-preference-section md-primary md-hue-3 background constants-position-relative" ng-if=preferencesGames.isBatteryBoostSupported> <nv-preferences-games-battery-boost></nv-preferences-games-battery-boost> </div> </div> <div ng-if=isMinSpec layout=column flex=90> <div class="preferences-preference-section md-primary md-hue-3 background"> <nv-preference-games-scan></nv-preference-games-scan> </div> <nv-preference-games-location></nv-preference-games-location> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=preferencesGames.isOpsSupported> <nv-preference-games-ops></nv-preference-games-ops> </div> <div class="preferences-preference-section md-primary md-hue-3 background constants-position-relative" ng-if=preferencesGames.isBatteryBoostSupported> <nv-preferences-games-battery-boost></nv-preferences-games-battery-boost> </div> </div> </div> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.gameLocation></h4> </div> <div class="preferences-section-content scan-location-content"> <div class="scan-location-section bg-dark-vh20 constants-position-relative common-container-overflow" layout=row layout-align=space-between> <div flex> <md-list> <md-list-item class="scan-location-md-list-item-button md-list-item-text" ng-click=preferencesGameslocation.selectedPathChanged(location) ng-repeat="location in preferencesGameslocation.scanGamesLocation" ng-class="{\'bg-green-hv-hue-1\': preferencesGameslocation.isSelected(location)}"> <p class="font-size-xxs color-white-hue-4" nv-ellipsis-lines=1 ng-mouseenter=preferencesGameslocation.setEllipsis($event)>{{location}}</p> <md-tooltip ng-if=preferencesGameslocation.showTooltip>{{location}}</md-tooltip> </md-list-item> </md-list> </div> </div> <div class=scan-location-content-margin layout=row layout-align="space-between cente"> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesGameslocation.remove() translate=l10n.remove ng-disabled=preferencesGameslocation.canRemovePath() tabindex=0></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesGameslocation.add() translate=l10n.add ng-disabled=preferencesGameslocation.addBtnDisabled tabindex=0></button> </div> </div> </div> '},function(e,t){e.exports='<div> <div class=preferences-section-header-description layout=row layout-align=space-between> <div> <h4 class="color-white-hue-3 font-size-sm line-height-sm1" translate=l10n.optimalPlayableSettings></h4> <p class="color-white-hue-5 font-size-xxs" translate=l10n.gamesOpsDescription></p> </div> </div> <div layout-align="start start" class="preferences-section-content preferences-md-icon" layout=column> <md-checkbox class="line-height-sm1 top-margin-checkboxes color-white-hue-3 font-size-xxs" ng-change=preferencesGamesOps.setAutoOptimize() ng-model=preferencesGamesOps.autoOptimize ng-disabled="preferencesGamesOps.autoOptimize === null"> <span class="line-height-sm1 color-white-hue-4" translate=l10n.autoOptimizeNewGames></span> </md-checkbox> <md-checkbox class="line-height-sm1 margin-mid-checkbox color-white-hue-3 font-size-xxs" ng-change=preferencesGamesOps.setNotifyOpsUpdate() ng-model=preferencesGamesOps.notifyOpsUpdate> <span class="line-height-sm1 color-white-hue-4" translate=l10n.notifyMeOps></span> </md-checkbox> </div> </div> ';
},function(e,t){e.exports='<div flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.gameScan></h4> </div> <div class=preferences-section-content> <div layout=row class=games-scan-container layout-align=space-around> <div layout=column layout-align="center center"> <h4 class="color-white-hue-4 font-size-sm line-height-sm1" translate=l10n.gamesFound></h4> <h4 class="color-white-hue-3 font-size-xxxl line-height-lg1">{{preferencesGamesScan.totalGames}}</h4> <a ng-click=preferencesGamesScan.onLaunchUrl() class="color-lighter-gray md-default-theme font-size-xxs" translate=l10n.viewSupportedGames flex> </a> </div> <div class="games-scan-divider bg-grey-im"></div> <div class=button-text-padding layout=column layout-align="center center"> <h4 class="color-white-hue-4 font-size-sm line-height-sm1" translate=l10n.lastChecked></h4> <h4 class="color-white-hue-3 font-size-xl line-height-sm1">{{preferencesGamesScan.lastRereshTime | convertUTCToTimeAgo}}</h4> <md-button class="md-raised md-secondary" ng-click=preferencesGamesScan.scanGames() ng-disabled=preferencesGamesScan.scanInProgress>{{preferencesGamesScan.scanStatus}}</md-button> </div> </div> </div> </div> '},function(e,t,n){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-sm">{{\'l10n.about\' | translate |uppercase}}</h4> </div> <div class="preferences-section-content about-section"> <div layout=row> <img ng-src='+n(504)+' /> <div flex class="margin-zero preferences-md-icon"> <p class="color-white-hue-3 font-size-xl" translate=l10n.nvidiaGeforceExperience></p> <p class="color-white-hue-4 font-size-lg title-content-top-margin"><span translate=l10n.version></span>&nbsp;<span>{{preferencesGeneralAbout.version}}</span></p> <p class="color-white-hue-5 font-size-xxs data-container-lastrow title-content-top-margin" nv-ellipsis-lines=1 translate=l10n.nvidiaRightReserved></p> </div> </div> <div layout-align="start start" class="preferences-md-icon links-top-margin font-size-xxs"> <md-checkbox class="font-size-xxs preferences-md-icon" ng-change=preferencesGeneralAbout.setClientBetaUpdateEnabled() ng-model=preferencesGeneralAbout.clientBetaUpdateEnabled> <span translate=l10n.clientBetaUpdate></span> </md-checkbox> <md-divider></md-divider> <md-divider class=color-black-hue-2></md-divider> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-xxs" ng-click=preferencesGeneralAbout.onShowReleaseHighlight() translate=l10n.releaseHighlights> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-xxs" ng-click=preferencesGeneralAbout.onShowLicense() translate=l10n.licenseAggrement> </a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-xxs" ng-click=preferencesGeneralAbout.onLaunchUrl() translate=l10n.faqPolicy></a> </div> <div layout-align="start start" class=margin-between-links> <a class="md-default-theme font-size-xxs" ng-click=preferencesGeneralAbout.onOpenFeedbackDialog() translate=l10n.sendfeedback> </a> </div> </div> </div> </div> '},function(e,t){e.exports='<div layout=row layout-align="space-between top" flex> <div ng-if=!isMinSpec layout=column flex=50> <nv-preference-general-about></nv-preference-general-about> <nv-preference-general-language></nv-preference-general-language> <nv-preference-general-share></nv-preference-general-share> <nv-preference-general-updates></nv-preference-general-updates> </div> <div ng-if=!isMinSpec layout=column flex=50> <nv-preferences-system-info></nv-preferences-system-info> <nv-preferences-feature-readiness></nv-preferences-feature-readiness> </div> <div ng-if=isMinSpec layout=column flex=90> <nv-preference-general-about></nv-preference-general-about> <nv-preference-general-language></nv-preference-general-language> <nv-preference-general-share></nv-preference-general-share> <nv-preference-general-updates></nv-preference-general-updates> <nv-preferences-system-info></nv-preferences-system-info> <nv-preferences-feature-readiness></nv-preferences-feature-readiness> </div> </div> '},function(e,t){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-sm">{{\'l10n.language\' | translate | uppercase}}</h4> </div> <div class="preferences-section-content language-section"> <div layout=column> <md-input-container flex class=margin-zero> <md-select ng-model=preferencesGeneralLanguage.changedLanguage class="margin-zero color-white-hue-3 font-size-sm" ng-change=preferencesGeneralLanguage.openChangeLocale()> <md-option class="color-white-hue-3 font-size-sm" ng-value=language.name ng-repeat="language in preferencesGeneralLanguage.languages">{{language.name}}</md-option> </md-select> </md-input-container> <div class=language-section-button layout=row ng-if=preferencesGeneralLanguage.EditMode> <md-button ng-click=preferencesGeneralLanguage.onCancel()>{{\'l10n.cancel\' | translate | uppercase}}</md-button> <md-button ng-click=preferencesGeneralLanguage.onApply()>{{\'l10n.done\' | translate | uppercase}}</md-button> </div> </div> </div> </div> '},function(e,t){e.exports='<div layout=column class=constants-position-relative> <div class="preferences-preference-section md-primary md-hue-3 background" ng-if=preferencesGeneralShare.isShareSupported> <div class="preferences-section-header-description-switch share-section"> <div layout=row layout-align=space-between> <div layout=column> <div layout=row> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.share></h4> <md-icon class="nv-custom-icons md-16 preferences-share-alert-icon nv-custom-alert-icon-color" md-font-icon=icon-alert ng-show=!preferencesGeneralShare.shareLoaded></md-icon> </div> <p class="color-white-hue-5 font-size-xxs" translate=l10n.shareDialogDescription></p> <div layout=row class=share-hotkey-info ng-if=preferencesGeneralShare.showHotkeyInfoAndIcon()> <md-icon md-font-set=nv-custom-icons class="nv-custom-icons md-24 color-green" md-font-icon=icon-share></md-icon> <p class="color-white-hue-5 font-size-xxs" translate-values={{preferencesGeneralShare.translateValues}} translate=l10n.oobeShareHotkeyInfo></p> </div> </div> <div ng-if=preferencesGeneralShare.loadingDone> <md-switch ng-model=preferencesGeneralShare.enabledShare ng-change=preferencesGeneralShare.onChangeShareState() ng-disabled=preferencesGeneralShare.toggleState></md-switch> </div> </div> <div layout=row class=share-section-button layout-align="end end" ng-if=preferencesGeneralShare.showHotkeyInfoAndIcon()> <md-button class="md-raised md-secondary font-uppercase" ng-click=preferencesGeneralShare.openOscSettings() translate=l10n.settings></md-button> </div> </div> </div> <nv-overlay class="common-overlay preferences-share-overlay" ng-if=preferencesGeneralShare.toggleState> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=28 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background" flex> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-sm">{{\'l10n.driverUpdates\' | translate |uppercase}}</h4> </div> <div layout=column layout-align="start start" class="preferences-section-content preferences-md-icon"> <md-checkbox class="top-margin-checkboxes font-size-xxs" ng-change=preferencesGeneralUpdates.setAutoDownloadDriverUpdates() ng-model=preferencesGeneralUpdates.autoDownloadDriverUpdates>{{\'l10n.automaticallyDownloadDriver\' | translate}}</md-checkbox> <md-checkbox class="margin-zero font-size-xxs" ng-change=preferencesGeneralUpdates.setNotifyGeforceDriverUpdate() ng-model=preferencesGeneralUpdates.notifyGeforceDriverUpdate>{{\'l10n.notifyMe\' | translate}}</md-checkbox> </div> </div> '},function(e,t){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background"> <div class=preferences-section-header> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.shieldDevices></h4> </div> <div class=preferences-section-content> <div class=button-text-padding layout=row layout-align="space-between cente"> <md-button class="margin-zero md-raised md-secondary ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldDevices.removeAllDevices() translate=l10n.removeAllDevices tabindex=0></md-button> </div> </div> </div> '},function(e,t){e.exports='<div layout=row layout-align="space-between top" flex> <div ng-if=!isMinSpec layout=column flex=50> <nv-preferences-shield-gamestream></nv-preferences-shield-gamestream> </div> <div ng-if=!isMinSpec layout=column flex=50> <nv-preferences-shield-devices></nv-preferences-shield-devices> </div> <div ng-if=isMinSpec layout=column flex=90> <nv-preferences-shield-gamestream></nv-preferences-shield-gamestream> <nv-preferences-shield-devices></nv-preferences-shield-devices> </div> </div> '},function(e,t){e.exports='<ng-form autocomplete=off name=vm.editForm class="md-primary md-hue-3 background preferences-shield-edit-dialog" layout=column layout-align="space-between stretch"> <div layout=row class=container layout-align="space-between stretch"> <div layout=column flex layout-align="space-between stretch"> <md-input-container md-no-float> <label>{{\'l10n.name\' | translate}}</label> <input nv-input maxlength={{::vm.maxSize}} ng-pattern="/^(?!\\.)(?!(com[0-9]|con|lpt[0-9]|nul|prn|aux)(\\..*)?$)[^\\\\/:\\*\\?<>\\|]+$/i" ng-trim=false name=Name ng-model=vm.selectedApp.AppData.Name md-autofocus> </md-input-container> <div layout=column layout-align=space-between> <div layout=row layout-align=space-between> <div layout=column flex layout-align=space-between> <label class="custom-label-heading color-white-hue-5" translate=l10n.target></label> <label nv-ellipsis-lines=1 class="custom-label-content app-target">{{vm.selectedApp.AppData.TargetPath}}</label> <md-tooltip ng-if=vm.showTargetTooltip>{{vm.selectedApp.AppData.TargetPath}}</md-tooltip> </div> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-folder-browsing ng-click=vm.openTargetFileDialog()></md-icon> </div> <md-divider style=""></md-divider> </div> <div layout=column layout-align=space-between> <div layout=row layout-align=space-between> <div layout=column flex layout-align=space-between> <label class="custom-label-heading color-white-hue-5" translate=l10n.startIn></label> <label nv-ellipsis-lines=1 class="custom-label-content app-startin">{{vm.selectedApp.AppData.WorkingDirectory}}</label> <md-tooltip ng-if=vm.showDirectoryTooltip>{{vm.selectedApp.AppData.WorkingDirectory}}</md-tooltip> </div> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-folder-browsing ng-click=vm.openStartInFileDialog()></md-icon> </div> <md-divider style=""></md-divider> </div> </div> <div layout=column class=boxart> <p translate=l10n.boxArt></p> <div layout=column flex class="image-container constants-position-relative" ng-click=vm.openBoxArtFileDialog()> <nv-overlay flex class="common-overlay no-background"> <md-icon class="nv-custom-icons md-18" md-font-icon=icon-edit></md-icon> </nv-overlay> <img ng-src={{vm.selectedApp.AppData.BoxArtPath}} alt={{vm.selectedApp.AppData.Name}} /> </div> </div> </div> <div class=scan-location-content-margin layout=row layout-align=space-between> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=vm.remove() translate=l10n.remove ng-disabled=preferencesShieldGamestream.canNotRemove()></button> <div> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=vm.cancel() translate=l10n.cancel type=button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=vm.done() translate=l10n.done ng-disabled=!vm.canSubmit() type=button></button> </div> </div> </ng-form> '},function(e,t){e.exports=' <div class="preferences-preference-section md-primary md-hue-3 background constants-position-relative"> <div class=preferences-section-header-description-switch layout=row layout-align=space-between> <div> <div layout=row> <h4 class="color-white-hue-3 font-size-sm" translate=l10n.gameStream></h4> <md-icon class="nv-custom-icons md-16 preferences-share-alert-icon nv-custom-alert-icon-color" md-font-icon=icon-alert ng-show=!preferencesShieldGamestream.gameStreamLoaded></md-icon> </div> <p class="color-white-hue-5 font-size-xxs" translate=l10n.gamestreamDescription></p> </div> <md-switch ng-model=preferencesShieldGamestream.isStreamingEnabled ng-if=preferencesShieldGamestream.isServerStatusCheckDone ng-change=preferencesShieldGamestream.onChangeServerState() ng-disabled=preferencesShieldGamestream.toggleState></md-switch> </div> <div layout=column class="preferences-section-content shield-section"> <div> <h4 class="color-white-hue-3 font-size-xxs" translate=l10n.gamesApps></h4> </div> <div layout-align="start start" layout-fill layout=column> <md-progress-circular class=md-accent ng-if=!preferencesShieldGamestream.isServerStatusCheckDone layout-align="center center" md-diameter=28 md-mode=indeterminate></md-progress-circular> <md-content class="appcollector-content-height constants-position-relative" layout-fill layout=row layout-align="start start" layout-wrap> <nv-preferences-shield-tile ng-repeat="app in preferencesShieldGamestream.streamApps" ng-click=preferencesShieldGamestream.selectedAppChanged(app) class=preferences-shield-tile nv-app=app ng-class="{\'shield-tile-content-outline\': preferencesShieldGamestream.isSelected(app)}"></nv-preferences-shield-tile> <div class=empty-app-list layout=column layout-align="center center" ng-if=!preferencesShieldGamestream.hasAppsAndServerStatusDone()> <p class="font-size-xxs color-white-hue-4" translate=l10n.addAdditionalGamesForStreaming></p> </div> </md-content> <a class="md-default-theme font-size-xxs" ng-click=preferencesShieldGamestream.onLaunchUrl() translate=l10n.viewAllGameStreamSupportedGames ng-if=preferencesShieldGamestream.isServerStatusCheckDone></a> </div> <div class=shield-section-button layout=row layout-align="space-between cente"> <button class="md-button ng-scope md-ink-ripple font-size-sm" type=button ng-click=preferencesShieldGamestream.remove() translate=l10n.remove ng-disabled=preferencesShieldGamestream.canNotRemove() tabindex=0></button> <div> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldGamestream.edit() translate=l10n.edit ng-disabled=preferencesShieldGamestream.canNotRemove() type=button></button> <button class="md-button ng-scope md-ink-ripple font-size-sm" ng-click=preferencesShieldGamestream.add() translate=l10n.add ng-disabled=preferencesShieldGamestream.requestInProgress type=button></button> </div> </div> </div> <nv-overlay class=common-overlay ng-if=preferencesShieldGamestream.toggleState> <span flex layout-fill layout-align="center center" layout=column> <md-progress-circular class=md-accent layout-align="center center" md-diameter=28 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> </div> '},function(e,t){e.exports='<md-card layout=column ng-mouseenter=vm.showOverlay(true) ng-mouseleave=vm.showOverlay(false) class="item-container margin-zero"> <div layout=column flex class=constants-position-relative> <nv-overlay layout=column flex layout-fill class="common-overlay no-background" ng-show=vm.isOverlayVisible()> </nv-overlay> <img class=shield-tile-img-border ng-src={{nvApp.AppData.BoxArtPath}} alt={{nvApp.AppData.Name}} nv-image-fallback=nv-no-loading-indicator> </div> <md-card-content class=bg-black-hv> <p nv-ellipsis-lines=2 class="font-size-xxs color-white-hue-3">{{::nvApp.AppData.Name}}</p> </md-card-content> </md-card> '},function(e,t,n){e.exports='<div class="preferences-preference-section md-primary md-hue-3 background preferences-system-info" layout=column> <div class=preferences-section-header> <h4 translate=l10n.myRig class="color-white-hue-3 font-size-sm"></h4> </div> <div class="preferences-section-content preferences-system-info" ng-switch=preferencesSystemInfo.loadingState> <div layout=row layout-align="center center" class=state-info-content-height ng-switch-when=LOADING> <md-progress-circular class=md-accent md-diameter=100 md-mode=indeterminate></md-progress-circular> </div> <div layout=column layout-align="center center" class=state-info-content-height ng-switch-when=FAILED> <img ng-src='+n(42)+' /> <p class=color-light-gray translate=l10n.noInformationAvailable /> </div> <div layout-align="start start" ng-repeat="item in preferencesSystemInfo.systemInfoItems" class="margin-between-links color-white-hue-4 font-size-xxs" ng-switch-when=DONE> <md-icon class="nv-custom-icons md-18 margin-between-links-icon" md-font-icon={{item.icon}}></md-icon> <span class=span-align-vertical>{{item.description}}</span> <div ng-repeat="subItem in item.subItems track by $index" class=subitem-margin> {{subItem}} </div> </div> </div> </div> '},function(e,t){e.exports='<md-card class=reward-card ng-mouseenter=rewardCard.onMouseEnter() ng-mouseleave=rewardCard.onMouseLeave() ng-class="{\'md-accent background-on-hover clickable-element\': rewardCard.isRewardUnRedeemedOrClaimable(), \'clickable-element\': rewardCard.isRewardRedeemed()}" ng-click=rewardCard.redeemReward($event)> <div class="reward-card-image-container constants-position-relative"> <img flex layout-fill ng-src={{::rewardCard.rewardImageUrl}} nv-image-fallback=nv-no-loading-indicator nv-image-format alt=reward_card_image /> <nv-overlay flex layout-fill class="common-overlay light-background background-animated reward-card-overlay" layout=column layout-align="center center" ng-if=rewardCard.showOverlay> <div flex layout-fill layout=column layout-align="center center" class=padding-16> <md-button class="md-raised md-accent" ng-if=rewardCard.isRewardUnRedeemedOrClaimable()> <span class=color-white-important translate=l10n.redeem></span> </md-button> <div flex layout=row layout-align="start start" layout-fill ng-if=!rewardCard.isRewardUnRedeemedOrClaimable()> <md-icon class="color-white-hue-1 material-icons reward-status-icon margin-zero">{{::rewardCard.rewardStatusIcon}}</md-icon> <span class="margin-left-8 color-white-important font-uppercase line-height-16">{{::rewardCard.rewardStatusMessage}}</span> </div> <div flex layout=column class=constants-position-absolute layout-align="center center" layout-fill ng-if=rewardCard.isDetailsButtonVisible()> <md-button class="md-raised md-secondary color-white-important"> <span translate=l10n.details></span> </md-button> </div> </div> </nv-overlay> </div> <md-card-content> <h4 class="reward-card-title margin-zero font-size-xxs line-height-sm1 font-style-normal color-white-hue-3" nv-ellipsis-lines=1>{{::rewardCard.nvReward.rewardPackage.name}}</h4> <div class=reward-card-details-container layout=row> <p class="reward-date margin-zero color-white-hue-4 font-size-xxs line-height-sm1" nv-ellipsis-lines=1>{{::rewardCard.rewardDate}}</p> </div> </md-card-content> </md-card> '},function(e,t,n){e.exports=' <div layout=column layout-fill class="rewards-center-items-container constants-position-relative" ng-if=rewardsCenter.rewardsLoaded> <md-toolbar flex=none layout=row class=rewards-center-top-toolbar layout-align="space-between center"> <div layout=row> <md-button class="back-button padding-zero md-icon-button" ng-click=rewardsCenter.backToPreviousState()> <md-icon md-font-set=material-icons class="md-24 color-white-hue-1">arrow_back</md-icon> <md-tooltip><span translate=l10n.back></span></md-tooltip> </md-button> <h4 class="color-white-hue-1 margin-zero font-size-sm rewards-center-title line-height-sm1 font-uppercase" translate=l10n.redeem></h4> </div> <nv-select-menu nv-md-icon=filter_list nv-label=l10n.filter class=constants-position-relative nv-filtered="!rewardsCenter.matchFilter(\'all\')"> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'all\')" nv-selected-test="rewardsCenter.matchFilter(\'all\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'all\')"> <div translate=l10n.allNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'all\')}}"></div> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'available\')" nv-selected-test="rewardsCenter.matchFilter(\'available\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'available\')"> <span translate=l10n.availableNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'available\')}}"></span> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'redeemed\')" nv-selected-test="rewardsCenter.matchFilter(\'redeemed\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'redeemed\')"> <span translate=l10n.redeemedNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'redeemed\')}}"></span> </nv-select-menu-item> <nv-select-menu-item nv-action="rewardsCenter.setFilter(\'expired\')" nv-selected-test="rewardsCenter.matchFilter(\'expired\')" ng-disabled="rewardsCenter.isFilterButtonDisabled(\'expired\')"> <span translate=l10n.expiredNumber translate-value-number="{{rewardsCenter.getRewardsCount(\'expired\')}}"></span> </nv-select-menu-item> </nv-select-menu> </md-toolbar> <md-content flex layout-fill> <div layout=column layout-align="start center" flex=auto class="rewards-center-coupon-code-banner constants-position-relative" ng-class="{\'expanded-state\': rewardsCenter.couponBannerExpanded}"> <div flex layout-fill layout=column layout-align="start center" class=bg-grey-lt-hue-1> <nv-coupon-input nv-input-placeholder=rewardsCenter.translatedInputPlaceholder nv-button=rewardsCenter.nvCouponInputButton nv-error-message=l10n.checkCodeAndTryAgain></nv-coupon-input> </div> <div layout=row layout-align="center center" class=learn-more-section-separator-horizontal> <div flex layout-fill class=bg-grey-lt-hue-1></div> <div class=learn-more-section-separator-horizontal-center></div> <div flex layout-fill class=bg-grey-lt-hue-1></div> </div> <div layout=row class="no-focus-outline learn-more-expandable-header" ng-click=rewardsCenter.toggleCouponBannerExpansionState() layout-align="space-between center"> <div flex layout-fill class=bg-grey-lt-hue-1></div> <div class=learn-more-section-separator-vertical></div> <div layout=row layout-align="center center" class="learn-more-header-button bg-grey-lt-hue-1 clickable-element"> <p class="margin-zero color-white-hue-5 line-height-16" translate=l10n.whereToFindCoupons></p> <md-icon class="material-icons margin-zero md-16 line-height-16 color-white-hue-5 toggle-icon margin-left-4">expand_more</md-icon> </div> <div class=learn-more-section-separator-vertical></div> <div flex layout-fill class=bg-grey-lt-hue-1></div> </div> <div class=learn-more-expandable-content layout=row layout-align="center center"> <img src='+n(528)+' alt=learn_more class=constants-position-absolute /> <div class="learn-more-text-container constants-position-absolute"> <div layout=row layout-align="start center" ng-repeat="message in rewardsCenter.couponsLearnMoreMessages" class=margin-bottom-10> <img src='+n(527)+' alt=learn_more_bullet class="learn-more-bullet margin-bottom-1"/> <p class="margin-zero margin-left-8 learn-more-message color-white-hue-5" translate={{message}}></p> </div> </div> </div> </div> <div flex=none class=filtered-list-separator ng-if="!rewardsCenter.matchFilter(\'all\')"></div> <div flex class=unredeemed-items-container ng-if=rewardsCenter.unRedeemedItemsExist()> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.available class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase"></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if=rewardsCenter.showAvailableCards()> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.filteredUnRedeemedList | limitTo: rewardsCenter.unRedeemedListLimitTo track by reward.nesPackage.entitlementId" nv-reward=reward></nv-reward-card> </div> </div> <div flex class=redeemed-or-expired-items-container> <md-toolbar layout=row ng-if="rewardsCenter.matchFilter(\'all\')"> <h4 translate=l10n.redeemedAndExpired class="rewards-center-section-title color-white-hue-3 font-size-sm line-height-sm1 font-uppercase margin-top-16"></h4> </md-toolbar> <div layout=row class=reward-cards-container layout-align="start start" layout-wrap flex layout-fill ng-if="!rewardsCenter.matchFilter(\'available\')"> <nv-reward-card class=rewards-reward-card ng-repeat="reward in rewardsCenter.filteredRedeemedOrExpiredList | limitTo: rewardsCenter.redeemedOrExpiredListLimitTo track by reward.nesPackage.entitlementId" nv-reward=reward></nv-reward-card> </div> <p class="color-white-hue-4 margin-zero no-items-message" translate=l10n.noRewardsRedeemedYet ng-if=rewardsCenter.showNoRedeemedItemsMessage()></p> </div> </md-content> </div> <nv-overlay class="common-overlay light-background constants-z-layers-two" flex layout-fill ng-if=rewardsCenter.requestInProgress> <span layout-fill layout-align="center center" layout=column> <md-progress-circular id=progressIndicator class=md-accent md-diameter=50 md-mode=indeterminate></md-progress-circular> </span> </nv-overlay> '},,,function(e,t){e.exports='<div layout-fill layout=column flex class=constants-position-relative> <md-card class="updates-highlight-tile bg-black-hv" layout=column ng-click=highlightTile.showDetails($event) nv-telemetry=\'{"tarconID":{{highlightTile.getTelemetryEventName()}},"url":"{{nvContent.linksTo}}"}\'> <div class=image-container> <img ng-src={{nvContent.coverImage}} class=md-card-image alt={{nvContent.name}} nv-image-fallback=nv-no-loading-indicator layout-fill> <nv-overlay class="common-overlay optimal-settings-icon-overlay" ng-if=highlightTile.isContentGame()> <md-icon md-font-set=nv-custom-icons md-font-icon=icon-optimized_reg class="nv-custom-icons md-accent md-24"></md-icon> <md-tooltip><span translate=l10n.optimalSettingsAvailable></span></md-tooltip> </nv-overlay> </div> <md-card-content class=color-black-hue-1> <p class="font-size-sm color-white-hue-3" nv-ellipsis-lines=1>{{nvContent.name}}</p> <p ng-if=nvContent.id class="font-size-xxs color-white-hue-4" nv-ellipsis-lines=2>{{nvContent.description}}</p> <p ng-if=nvContent.featureId class="font-size-xxs color-white-hue-4" nv-ellipsis-lines=3>{{nvContent.description}}</p> <p ng-if=nvContent.overviewContent class="font-size-xxs color-white-hue-4" nv-ellipsis-lines=3>{{nvContent.description}}</p> </md-card-content> </md-card> <nv-overlay class="common-overlay common-container-gradient" nv-position=bottom></nv-overlay> </div> '},function(e,t,n){e.exports='<div class="constants-position-relative updates-updates-details-highlights-banner-container bg-dark-vh23" ng-if=updateDetails.showDefaultBanner() layout=row layout-align="center center"> <img ng-src='+n(530)+' alt=default-banner /> </div> <nv-no-content-fallback ng-if=updateDetails.showDefaultContentImage() nv-tip=l10n.noInformationAvailable class=updates-updates-details-highlights-banner-container flex> </nv-no-content-fallback> <div layout=column ng-if=updateDetails.driverInformation> <div class="constants-position-relative updates-updates-details-highlights-banner-container bg-dark-vh23" ng-if=updateDetails.driverInformation.bannerGfeNg> <nv-updates-highlights-banner nv-driver-banner=updateDetails.driverInformation.bannerGfeNg nv-driver-type=updateDetails.driverType flex></nv-updates-highlights-banner> </div> <div class=updates-updates-details ng-if=updateDetails.showHighLights()> <div class=updates-updates-details-releaseAbstract ng-bind-html=updateDetails.driverInformation.ReleaseNotesAbstract></div> <nv-updates-driver-highlights nv-driver-highlight=updateDetails.driverInformation.highlightGfeNg nv-driver-type=updateDetails.driverType nv-driver-version={{updateDetails.driverVersion}}></nv-updates-driver-highlights> </div> </div> <div class=updates-updates-details-highlights-banner-container ng-if=updateDetails.showLoadingIndicator layout=row layout-align="center center" flex> <md-progress-circular class=md-accent md-diameter=60 md-mode=indeterminate> </md-progress-circular> </div> '},function(e,t){e.exports="<nv-updates-driver flex layout=column class=updates-updates-container></nv-updates-driver> "},function(e,t){e.exports='<div flex class=updates-update-download-progress> <div layout=row layout-align="space-between start"> <p class="font-size-xxs color-white-hue-3">{{nvMessage}}</p> <p class="font-size-xxs color-white-hue-3">{{nvValue | number:0}}%</p> </div> <md-progress-linear class=md-accent flex md-mode=determinate value={{nvValue}} ng-cloak></md-progress-linear> </div> '},function(e,t){e.exports='<md-content flex class=updates-updates-driver-container id=toast-container> <div class=updates-updates-driver layout=column> <md-progress-circular class="md-accent left-50-percent" md-diameter=30 md-mode=indeterminate ng-if=updatesDriver.showLoadingIndicator()></md-progress-circular> <div layout=row layout-align="end center" ng-if=updatesDriver.anydriverInfoOrUpdatesFound> <md-button class=checkforupdate-button ng-click=updatesDriver.onCheckForUpdate() ng-disabled=updatesDriver.isCheckForUpdateDisabled() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_CHECK_DRIVER_UPDATES}}}\'>{{\'l10n.checkforUpdates\' | translate | uppercase}}</md-button> </div> <h4 class="font-size-sm color-white-hue-4" ng-show=updatesDriver.driverUpdateList.length>{{\'l10n.available\' | translate | uppercase}}</h4> <nv-accordion class=common-accordion> <nv-accordion-pane ng-repeat="update in updatesDriver.driverUpdateList track by $index" nv-start-expanded={{update.isExpanded}} nv-on-expand=updatesDriver.onExpand(update) nv-on-collapse=updatesDriver.onCollapse(update) nv-telemetry=\'{"tarconID":{{updatesDriver.getAvlDriverTelemetryEventName(update.isBeta)}},"url":"{{update.version}}"}\'> <nv-accordion-pane-header layout=row layout-align="start center"> <md-content flex layout=row layout-align="space-between center"> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <div class=download-install-controls> <md-button class="md-raised md-accent color-white-important" ng-show=updatesDriver.isStatusPending(update.downloadStatus.status) ng-disabled="!updatesDriver.canToggleDownload(update.downloadStatus.status, update.version)" ng-click=updatesDriver.startDownload(update) translate=l10n.download nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_DOWNLOAD_DRIVER_MANUAL_START}},"url":"{{update.version}}"}\'></md-button> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(update.downloadStatus.status) layout-align="center center"> <div layout=column class=download-details-container> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(update.downloadStatus.status)}} nv-value={{update.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(update)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed">{{update.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{update.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume" ng-click=updatesDriver.pauseDownload(update) ng-hide=updatesDriver.isStatusPaused(update.downloadStatus.status)> <md-icon md-font-set=material-icons class=md-18>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume" ng-click=updatesDriver.resumeDownload(update) ng-show=updatesDriver.isStatusPaused(update.downloadStatus.status)> <md-icon md-font-set=material-icons class=md-18>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop" ng-click=updatesDriver.stopDownload(update)> <md-icon md-font-set=material-icons class=md-18>stop</md-icon> </md-button> </div> <div ng-show=updatesDriver.isStatusCompleted(update.downloadStatus.status)> <md-button class="md-raised md-accent color-white-important expressInstall" ng-click="updatesDriver.startInstall(update, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"{{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled()></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-important" ng-click="updatesDriver.startInstall(update, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"{{update.version}}"}\' ng-disabled=updatesDriver.isInstallDisabled()></md-button> </div> </div> </md-content> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column class=bg-grey-im-hue-3> <nv-update-details nv-driver-version={{update.version}} nv-driver-type=updatesDriver.getAvlDriverType(update.isBeta)></nv-update-details> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> <div ng-if=updatesDriver.installedDriver> <h4 class="font-size-sm color-white-hue-4">{{updatesDriver.installedDriverHeaderText}}</h4> <nv-accordion class=common-accordion> <nv-accordion-pane nv-start-expanded={{updatesDriver.installedDriver.isExpanded}} nv-on-expand=updatesDriver.onExpand(updatesDriver.installedDriver) nv-on-collapse=updatesDriver.onCollapse(updatesDriver.installedDriver) nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_VIEW_CURRENT_DRIVER}},"url":"{{updatesDriver.installedDriver.version}}"}\'> <nv-accordion-pane-header flex layout=row layout-align="start center"> <nv-driver-item flex nv-driver=updatesDriver.installedDriver nv-md-icon=check></nv-driver-item> <nv-select-menu ng-if=!updatesDriver.installedDriver.reInstalledDriver nv-md-icon=more_vert nv-label="{{\'l10n.moreDots\' | translate}}"> <nv-select-menu-item ng-disabled=updatesDriver.reInstalledDriverMenuItemDisabled() nv-action=updatesDriver.performReinstalledDriver()> <div class=updates-reinstall-driver layout=row> <md-icon md-font-set=material-icons class="md-18 updates-reinstall-driver-icon">file_download</md-icon> <span translate=l10n.reInstalledDriver></span> </div> </nv-select-menu-item> </nv-select-menu> <div ng-if=updatesDriver.showReInstallButtons() class=download-install-controls> <div class=download-container layout=row ng-show=updatesDriver.isDownloadStarted(updatesDriver.installedDriver.downloadStatus.status) layout-align="center center"> <div layout=column class=download-details-container> <nv-update-download-progress nv-message={{updatesDriver.getDownloadStatusMessage(updatesDriver.installedDriver.downloadStatus.status)}} nv-value={{updatesDriver.installedDriver.downloadStatus.percentComplete}}></nv-update-download-progress> <div layout=row layout-align="space-between start" class=download-details-status-container> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.getProgressString(updatesDriver.installedDriver)}}</p> <div layout=row layout-align="start start"> <p class="font-size-xxs color-white-hue-5 download-speed">{{updatesDriver.installedDriver.downloadStatus.downloadSpeed | convertBytesToKBMBGB}}/Sec</p> <p class="font-size-xxs color-white-hue-5">{{updatesDriver.installedDriver.downloadStatus.timeRemaining | convertSecondsToTime:true}}</p> </div> </div> </div> <md-button class="md-icon-button download-pause-resume" ng-click=updatesDriver.pauseDownload(updatesDriver.installedDriver) ng-hide=updatesDriver.isStatusPaused(updatesDriver.installedDriver.downloadStatus.status)> <md-icon md-font-set=material-icons class=md-18>pause</md-icon> </md-button> <md-button class="md-icon-button download-pause-resume" ng-click=updatesDriver.resumeDownload(updatesDriver.installedDriver) ng-show=updatesDriver.isStatusPaused(updatesDriver.installedDriver.downloadStatus.status)> <md-icon md-font-set=material-icons class=md-18>play_arrow</md-icon> </md-button> <md-button class="md-icon-button download-stop" ng-click="updatesDriver.stopDownload(updatesDriver.installedDriver, true)"> <md-icon md-font-set=material-icons class=md-18>stop</md-icon> </md-button> </div> <div ng-show=updatesDriver.isStatusCompleted(updatesDriver.installedDriver.downloadStatus.status)> <md-button class="md-raised md-accent expressInstall" ng-click="updatesDriver.startInstall(updatesDriver.installedDriver, false)" translate=l10n.expressInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_EXPRESS}},"url":"{{update.version}}"}\'></md-button> <md-button class="md-raised bg-dark-im-hue-4 color-white-hue-6" ng-click="updatesDriver.startInstall(updatesDriver.installedDriver, true)" translate=l10n.customInstall nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_INSTALL_DRIVER_CUSTOM}},"url":"{{updatesDriver.installedDriver.version}}"}\'></md-button> </div> </div> </nv-accordion-pane-header> <nv-accordion-pane-content layout=column class=bg-grey-im-hue-3> <nv-update-details ng-if=updatesDriver.installedDriver nv-driver-type=updatesDriver.driverTypeConstant.CURRENT nv-driver-version={{updatesDriver.installedDriver.version}}></nv-update-details> </nv-accordion-pane-content> </nv-accordion-pane> </nv-accordion> </div> </div> <div layout=row layout-align="center center" class=common-nv-no-content-fallback layout-fill flex ng-if=!updatesDriver.anydriverInfoOrUpdatesFound> <div class=no-info-found-hardware-driver layout=column flex layout-align="center center"> <div class=centered> <p aria-hidden=true> <img src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4="> </p> </div> <p class=color-light-gray translate=l10n.downloadDriver flex/> <div layout-align="left left" flex> <md-button class=checkforupdate-button ng-click=updatesDriver.onCheckForUpdate() ng-disabled=updatesDriver.isCheckForUpdateDisabled() nv-telemetry=\'{"tarconID":{{$root.telemetryEventNames.UPDATES_CHECK_DRIVER_UPDATES}}}\'>{{\'l10n.retry\' | translate | uppercase}}</md-button> </div> </div> </div> </md-content> ';
},function(e,t){e.exports='<div layout=row layout-align="center center" layout-wrap> <nv-highlight-tile ng-repeat="tile in updatesDriverHighlights.driverHighlights.tiles" nv-content=tile nv-driver-type=updatesDriverHighlights.driverType class=updates-highlight-tile nv-driver-version={{updatesDriverHighlights.driverVersion}}></nv-highlight-tile> </div> '},function(e,t){e.exports="<nv-carousel ng-if=updatesHighlightsBanner.videoBanner nv-slides=updatesHighlightsBanner.videoBanner nv-selected-index=0 nv-is-banner=true nv-telemetry='{\"tarconID\":{{updatesHighlightsBanner.getTelemetryEventName()}}}' class=updates-highlight-carousel></nv-carousel> "},function(e,t){e.exports='<div ng-if=updatesInstallationCustom.showPackageSelectionUI layout=column> <div class=package-group-table> <div layout-align="start center" layout=row class="md-primary md-hue-5 background package-group-header"> <p class="font-size-xxs color-white-hue-3" flex=50>{{\'l10n.component\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex=30>{{\'l10n.newVersion\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex>{{\'l10n.currentVersion\' | translate | uppercase}}</p> </div> <div layout-align="start center" class=package-group-header layout=row ng-class="{\'md-primary md-hue-6 background\': $odd}" ng-repeat="installablePackage in updatesInstallationCustom.packages"> <md-checkbox class="font-size-xxs color-white-hue-4" flex=50 ng-disabled=installablePackage.critical ng-model=installablePackage.selectedForInstall>{{installablePackage.title}}</md-checkbox> <p class="font-size-xxs color-white-hue-4" flex=30>{{installablePackage.version}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=installablePackage.currentVersion.length>{{installablePackage.currentVersion}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=!installablePackage.currentVersion.length>-</p> </div> </div> <md-divider></md-divider> <div layout=column layout-align="start start"> <md-checkbox class="font-size-xxs color-white-hue-4" ng-model=updatesInstallationCustom.cleanInstall>{{ \'l10n.performCleanInstallation\' | translate }} </md-checkbox> <div layout=row layout-align="start center" class=warning-clean-install> <p class="font-size-xxs color-white-hue-5">{{\'l10n.cleanInstallMessage\' | translate}}</p> </div> </div> </div> <div ng-if=!updatesInstallationCustom.showPackageSelectionUI> <div class=package-group-table> <div layout-align="start center" layout=row class="md-primary md-hue-5 background package-group-header"> <p class="font-size-xxs color-white-hue-3" flex=50>{{\'l10n.component\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex=30>{{\'l10n.version\' | translate | uppercase}}</p> <p class="font-size-xxs color-white-hue-3" flex>{{\'l10n.status\' | translate | uppercase}}</p> </div> <div layout-align="start center" class=package-group-header layout=row ng-class="{\'md-primary md-hue-6 background\': $odd}" ng-repeat="installablePackage in updatesInstallationCustom.packages"> <p class="font-size-xxs color-white-hue-4" flex=50>{{installablePackage.title}}</p> <p class="font-size-xxs color-white-hue-4" flex=30>{{installablePackage.version}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=installablePackage.resultCode>{{updatesInstallationCustom.getStatusText(installablePackage.resultText)}}</p> <p class="font-size-xxs color-white-hue-4" flex ng-if=!installablePackage.resultCode>{{ \'l10n.installed\' | translate }}</p> </div> </div> <md-divider></md-divider> </div> '},function(e,t,n){e.exports="<iframe ng-if=!updateInstallationProgress.showFallbackImage src={{updateInstallationProgress.getBillboardUrl()}}></iframe> <img ng-if=updateInstallationProgress.showFallbackImage class=updates-installlation-progress-fallbackImage ng-src="+n(532)+' alt=default-banner /> <div layout=column layout-align="space-around start" class=progress-status-container> <h4 class="font-size-sm color-white-hue-1">{{updateInstallationProgress.model.details()}}</h4> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.isPreparingInstall flex md-mode=indeterminate></md-progress-linear> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.canShowUninstallProgress() flex md-mode=determinate value={{updateInstallationProgress.progressValue}}></md-progress-linear> <md-progress-linear class=md-accent ng-if=updateInstallationProgress.canShowInstallProgress() flex md-mode=determinate value={{updateInstallationProgress.progressValue}}></md-progress-linear> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.canShowUninstallProgress() translate=l10n.unInstalling translate-values={{updateInstallationProgress}}></p> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.canShowInstallProgress() translate=l10n.installing translate-values={{updateInstallationProgress}}></p> <p class="font-size-xxs color-white-hue-4" ng-show=updateInstallationProgress.isPreparingInstall translate=l10n.preparingForInstallation></p> </div> '},function(e,t){e.exports='<div layout-align="center center" layout-padding layout=column> <md-icon md-font-library=material-icons class="material-icons md-accent">track_changes</md-icon> <h4 class="font-size-sm color-white-hue-3">{{\'l10n.restartingInSecond\' | translate:{num:updatesInstallationReboot.interval} }}</h4> <p class="font-size-xxs color-white-hue-4">{{\'l10n.afterRestartInstallation\' | translate}}</p> </div> '},function(e,t){e.exports='<div layout-align="center center" layout-padding layout=column> <md-icon md-font-library=material-icons class="material-icons md-accent">check</md-icon> <h4 class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.details() | translate:dialog.data}}</h4> </div> '},function(e,t){e.exports='<div layout=column> <p class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.details() | translate:dialog.data}}</p> <div ng-if=updatesInstallerDialog.model.showBullets()> <ul class=Bulleted ng-repeat="bullet in updatesInstallerDialog.model.bullets()"> <li class="font-size-sm color-white-hue-3" style=list-style:disc>{{bullet | translate:dialog.data}}</li> </ul> </div> <a class="md-default-theme font-size-xxs top-margin-linksection" ng-if=updatesInstallerDialog.model.showLink() href=http://nvidia.custhelp.com/app/answers/detail/a_id/3814 translate=l10n.viewDetails></a> </div> '},function(e,t){e.exports='<div ng-show=updatesInstallerDialog.showTitleContainer() class=updates-installer-dialog-header> <div class="updates-updates-installer-dialog-title font-size-xl color-white-hue-1">{{updatesInstallerDialog.model.title() | translate}}</div> <div layout=row> <md-icon ng-if=updatesInstallerDialog.model.icon() md-font-set=material-icons class="material-icons md-accent">{{updatesInstallerDialog.model.icon()}}</md-icon> <p class="font-size-sm color-white-hue-3">{{updatesInstallerDialog.model.subtitle() | translate}}</p> </div> </div> <div flex layout-align="center center" layout=column> <div flex nv-bind-html-compile={{updatesInstallerDialog.model.html()}} layout-fill></div> </div> <div class=md-actions layout=row ng-show=updatesInstallerDialog.showActionContainer()> <md-button class="font-size-sm color-white-hue-3" ng-click=updatesInstallerDialog.model.button2().action() ng-if=updatesInstallerDialog.model.button2().action> {{updatesInstallerDialog.model.button2().text | translate | uppercase}} </md-button> <md-button class="font-size-sm color-white-hue-3" ng-click=updatesInstallerDialog.model.button1().action() ng-if=updatesInstallerDialog.model.button1().action> {{updatesInstallerDialog.model.button1().text | translate | uppercase}} </md-button> </div> '},function(e,t){e.exports='<div class=updates-updates-driver-item layout=row layout-align="space-between start"> <md-icon md-font-set=material-icons class=md-36>{{nvMdIcon}}</md-icon> <div flex layout=column layout-align="start space-between"> <h3 class="font-size-sm color-white-hue-3" ng-hide=nvDriver.isBeta>{{nvDriver.name}}</h3> <h3 class="font-size-sm color-white-hue-3" ng-show=nvDriver.isBeta> {{\'l10n.betaWithHypen\' | translate:nvDriver}} </h3> <p class="font-size-xxs color-white-hue-4">{{\'l10n.versionColon\' | translate}} {{nvDriver.version}} &#160;&#160; <span ng-if=nvDriver.releaseDateTime.length>{{\'l10n.releaseDate\' | translate}} {{nvDriver.releaseDateTime | date:\'MM/dd/yyyy\'}}</span> </p> </div> </div> '},function(e,t){e.exports="<md-menu md-offset=\"10 36\" md-position-mode=\"target-right target\"> <md-button class=md-icon-button ng-click=$mdOpenMenu()> <md-tooltip> {{'l10n.updates' | translate}} </md-tooltip> <md-icon md-font-library=material-icons class=md-18 nv-badge={{updatesNotifications.driverUpdatesCount}}>archive</md-icon> </md-button> <md-menu-content md-menu-align-target md-menu-origin class=\"md-primary md-hue-1 updates-updates-notification-md-menu-content\"> <dropdown-menu-item ng-show=updatesNotifications.driverUpdatesCount> <p class=notification-header>{{'l10n.available' | translate | uppercase}}</p> <div ng-repeat=\"update in updatesNotifications.updatesList\"> <md-button ng-click=updatesNotifications.launchUpdateTab(update.version)> <div layout=column> <nv-driver-item nv-driver=update nv-md-icon=file_download></nv-driver-item> <nv-update-download-progress nv-message=\"{{'l10n.downloading' | translate}}\" nv-value={{update.downloadStatus.percentComplete}} ng-show=updatesNotifications.isDownloadStarted(update.downloadStatus.status)></nv-update-download-progress> </div> </md-button> <md-divider></md-divider> </div> </dropdown-menu-item> <dropdown-menu-item> <p class=notification-header>{{'l10n.currentlyInstalled' | translate | uppercase}}</p> <md-button ng-click=updatesNotifications.launchUpdateTab(updatesNotifications.installedDriver.version)> <div ng-show=updatesNotifications.installedDriver> <div class=md-2-line aria-label={{updatesNotifications.installedDriver.version}}> <nv-driver-item nv-driver=updatesNotifications.installedDriver nv-md-icon=check></nv-driver-item> </div> </div> </md-button> <md-divider></md-divider> </dropdown-menu-item> <dropdown-menu-item> <md-button class=checkforupdate-container ng-click=updatesNotifications.launchUpdateTab(updatesNotifications.checkForUpdate)> <p ng-style=dropdownMenuItem.itemStyle> {{'l10n.checkforUpdates' | translate | uppercase}} </p><p ng-style=dropdownMenuItem.itemStyle> </p></md-button> </dropdown-menu-item> </md-menu-content> </md-menu> "},function(e,t,n){e.exports={default:n(691),__esModule:!0}},function(e,t,n){e.exports={default:n(692),__esModule:!0}},function(e,t,n){e.exports={default:n(693),__esModule:!0}},function(e,t,n){e.exports={default:n(694),__esModule:!0}},function(e,t,n){e.exports={default:n(695),__esModule:!0}},,,,function(e,t,n){n(715),e.exports=n(28).Object.assign},function(e,t,n){n(716),e.exports=n(28).Object.freeze},function(e,t,n){n(717);var r=n(28).Object;e.exports=function(e){return r.getOwnPropertyNames(e)}},function(e,t,n){n(718),e.exports=n(28).Object.getPrototypeOf},function(e,t,n){n(719),e.exports=n(28).Object.keys},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(47),o=n(143),i=n(101),a=n(104),s=n(204),l=Object.assign;e.exports=!l||n(44)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,c=1,u=o.f,d=i.f;l>c;)for(var f,m=s(arguments[c++]),g=u?r(m).concat(u(m)):r(m),p=g.length,v=0;p>v;)d.call(m,f=g[v++])&&(n[f]=m[f]);return n}:l},,,,,,,function(e,t,n){var r=n(100);r(r.S+r.F,"Object",{assign:n(708)})},function(e,t,n){var r=n(85),o=n(206).onFreeze;n(102)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){n(102)("getOwnPropertyNames",function(){return n(208).f})},function(e,t,n){var r=n(104),o=n(210);n(102)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(104),o=n(47);n(102)("keys",function(){return function(e){return o(r(e))}})},,,,,,,function(e,t,n){var r,o;!function(){function i(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function s(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function l(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function u(e){return{left:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}function d(e){return e.length}function f(e){for(var t=1;e*t%1;)t*=10;return t}function m(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function g(){this._=Object.create(null)}function p(e){return(e+="")===ya||e[0]===ba?ba+e:e}function v(e){return(e+="")[0]===ba?e.slice(1):e}function h(e){return p(e)in this._}function y(e){return(e=p(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(v(t));return e}function S(){var e=0;for(var t in this._)++e;return e}function E(){for(var e in this._)return!1;return!0}function _(){this._=Object.create(null)}function A(e){return e}function w(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function I(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=Sa.length;n<r;++n){var o=Sa[n]+t;if(o in e)return o}}function C(){}function x(){}function T(e){function t(){for(var t,r=n,o=-1,i=r.length;++o<i;)(t=r[o].on)&&t.apply(this,arguments);return e}var n=[],r=new g;return t.on=function(t,o){var i,a=r.get(t);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(t)),o&&n.push(r.set(t,{on:o})),e)},t}function O(){sa.event.preventDefault()}function M(){for(var e,t=sa.event;e=t.sourceEvent;)t=e;return t}function D(e){for(var t=new x,n=0,r=arguments.length;++n<r;)t[arguments[n]]=T(t);return t.of=function(n,r){return function(o){try{var i=o.sourceEvent=sa.event;o.target=e,sa.event=o,t[o.type].apply(n,r)}finally{sa.event=i}}},t}function N(e){return _a(e,Ca),e}function R(e){return"function"==typeof e?e:function(){return Aa(e,this)}}function P(e){return"function"==typeof e?e:function(){return wa(e,this)}}function k(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function o(){this.setAttribute(e,t)}function i(){this.setAttributeNS(e.space,e.local,t)}function a(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=sa.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:a:e.local?i:o}function L(e){return e.trim().replace(/\s+/g," ")}function G(e){return new RegExp("(?:^|\\s+)"+sa.requote(e)+"(?:\\s+|$)","g")}function F(e){return(e+"").trim().split(/^|\s+/)}function U(e,t){function n(){for(var n=-1;++n<o;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<o;)e[n](this,r)}e=F(e).map(V);var o=e.length;return"function"==typeof t?r:n}function V(e){var t=G(e);return function(n,r){if(o=n.classList)return r?o.add(e):o.remove(e);var o=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(o)||n.setAttribute("class",L(o+" "+e))):n.setAttribute("class",L(o.replace(t," ")))}}function z(e,t,n){function r(){this.style.removeProperty(e)}function o(){this.style.setProperty(e,t,n)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?i:o}function B(e,t){function n(){delete this[e]}function r(){this[e]=t}function o(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?o:r}function $(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n?t.createElementNS(n,e):t.createElement(e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=sa.ns.qualify(e)).local?n:t}function H(){var e=this.parentNode;e&&e.removeChild(this)}function W(e){return{__data__:e}}function j(e){return function(){return Ia(this,e)}}function q(e){return arguments.length||(e=s),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function Y(e,t){for(var n=0,r=e.length;n<r;n++)for(var o,i=e[n],a=0,s=i.length;a<s;a++)(o=i[a])&&t(o,a,n);return e}function K(e){return _a(e,Ta),e}function Z(e){var t,n;return function(r,o,i){var a,s=e[i].update,l=s.length;for(i!=n&&(n=i,t=0),o>=t&&(t=o+1);!(a=s[t])&&++t<l;);return a}}function X(e,t,n){function r(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}function o(){var o=l(t,ca(arguments));r.call(this),this.addEventListener(e,this[a]=o,o.$=n),o._=t}function i(){var t,n=new RegExp("^__on([^.]+)"+sa.requote(e)+"$");for(var r in this)if(t=r.match(n)){var o=this[r];this.removeEventListener(t[1],o,o.$),delete this[r]}}var a="__on"+e,s=e.indexOf("."),l=J;s>0&&(e=e.slice(0,s));var c=Oa.get(e);return c&&(e=c,l=Q),s?t?o:r:t?C:i}function J(e,t){return function(n){var r=sa.event;sa.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{sa.event=r}}}function Q(e,t){var n=J(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++Da,n="click"+t,r=sa.select(a(e)).on("touchmove"+t,O).on("dragstart"+t,O).on("selectstart"+t,O);if(null==Ma&&(Ma=!("onselectstart"in e)&&I(e.style,"userSelect")),Ma){var o=i(e).style,s=o[Ma];o[Ma]="none"}return function(e){if(r.on(t,null),Ma&&(o[Ma]=s),e){var i=function(){r.on(n,null)};r.on(n,function(){O(),i()},!0),setTimeout(i,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Na<0){var o=a(e);if(o.scrollX||o.scrollY){n=sa.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Na=!(i.f||i.e),n.remove()}}return Na?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function ne(){return sa.event.changedTouches[0].identifier}function re(e){return e>0?1:e<0?-1:0}function oe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ie(e){return e>1?0:e<-1?ka:Math.acos(e)}function ae(e){return e>1?Fa:e<-1?-Fa:Math.asin(e)}function se(e){return((e=Math.exp(e))-1/e)/2}function le(e){return((e=Math.exp(e))+1/e)/2}function ce(e){return((e=Math.exp(2*e))-1)/(e+1)}function ue(e){return(e=Math.sin(e/2))*e}function de(){}function fe(e,t,n){return this instanceof fe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof fe?new fe(e.h,e.s,e.l):Ce(""+e,xe,fe):new fe(e,t,n)}function me(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(a-i)*e/60:e<180?a:e<240?i+(a-i)*(240-e)/60:i}function o(e){return Math.round(255*r(e))}var i,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+t):n+t-n*t,i=2*n-a,new _e(o(e+120),o(e),o(e-120))}function ge(e,t,n){return this instanceof ge?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof ge?new ge(e.h,e.c,e.l):e instanceof ve?ye(e.l,e.a,e.b):ye((e=Te((e=sa.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new ge(e,t,n)}function pe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ve(n,Math.cos(e*=Ua)*t,Math.sin(e)*t)}function ve(e,t,n){return this instanceof ve?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ve?new ve(e.l,e.a,e.b):e instanceof ge?pe(e.h,e.c,e.l):Te((e=_e(e)).r,e.g,e.b):new ve(e,t,n)}function he(e,t,n){var r=(e+16)/116,o=r+t/500,i=r-n/200;return o=be(o)*Za,r=be(r)*Xa,i=be(i)*Ja,new _e(Ee(3.2404542*o-1.5371385*r-.4985314*i),Ee(-.969266*o+1.8760108*r+.041556*i),Ee(.0556434*o-.2040259*r+1.0572252*i))}function ye(e,t,n){return e>0?new ge(Math.atan2(n,t)*Va,Math.sqrt(t*t+n*n),e):new ge(NaN,NaN,e)}function be(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function Se(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Ee(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function _e(e,t,n){return this instanceof _e?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof _e?new _e(e.r,e.g,e.b):Ce(""+e,_e,me):new _e(e,t,n)}function Ae(e){return new _e(e>>16,e>>8&255,255&e)}function we(e){return Ae(e)+""}function Ie(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ce(e,t,n){e=e.toLowerCase();var r,o,i,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return t(Me(o[0]),Me(o[1]),Me(o[2]))}return(i=ts.get(e))?t(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&i)>>4,a|=a>>4,s=240&i,s|=s>>4,l=15&i,l|=l<<4):7===e.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),t(a,s,l))}function xe(e,t,n){var r,o,i=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-i,l=(a+i)/2;return s?(o=l<.5?s/(a+i):s/(2-a-i),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,o=l>0&&l<1?0:r),new fe(r,o,l)}function Te(e,t,n){e=Oe(e),t=Oe(t),n=Oe(n);var r=Se((.4124564*e+.3575761*t+.1804375*n)/Za),o=Se((.2126729*e+.7151522*t+.072175*n)/Xa),i=Se((.0193339*e+.119192*t+.9503041*n)/Ja);return ve(116*o-16,500*(r-o),200*(o-i))}function Oe(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Me(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function De(e){return"function"==typeof e?e:function(){return e}}function Ne(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Re(t,n,e,r)}}function Re(e,t,n,r){function o(){var e,t=l.status;if(!t&&ke(l)||t>=200&&t<300||304===t){try{e=n.call(i,l)}catch(e){return void a.error.call(i,e)}a.load.call(i,e)}else a.error.call(i,l)}var i={},a=sa.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(e){var t=sa.event;sa.event=e;try{a.progress.call(i,l)}finally{sa.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(c=e,i):c},i.response=function(e){return n=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(ca(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=o&&i.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},sa.rebind(i,a,"on"),null==r?i:i.get(Pe(r))}function Pe(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function ke(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Le(){var e=Ge(),t=Fe()-e;t>24?(isFinite(t)&&(clearTimeout(is),is=setTimeout(Le,t)),os=0):(os=1,ss(Le))}function Ge(){var e=Date.now();for(as=ns;as;)e>=as.t&&(as.f=as.c(e-as.t)),as=as.n;return e}function Fe(){for(var e,t=ns,n=1/0;t;)t.f?t=e?e.n=t.n:ns=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return rs=e,n}function Ue(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ve(e,t){var n=Math.pow(10,3*ha(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function ze(e){var t=e.decimal,n=e.thousands,r=e.grouping,o=e.currency,i=r&&n?function(e,t){for(var o=e.length,i=[],a=0,s=r[0],l=0;o>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>t));)s=r[a=(a+1)%r.length];return i.reverse().join(n)}:A;return function(e){var n=cs.exec(e),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],d=n[7],f=n[8],m=n[9],g=1,p="",v="",h=!1,y=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),m){case"n":d=!0,m="g";break;case"%":g=100,v="%",m="f";break;case"p":g=100,v="%",m="r";break;case"b":case"o":case"x":case"X":"#"===l&&(p="0"+m.toLowerCase());case"c":y=!1;case"d":h=!0,f=0;break;case"s":g=-1,m="r"}"$"===l&&(p=o[0],v=o[1]),"r"!=m||f||(m="g"),null!=f&&("g"==m?f=Math.max(1,Math.min(21,f)):"e"!=m&&"f"!=m||(f=Math.max(0,Math.min(20,f)))),m=us.get(m)||Be;var b=c&&d;return function(e){var n=v;if(h&&e%1)return"";var o=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===s?"":s;if(g<0){var l=sa.formatPrefix(e,f);e=l.scale(e),n=l.symbol+v}else e*=g;e=m(e,f);var S,E,_=e.lastIndexOf(".");if(_<0){var A=y?e.lastIndexOf("e"):-1;A<0?(S=e,E=""):(S=e.substring(0,A),E=e.substring(A))}else S=e.substring(0,_),E=t+e.substring(_+1);!c&&d&&(S=i(S,1/0));var w=p.length+S.length+E.length+(b?0:o.length),I=w<u?new Array(w=u-w+1).join(r):"";return b&&(S=i(I+S,I.length?u-E.length:1/0)),o+=p,e=S+E,("<"===a?o+e+I:">"===a?I+o+e:"^"===a?I.substring(0,w>>=1)+o+e+I.substring(w):o+(b?e:I+e))+n}}}function Be(e){return e+""}function $e(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function He(e,t,n){function r(t){var n=e(t),r=i(n,1);return t-n<r-t?n:r}function o(n){return t(n=e(new fs(n-1)),1),n}function i(e,n){return t(e=new fs(+e),n),e}function a(e,r,i){var a=o(e),s=[];if(i>1)for(;a<r;)n(a)%i||s.push(new Date(+a)),t(a,1);else for(;a<r;)s.push(new Date(+a)),t(a,1);return s}function s(e,t,n){try{fs=$e;var r=new $e;return r._=e,a(r,t,n)}finally{fs=Date}}e.floor=e,e.round=r,e.ceil=o,e.offset=i,e.range=a;var l=e.utc=We(e);return l.floor=l,l.round=We(r),l.ceil=We(o),l.offset=We(i),l.range=s,e}function We(e){return function(t,n){try{fs=$e;var r=new $e;return r._=t,e(r,n)._}finally{fs=Date}}}function je(e){function t(e){function t(t){for(var n,o,i,a=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=gs[n=e.charAt(++s)])&&(n=e.charAt(++s)),(i=T[n])&&(n=i(t,null==o?"e"===n?" ":"0":o)),a.push(n),l=s+1);return a.push(e.slice(l,s)),a.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=n(r,e,t,0);if(o!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&fs!==$e,a=new(i?$e:fs);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var o,i,a,s=0,l=t.length,c=n.length;s<l;){if(r>=c)return-1;if(o=t.charCodeAt(s++),37===o){if(a=t.charAt(s++),i=O[a in gs?t.charAt(s++):a],!i||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.w=A.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){C.lastIndex=0;var r=C.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){w.lastIndex=0;var r=w.exec(t.slice(n));return r?(e.m=I.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,T.c.toString(),t,r)}function l(e,t,r){return n(e,T.x.toString(),t,r)}function c(e,t,r){return n(e,T.X.toString(),t,r)}function u(e,t,n){var r=b.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,f=e.date,m=e.time,g=e.periods,p=e.days,v=e.shortDays,h=e.months,y=e.shortMonths;t.utc=function(e){function n(e){try{fs=$e;var t=new fs;return t._=e,r(t)}finally{fs=Date}}var r=t(e);return n.parse=function(e){try{fs=$e;var t=r.parse(e);return t&&t._}finally{fs=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ft;var b=sa.map(),S=Ye(p),E=Ke(p),_=Ye(v),A=Ke(v),w=Ye(h),I=Ke(h),C=Ye(y),x=Ke(y);g.forEach(function(e,t){b.set(e.toLowerCase(),t)});var T={a:function(e){return v[e.getDay()]},A:function(e){return p[e.getDay()]},b:function(e){return y[e.getMonth()]},B:function(e){return h[e.getMonth()]},c:t(d),d:function(e,t){return qe(e.getDate(),t,2)},e:function(e,t){return qe(e.getDate(),t,2)},H:function(e,t){return qe(e.getHours(),t,2)},I:function(e,t){return qe(e.getHours()%12||12,t,2)},j:function(e,t){return qe(1+ds.dayOfYear(e),t,3)},L:function(e,t){return qe(e.getMilliseconds(),t,3)},m:function(e,t){return qe(e.getMonth()+1,t,2)},M:function(e,t){return qe(e.getMinutes(),t,2)},p:function(e){return g[+(e.getHours()>=12)]},S:function(e,t){return qe(e.getSeconds(),t,2)},U:function(e,t){return qe(ds.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return qe(ds.mondayOfYear(e),t,2)},x:t(f),X:t(m),y:function(e,t){return qe(e.getFullYear()%100,t,2)},Y:function(e,t){return qe(e.getFullYear()%1e4,t,4)},Z:ut,"%":function(){return"%"}},O={a:r,A:o,b:i,B:a,c:s,d:ot,e:ot,H:at,I:at,j:it,L:ct,m:rt,M:st,p:u,S:lt,U:Xe,w:Ze,W:Je,x:l,X:c,y:et,Y:Qe,Z:tt,"%":dt};return t}function qe(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function Ye(e){return new RegExp("^(?:"+e.map(sa.requote).join("|")+")","i")}function Ke(e){for(var t=new g,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Ze(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Xe(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Je(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Qe(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function et(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+2));return r?(e.y=nt(+r[0]),n+r[0].length):-1}function tt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function nt(e){return e+(e>68?1900:2e3)}function rt(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ot(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function it(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function at(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function st(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lt(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ct(e,t,n){ps.lastIndex=0;var r=ps.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ut(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=ha(t)/60|0,o=ha(t)%60;return n+qe(r,"0",2)+qe(o,"0",2)}function dt(e,t,n){vs.lastIndex=0;var r=vs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ft(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function mt(){}function gt(e,t,n){var r=n.s=e+t,o=r-e,i=r-o;n.t=e-i+(t-o)}function pt(e,t){e&&Ss.hasOwnProperty(e.type)&&Ss[e.type](e,t)}function vt(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function ht(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)vt(e[n],t,1);t.polygonEnd()}function yt(){function e(e,t){e*=Ua,t=t*Ua/2+ka/4;var n=e-r,a=n>=0?1:-1,s=a*n,l=Math.cos(t),c=Math.sin(t),u=i*c,d=o*l+u*Math.cos(s),f=u*a*Math.sin(s);_s.add(Math.atan2(f,d)),
r=e,o=l,i=c}var t,n,r,o,i;As.point=function(a,s){As.point=e,r=(t=a)*Ua,o=Math.cos(s=(n=s)*Ua/2+ka/4),i=Math.sin(s)},As.lineEnd=function(){e(t,n)}}function bt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function St(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Et(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function _t(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function At(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function wt(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function It(e){return[Math.atan2(e[1],e[0]),ae(e[2])]}function Ct(e,t){return ha(e[0]-t[0])<Ra&&ha(e[1]-t[1])<Ra}function xt(e,t){e*=Ua;var n=Math.cos(t*=Ua);Tt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Tt(e,t,n){++ws,Cs+=(e-Cs)/ws,xs+=(t-xs)/ws,Ts+=(n-Ts)/ws}function Ot(){function e(e,o){e*=Ua;var i=Math.cos(o*=Ua),a=i*Math.cos(e),s=i*Math.sin(e),l=Math.sin(o),c=Math.atan2(Math.sqrt((c=n*l-r*s)*c+(c=r*a-t*l)*c+(c=t*s-n*a)*c),t*a+n*s+r*l);Is+=c,Os+=c*(t+(t=a)),Ms+=c*(n+(n=s)),Ds+=c*(r+(r=l)),Tt(t,n,r)}var t,n,r;ks.point=function(o,i){o*=Ua;var a=Math.cos(i*=Ua);t=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),ks.point=e,Tt(t,n,r)}}function Mt(){ks.point=xt}function Dt(){function e(e,t){e*=Ua;var n=Math.cos(t*=Ua),a=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),c=o*l-i*s,u=i*a-r*l,d=r*s-o*a,f=Math.sqrt(c*c+u*u+d*d),m=r*a+o*s+i*l,g=f&&-ie(m)/f,p=Math.atan2(f,m);Ns+=g*c,Rs+=g*u,Ps+=g*d,Is+=p,Os+=p*(r+(r=a)),Ms+=p*(o+(o=s)),Ds+=p*(i+(i=l)),Tt(r,o,i)}var t,n,r,o,i;ks.point=function(a,s){t=a,n=s,ks.point=e,a*=Ua;var l=Math.cos(s*=Ua);r=l*Math.cos(a),o=l*Math.sin(a),i=Math.sin(s),Tt(r,o,i)},ks.lineEnd=function(){e(t,n),ks.lineEnd=Mt,ks.point=xt}}function Nt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Rt(){return!0}function Pt(e,t,n,r,o){var i=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Ct(n,r)){o.lineStart();for(var s=0;s<t;++s)o.point((n=e[s])[0],n[1]);return void o.lineEnd()}var l=new Lt(n,e,null,!0),c=new Lt(n,null,l,!1);l.o=c,i.push(l),a.push(c),l=new Lt(r,e,null,!1),c=new Lt(r,null,l,!0),l.o=c,i.push(l),a.push(c)}}),a.sort(t),kt(i),kt(a),i.length){for(var s=0,l=n,c=a.length;s<c;++s)a[s].e=l=!l;for(var u,d,f=i[0];;){for(var m=f,g=!0;m.v;)if((m=m.n)===f)return;u=m.z,o.lineStart();do{if(m.v=m.o.v=!0,m.e){if(g)for(var s=0,c=u.length;s<c;++s)o.point((d=u[s])[0],d[1]);else r(m.x,m.n.x,1,o);m=m.n}else{if(g){u=m.p.z;for(var s=u.length-1;s>=0;--s)o.point((d=u[s])[0],d[1])}else r(m.x,m.p.x,-1,o);m=m.p}m=m.o,u=m.z,g=!g}while(!m.v);o.lineEnd()}}}function kt(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}function Lt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Gt(e,t,n,r){return function(o,i){function a(t,n){var r=o(t,n);e(t=r[0],n=r[1])&&i.point(t,n)}function s(e,t){var n=o(e,t);v.point(n[0],n[1])}function l(){y.point=s,v.lineStart()}function c(){y.point=a,v.lineEnd()}function u(e,t){p.push([e,t]);var n=o(e,t);S.point(n[0],n[1])}function d(){S.lineStart(),p=[]}function f(){u(p[0][0],p[0][1]),S.lineEnd();var e,t=S.clean(),n=b.buffer(),r=n.length;if(p.pop(),g.push(p),p=null,r)if(1&t){e=n[0];var o,r=e.length-1,a=-1;if(r>0){for(E||(i.polygonStart(),E=!0),i.lineStart();++a<r;)i.point((o=e[a])[0],o[1]);i.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),m.push(n.filter(Ft))}var m,g,p,v=t(i),h=o.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:c,polygonStart:function(){y.point=u,y.lineStart=d,y.lineEnd=f,m=[],g=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=c,m=sa.merge(m);var e=Ht(h,g);m.length?(E||(i.polygonStart(),E=!0),Pt(m,Vt,e,n,i)):e&&(E||(i.polygonStart(),E=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),E&&(i.polygonEnd(),E=!1),m=g=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=Ut(),S=t(b),E=!1;return y}}function Ft(e){return e.length>1}function Ut(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:C,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Vt(e,t){return((e=e.x)[0]<0?e[1]-Fa-Ra:Fa-e[1])-((t=t.x)[0]<0?t[1]-Fa-Ra:Fa-t[1])}function zt(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var s=i>0?ka:-ka,l=ha(i-n);ha(l-ka)<Ra?(e.point(n,r=(r+a)/2>0?Fa:-Fa),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(i,r),t=0):o!==s&&l>=ka&&(ha(n-o)<Ra&&(n-=o*Ra),ha(i-s)<Ra&&(i-=s*Ra),r=Bt(n,r,i,a),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=i,r=a),o=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Bt(e,t,n,r){var o,i,a=Math.sin(e-n);return ha(a)>Ra?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(t))*Math.sin(e))/(o*i*a)):(t+r)/2}function $t(e,t,n,r){var o;if(null==e)o=n*Fa,r.point(-ka,o),r.point(0,o),r.point(ka,o),r.point(ka,0),r.point(ka,-o),r.point(0,-o),r.point(-ka,-o),r.point(-ka,0),r.point(-ka,o);else if(ha(e[0]-t[0])>Ra){var i=e[0]<t[0]?ka:-ka;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}function Ht(e,t){var n=e[0],r=e[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;_s.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],f=d[0],m=d[1]/2+ka/4,g=Math.sin(m),p=Math.cos(m),v=1;;){v===u&&(v=0),e=c[v];var h=e[0],y=e[1]/2+ka/4,b=Math.sin(y),S=Math.cos(y),E=h-f,_=E>=0?1:-1,A=_*E,w=A>ka,I=g*b;if(_s.add(Math.atan2(I*_*Math.sin(A),p*S+I*Math.cos(A))),i+=w?E+_*La:E,w^f>=n^h>=n){var C=Et(bt(d),bt(e));wt(C);var x=Et(o,C);wt(x);var T=(w^E>=0?-1:1)*ae(x[2]);(r>T||r===T&&(C[0]||C[1]))&&(a+=w^E>=0?1:-1)}if(!v++)break;f=h,g=b,p=S,d=e}}return(i<-Ra||i<Ra&&_s<0)^1&a}function Wt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e){var n,i,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,f){var m,g=[d,f],p=t(d,f),v=a?p?0:o(d,f):p?o(d+(d<0?ka:-ka),f):0;if(!n&&(c=l=p)&&e.lineStart(),p!==l&&(m=r(n,g),(Ct(n,m)||Ct(g,m))&&(g[0]+=Ra,g[1]+=Ra,p=t(g[0],g[1]))),p!==l)u=0,p?(e.lineStart(),m=r(g,n),e.point(m[0],m[1])):(m=r(n,g),e.point(m[0],m[1]),e.lineEnd()),n=m;else if(s&&n&&a^p){var h;v&i||!(h=r(g,n,!0))||(u=0,a?(e.lineStart(),e.point(h[0][0],h[0][1]),e.point(h[1][0],h[1][1]),e.lineEnd()):(e.point(h[1][0],h[1][1]),e.lineEnd(),e.lineStart(),e.point(h[0][0],h[0][1])))}!p||n&&Ct(n,g)||e.point(g[0],g[1]),n=g,l=p,i=v},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}function r(e,t,n){var r=bt(e),o=bt(t),a=[1,0,0],s=Et(r,o),l=St(s,s),c=s[0],u=l-c*c;if(!u)return!n&&e;var d=i*l/u,f=-i*c/u,m=Et(a,s),g=At(a,d),p=At(s,f);_t(g,p);var v=m,h=St(g,v),y=St(v,v),b=h*h-y*(St(g,g)-1);if(!(b<0)){var S=Math.sqrt(b),E=At(v,(-h-S)/y);if(_t(E,g),E=It(E),!n)return E;var _,A=e[0],w=t[0],I=e[1],C=t[1];w<A&&(_=A,A=w,w=_);var x=w-A,T=ha(x-ka)<Ra,O=T||x<Ra;if(!T&&C<I&&(_=I,I=C,C=_),O?T?I+C>0^E[1]<(ha(E[0]-A)<Ra?I:C):I<=E[1]&&E[1]<=C:x>ka^(A<=E[0]&&E[0]<=w)){var M=At(v,(-h+S)/y);return _t(M,g),[E,It(M)]}}}function o(t,n){var r=a?e:ka-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}var i=Math.cos(e),a=i>0,s=ha(i)>Ra,l=bn(e,6*Ua);return Gt(t,n,l,a?[0,-e]:[-ka,e-ka])}function jt(e,t,n,r){return function(o){var i,a=o.a,s=o.b,l=a.x,c=a.y,u=s.x,d=s.y,f=0,m=1,g=u-l,p=d-c;if(i=e-l,g||!(i>0)){if(i/=g,g<0){if(i<f)return;i<m&&(m=i)}else if(g>0){if(i>m)return;i>f&&(f=i)}if(i=n-l,g||!(i<0)){if(i/=g,g<0){if(i>m)return;i>f&&(f=i)}else if(g>0){if(i<f)return;i<m&&(m=i)}if(i=t-c,p||!(i>0)){if(i/=p,p<0){if(i<f)return;i<m&&(m=i)}else if(p>0){if(i>m)return;i>f&&(f=i)}if(i=r-c,p||!(i<0)){if(i/=p,p<0){if(i>m)return;i>f&&(f=i)}else if(p>0){if(i<f)return;i<m&&(m=i)}return f>0&&(o.a={x:l+f*g,y:c+f*p}),m<1&&(o.b={x:l+m*g,y:c+m*p}),o}}}}}}function qt(e,t,n,r){function o(r,o){return ha(r[0]-e)<Ra?o>0?0:3:ha(r[0]-n)<Ra?o>0?2:1:ha(r[1]-t)<Ra?o>0?1:0:o>0?3:2}function i(e,t){return a(e.x,t.x)}function a(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(e){for(var t=0,n=v.length,r=e[1],o=0;o<n;++o)for(var i,a=1,s=v[o],l=s.length,c=s[0];a<l;++a)i=s[a],c[1]<=r?i[1]>r&&oe(c,i,e)>0&&++t:i[1]<=r&&oe(c,i,e)<0&&--t,c=i;return 0!==t}function c(i,s,l,c){var u=0,d=0;if(null==i||(u=o(i,l))!==(d=o(s,l))||a(i,s)<0^l>0){do c.point(0===u||3===u?e:n,u>1?r:t);while((u=(u+l+4)%4)!==d)}else c.point(s[0],s[1])}function u(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function d(e,t){u(e,t)&&s.point(e,t)}function f(){O.point=g,v&&v.push(h=[]),w=!0,A=!1,E=_=NaN}function m(){p&&(g(y,b),S&&A&&x.rejoin(),p.push(x.buffer())),O.point=d,A&&s.lineEnd()}function g(e,t){e=Math.max(-Gs,Math.min(Gs,e)),t=Math.max(-Gs,Math.min(Gs,t));var n=u(e,t);if(v&&h.push([e,t]),w)y=e,b=t,S=n,w=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&A)s.point(e,t);else{var r={a:{x:E,y:_},b:{x:e,y:t}};T(r)?(A||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),I=!1):n&&(s.lineStart(),s.point(e,t),I=!1)}E=e,_=t,A=n}var p,v,h,y,b,S,E,_,A,w,I,C=s,x=Ut(),T=jt(e,t,n,r),O={point:d,lineStart:f,lineEnd:m,polygonStart:function(){s=x,p=[],v=[],I=!0},polygonEnd:function(){s=C,p=sa.merge(p);var t=l([e,r]),n=I&&t,o=p.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),o&&Pt(p,i,t,c,s),s.polygonEnd()),p=v=h=null}};return O}}function Yt(e){var t=0,n=ka/3,r=dn(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*ka/180,n=e[1]*ka/180):[t/ka*180,n/ka*180]},o}function Kt(e,t){function n(e,t){var n=Math.sqrt(i-2*o*Math.sin(t))/o;return[n*Math.sin(e*=o),a-n*Math.cos(e)]}var r=Math.sin(e),o=(r+Math.sin(t))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/o,ae((i-(e*e+n*n)*o*o)/(2*o))]},n}function Zt(){function e(e,t){Us+=o*e-r*t,r=e,o=t}var t,n,r,o;Hs.point=function(i,a){Hs.point=e,t=r=i,n=o=a},Hs.lineEnd=function(){e(t,n)}}function Xt(e,t){e<Vs&&(Vs=e),e>Bs&&(Bs=e),t<zs&&(zs=t),t>$s&&($s=t)}function Jt(){function e(e,t){a.push("M",e,",",t,i)}function t(e,t){a.push("M",e,",",t),s.point=n}function n(e,t){a.push("L",e,",",t)}function r(){s.point=e}function o(){a.push("Z")}var i=Qt(4.5),a=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return i=Qt(e),s},result:function(){if(a.length){var e=a.join("");return a=[],e}}};return s}function Qt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function en(e,t){Cs+=e,xs+=t,++Ts}function tn(){function e(e,r){var o=e-t,i=r-n,a=Math.sqrt(o*o+i*i);Os+=a*(t+e)/2,Ms+=a*(n+r)/2,Ds+=a,en(t=e,n=r)}var t,n;js.point=function(r,o){js.point=e,en(t=r,n=o)}}function nn(){js.point=en}function rn(){function e(e,t){var n=e-r,i=t-o,a=Math.sqrt(n*n+i*i);Os+=a*(r+e)/2,Ms+=a*(o+t)/2,Ds+=a,a=o*e-r*t,Ns+=a*(r+e),Rs+=a*(o+t),Ps+=3*a,en(r=e,o=t)}var t,n,r,o;js.point=function(i,a){js.point=e,en(t=r=i,n=o=a)},js.lineEnd=function(){e(t,n)}}function on(e){function t(t,n){e.moveTo(t+a,n),e.arc(t,n,a,0,La)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function o(){s.point=t}function i(){e.closePath()}var a=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=t},pointRadius:function(e){return a=e,s},result:C};return s}function an(e){function t(e){return(s?r:n)(e)}function n(t){return cn(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){b=NaN,w.point=i,t.lineStart()}function i(n,r){var i=bt([n,r]),a=e(n,r);o(b,S,y,E,_,A,b=a[0],S=a[1],y=n,E=i[0],_=i[1],A=i[2],s,t),t.point(b,S)}function a(){w.point=n,t.lineEnd()}function l(){r(),w.point=c,w.lineEnd=u}function c(e,t){i(d=e,f=t),m=b,g=S,p=E,v=_,h=A,w.point=i}function u(){o(b,S,y,E,_,A,m,g,d,p,v,h,s,t),w.lineEnd=a,a()}var d,f,m,g,p,v,h,y,b,S,E,_,A,w={point:n,lineStart:r,lineEnd:a,polygonStart:function(){t.polygonStart(),w.lineStart=l},polygonEnd:function(){t.polygonEnd(),w.lineStart=r}};return w}function o(t,n,r,s,l,c,u,d,f,m,g,p,v,h){var y=u-t,b=d-n,S=y*y+b*b;if(S>4*i&&v--){var E=s+m,_=l+g,A=c+p,w=Math.sqrt(E*E+_*_+A*A),I=Math.asin(A/=w),C=ha(ha(A)-1)<Ra||ha(r-f)<Ra?(r+f)/2:Math.atan2(_,E),x=e(C,I),T=x[0],O=x[1],M=T-t,D=O-n,N=b*M-y*D;(N*N/S>i||ha((y*M+b*D)/S-.5)>.3||s*m+l*g+c*p<a)&&(o(t,n,r,s,l,c,T,O,C,E/=w,_/=w,A,v,h),h.point(T,O),o(T,O,C,E,_,A,u,d,f,m,g,p,v,h))}}var i=.5,a=Math.cos(30*Ua),s=16;return t.precision=function(e){return arguments.length?(s=(i=e*e)>0&&16,t):Math.sqrt(i)},t}function sn(e){var t=an(function(t,n){return e([t*Va,n*Va])});return function(e){return fn(t(e))}}function ln(e){this.stream=e}function cn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function un(e){return dn(function(){return e})()}function dn(e){function t(e){return e=s(e[0]*Ua,e[1]*Ua),[e[0]*f+l,c-e[1]*f]}function n(e){return e=s.invert((e[0]-l)/f,(c-e[1])/f),e&&[e[0]*Va,e[1]*Va]}function r(){s=Nt(a=pn(h,y,b),i);var e=i(p,v);return l=m-e[0]*f,c=g+e[1]*f,o()}function o(){return u&&(u.valid=!1,u=null),t}var i,a,s,l,c,u,d=an(function(e,t){return e=i(e,t),[e[0]*f+l,c-e[1]*f]}),f=150,m=480,g=250,p=0,v=0,h=0,y=0,b=0,S=Ls,E=A,_=null,w=null;return t.stream=function(e){return u&&(u.valid=!1),u=fn(S(a,d(E(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(S=null==e?(_=e,Ls):Wt((_=+e)*Ua),o()):_},t.clipExtent=function(e){return arguments.length?(w=e,E=e?qt(e[0][0],e[0][1],e[1][0],e[1][1]):A,o()):w},t.scale=function(e){return arguments.length?(f=+e,r()):f},t.translate=function(e){return arguments.length?(m=+e[0],g=+e[1],r()):[m,g]},t.center=function(e){return arguments.length?(p=e[0]%360*Ua,v=e[1]%360*Ua,r()):[p*Va,v*Va]},t.rotate=function(e){return arguments.length?(h=e[0]%360*Ua,y=e[1]%360*Ua,b=e.length>2?e[2]%360*Ua:0,r()):[h*Va,y*Va,b*Va]},sa.rebind(t,d,"precision"),function(){return i=e.apply(this,arguments),t.invert=i.invert&&n,r()}}function fn(e){return cn(e,function(t,n){e.point(t*Ua,n*Ua)})}function mn(e,t){return[e,t]}function gn(e,t){return[e>ka?e-La:e<-ka?e+La:e,t]}function pn(e,t,n){return e?t||n?Nt(hn(e),yn(t,n)):hn(e):t||n?yn(t,n):gn}function vn(e){return function(t,n){return t+=e,[t>ka?t-La:t<-ka?t+La:t,n]}}function hn(e){var t=vn(e);return t.invert=vn(-e),t}function yn(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*r+s*o;return[Math.atan2(l*i-u*a,s*r-c*o),ae(u*i+l*a)]}var r=Math.cos(e),o=Math.sin(e),i=Math.cos(t),a=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*i-l*a;return[Math.atan2(l*i+c*a,s*r+u*o),ae(u*r-s*o)]},n}function bn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(o,i,a,s){var l=a*t;null!=o?(o=Sn(n,o),i=Sn(n,i),(a>0?o<i:o>i)&&(o+=a*La)):(o=e+a*La,i=e-.5*l);for(var c,u=o;a>0?u>i:u<i;u-=l)s.point((c=It([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function Sn(e,t){var n=bt(t);n[0]-=e,wt(n);var r=ie(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ra)%(2*Math.PI)}function En(e,t,n){var r=sa.range(e,t-Ra,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function _n(e,t,n){var r=sa.range(e,t-Ra,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function An(e){return e.source}function wn(e){return e.target}function In(e,t,n,r){var o=Math.cos(t),i=Math.sin(t),a=Math.cos(r),s=Math.sin(r),l=o*Math.cos(e),c=o*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ue(r-t)+o*a*ue(n-e))),m=1/Math.sin(f),g=f?function(e){var t=Math.sin(e*=f)*m,n=Math.sin(f-e)*m,r=n*l+t*u,o=n*c+t*d,a=n*i+t*s;return[Math.atan2(o,r)*Va,Math.atan2(a,Math.sqrt(r*r+o*o))*Va]}:function(){return[e*Va,t*Va]};return g.distance=f,g}function Cn(){function e(e,o){var i=Math.sin(o*=Ua),a=Math.cos(o),s=ha((e*=Ua)-t),l=Math.cos(s);qs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*i-n*a*l)*s),n*i+r*a*l),t=e,n=i,r=a}var t,n,r;Ys.point=function(o,i){t=o*Ua,n=Math.sin(i*=Ua),r=Math.cos(i),Ys.point=e},Ys.lineEnd=function(){Ys.point=Ys.lineEnd=C}}function xn(e,t){function n(t,n){var r=Math.cos(t),o=Math.cos(n),i=e(r*o);return[i*o*Math.sin(t),i*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),o=t(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(e*i,r*a),Math.asin(r&&n*i/r)]},n}function Tn(e,t){function n(e,t){a>0?t<-Fa+Ra&&(t=-Fa+Ra):t>Fa-Ra&&(t=Fa-Ra);var n=a/Math.pow(o(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var r=Math.cos(e),o=function(e){return Math.tan(ka/4+e/2)},i=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(o(t)/o(e)),a=r*Math.pow(o(e),i)/i;return i?(n.invert=function(e,t){var n=a-t,r=re(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Fa]},n):Mn}function On(e,t){function n(e,t){var n=i-t;return[n*Math.sin(o*e),i-n*Math.cos(o*e)]}var r=Math.cos(e),o=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),i=r/o+e;return ha(o)<Ra?mn:(n.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/o,i-re(o)*Math.sqrt(e*e+n*n)]},n)}function Mn(e,t){return[e,Math.log(Math.tan(ka/4+t/2))]}function Dn(e){var t,n=un(e),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=o.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=i.apply(n,arguments);if(a===n){if(t=null==e){var s=ka*r(),l=o();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}function Nn(e,t){return[Math.log(Math.tan(ka/4+t/2)),-e]}function Rn(e){return e[0]}function Pn(e){return e[1]}function kn(e){for(var t=e.length,n=[0,1],r=2,o=2;o<t;o++){for(;r>1&&oe(e[n[r-2]],e[n[r-1]],e[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function Ln(e,t){return e[0]-t[0]||e[1]-t[1]}function Gn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Fn(e,t,n,r){var o=e[0],i=n[0],a=t[0]-o,s=r[0]-i,l=e[1],c=n[1],u=t[1]-l,d=r[1]-c,f=(s*(l-c)-d*(o-i))/(d*a-s*u);return[o+f*a,l+f*u]}function Un(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Vn(){sr(this),this.edge=this.site=this.circle=null}function zn(e){var t=al.pop()||new Vn;return t.site=e,t}function Bn(e){Jn(e),rl.remove(e),al.push(e),sr(e)}function $n(e){var t=e.circle,n=t.x,r=t.cy,o={x:n,y:r},i=e.P,a=e.N,s=[e];Bn(e);for(var l=i;l.circle&&ha(n-l.circle.x)<Ra&&ha(r-l.circle.cy)<Ra;)i=l.P,s.unshift(l),Bn(l),l=i;s.unshift(l),Jn(l);for(var c=a;c.circle&&ha(n-c.circle.x)<Ra&&ha(r-c.circle.cy)<Ra;)a=c.N,s.push(c),Bn(c),c=a;s.push(c),Jn(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],or(c.edge,l.site,c.site,o);l=s[0],c=s[d-1],c.edge=nr(l.site,c.site,null,o),Xn(l),Xn(c)}function Hn(e){for(var t,n,r,o,i=e.x,a=e.y,s=rl._;s;)if(r=Wn(s,a)-i,r>Ra)s=s.L;else{if(o=i-jn(s,a),!(o>Ra)){r>-Ra?(t=s.P,n=s):o>-Ra?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=zn(e);if(rl.insert(t,l),t||n){if(t===n)return Jn(t),n=zn(t.site),rl.insert(l,n),l.edge=n.edge=nr(t.site,l.site),Xn(t),void Xn(n);if(!n)return void(l.edge=nr(t.site,l.site));Jn(t),Jn(n);var c=t.site,u=c.x,d=c.y,f=e.x-u,m=e.y-d,g=n.site,p=g.x-u,v=g.y-d,h=2*(f*v-m*p),y=f*f+m*m,b=p*p+v*v,S={x:(v*y-m*b)/h+u,y:(f*b-p*y)/h+d};or(n.edge,c,g,S),l.edge=nr(c,e,null,S),n.edge=nr(e,g,null,S),Xn(t),Xn(n)}}function Wn(e,t){var n=e.site,r=n.x,o=n.y,i=o-t;if(!i)return r;var a=e.P;if(!a)return-(1/0);n=a.site;var s=n.x,l=n.y,c=l-t;if(!c)return s;var u=s-r,d=1/i-1/c,f=u/c;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-l+c/2+o-i/2)))/d+r:(r+s)/2}function jn(e,t){var n=e.N;if(n)return Wn(n,t);var r=e.site;return r.y===t?r.x:1/0}function qn(e){this.site=e,this.edges=[]}function Yn(e){for(var t,n,r,o,i,a,s,l,c,u,d=e[0][0],f=e[1][0],m=e[0][1],g=e[1][1],p=nl,v=p.length;v--;)if(i=p[v],i&&i.prepare())for(s=i.edges,l=s.length,a=0;a<l;)u=s[a].end(),r=u.x,o=u.y,c=s[++a%l].start(),t=c.x,n=c.y,(ha(r-t)>Ra||ha(o-n)>Ra)&&(s.splice(a,0,new ir(rr(i.site,u,ha(r-d)<Ra&&g-o>Ra?{x:d,y:ha(t-d)<Ra?n:g}:ha(o-g)<Ra&&f-r>Ra?{x:ha(n-g)<Ra?t:f,y:g}:ha(r-f)<Ra&&o-m>Ra?{x:f,y:ha(t-f)<Ra?n:m}:ha(o-m)<Ra&&r-d>Ra?{x:ha(n-m)<Ra?t:d,y:m}:null),i.site,null)),++l)}function Kn(e,t){return t.angle-e.angle}function Zn(){sr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o.x,s=o.y,l=r.x-a,c=r.y-s,u=i.x-a,d=i.y-s,f=2*(l*d-c*u);if(!(f>=-Pa)){var m=l*l+c*c,g=u*u+d*d,p=(d*m-c*g)/f,v=(l*g-u*m)/f,d=v+s,h=sl.pop()||new Zn;h.arc=e,h.site=o,h.x=p+a,h.y=d+Math.sqrt(p*p+v*v),h.cy=d,e.circle=h;for(var y=null,b=il._;b;)if(h.y<b.y||h.y===b.y&&h.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}il.insert(y,h),y||(ol=h)}}}}function Jn(e){var t=e.circle;t&&(t.P||(ol=t.N),il.remove(t),sl.push(t),sr(t),e.circle=null)}function Qn(e){for(var t,n=tl,r=jt(e[0][0],e[0][1],e[1][0],e[1][1]),o=n.length;o--;)t=n[o],(!er(t,e)||!r(t)||ha(t.a.x-t.b.x)<Ra&&ha(t.a.y-t.b.y)<Ra)&&(t.a=t.b=null,n.splice(o,1))}function er(e,t){var n=e.b;if(n)return!0;var r,o,i=e.a,a=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,f=u.x,m=u.y,g=d.x,p=d.y,v=(f+g)/2,h=(m+p)/2;if(p===m){if(v<a||v>=s)return;if(f>g){if(i){if(i.y>=c)return}else i={x:v,y:l};n={x:v,y:c}}else{if(i){if(i.y<l)return}else i={x:v,y:c};n={x:v,y:l}}}else if(r=(f-g)/(p-m),o=h-r*v,r<-1||r>1)if(f>g){if(i){if(i.y>=c)return}else i={x:(l-o)/r,y:l};n={x:(c-o)/r,y:c}}else{if(i){if(i.y<l)return}else i={x:(c-o)/r,y:c};n={x:(l-o)/r,y:l}}else if(m<p){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return e.a=i,e.b=n,!0}function tr(e,t){this.l=e,this.r=t,this.a=this.b=null}function nr(e,t,n,r){var o=new tr(e,t);return tl.push(o),n&&or(o,e,t,n),r&&or(o,t,e,r),nl[e.i].edges.push(new ir(o,e,t)),nl[t.i].edges.push(new ir(o,t,e)),o}function rr(e,t,n){var r=new tr(e,null);return r.a=t,r.b=n,tl.push(r),r}function or(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ir(e,t,n){var r=e.a,o=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function ar(){this._=null}function sr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function lr(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cr(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ur(e){for(;e.L;)e=e.L;return e}function dr(e,t){var n,r,o,i=e.sort(fr).pop();for(tl=[],nl=new Array(e.length),rl=new ar,il=new ar;;)if(o=ol,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(nl[i.i]=new qn(i),Hn(i),n=i.x,r=i.y),i=e.pop();else{if(!o)break;$n(o.arc)}t&&(Qn(t),Yn(t));var a={cells:nl,edges:tl};return rl=il=tl=nl=null,a}function fr(e,t){return t.y-e.y||t.x-e.x}function mr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function gr(e){return e.x}function pr(e){return e.y}function vr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(e,t,n,r,o,i){if(!e(t,n,r,o,i)){var a=.5*(n+o),s=.5*(r+i),l=t.nodes;l[0]&&hr(e,l[0],n,r,a,s),l[1]&&hr(e,l[1],a,r,o,s),l[2]&&hr(e,l[2],n,s,a,i),l[3]&&hr(e,l[3],a,s,o,i)}}function yr(e,t,n,r,o,i,a){var s,l=1/0;return function e(c,u,d,f,m){if(!(u>i||d>a||f<r||m<o)){if(g=c.point){var g,p=t-c.x,v=n-c.y,h=p*p+v*v;if(h<l){var y=Math.sqrt(l=h);r=t-y,o=n-y,i=t+y,a=n+y,s=g}}for(var b=c.nodes,S=.5*(u+f),E=.5*(d+m),_=t>=S,A=n>=E,w=A<<1|_,I=w+4;w<I;++w)if(c=b[3&w])switch(3&w){case 0:e(c,u,d,S,E);break;case 1:e(c,S,d,f,E);break;case 2:e(c,u,E,S,m);break;case 3:e(c,S,E,f,m)}}}(e,r,o,i,a),s}function br(e,t){e=sa.rgb(e),t=sa.rgb(t);var n=e.r,r=e.g,o=e.b,i=t.r-n,a=t.g-r,s=t.b-o;return function(e){return"#"+Ie(Math.round(n+i*e))+Ie(Math.round(r+a*e))+Ie(Math.round(o+s*e))}}function Sr(e,t){var n,r={},o={};for(n in e)n in t?r[n]=Ar(e[n],t[n]):o[n]=e[n];for(n in t)n in e||(o[n]=t[n]);return function(e){for(n in r)o[n]=r[n](e);return o}}function Er(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _r(e,t){var n,r,o,i=cl.lastIndex=ul.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=cl.exec(e))&&(r=ul.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Er(n,r)})),i=ul.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Ar(e,t){for(var n,r=sa.interpolators.length;--r>=0&&!(n=sa.interpolators[r](e,t)););return n}function wr(e,t){var n,r=[],o=[],i=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(Ar(e[n],t[n]));for(;n<i;++n)o[n]=e[n];for(;n<a;++n)o[n]=t[n];return function(e){for(n=0;n<s;++n)o[n]=r[n](e);return o}}function Ir(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Cr(e){return function(t){return 1-e(1-t)}}function xr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Tr(e){return e*e}function Or(e){return e*e*e}function Mr(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Dr(e){return function(t){return Math.pow(t,e)}}function Nr(e){return 1-Math.cos(e*Fa)}function Rr(e){return Math.pow(2,10*(e-1))}function Pr(e){return 1-Math.sqrt(1-e*e)}function kr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/La*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*La/t)}}function Lr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Gr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Fr(e,t){e=sa.hcl(e),t=sa.hcl(t);var n=e.h,r=e.c,o=e.l,i=t.h-n,a=t.c-r,s=t.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return pe(n+i*e,r+a*e,o+s*e)+""}}function Ur(e,t){e=sa.hsl(e),t=sa.hsl(t);var n=e.h,r=e.s,o=e.l,i=t.h-n,a=t.s-r,s=t.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return me(n+i*e,r+a*e,o+s*e)+""}}function Vr(e,t){e=sa.lab(e),t=sa.lab(t);var n=e.l,r=e.a,o=e.b,i=t.l-n,a=t.a-r,s=t.b-o;return function(e){return he(n+i*e,r+a*e,o+s*e)+""}}function zr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Br(e){var t=[e.a,e.b],n=[e.c,e.d],r=Hr(t),o=$r(t,n),i=Hr(Wr(n,t,-o))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Va,this.translate=[e.e,e.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Va:0}function $r(e,t){return e[0]*t[0]+e[1]*t[1]}function Hr(e){var t=Math.sqrt($r(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Wr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function jr(e,t){var n,r=[],o=[],i=sa.transform(e),a=sa.transform(t),s=i.translate,l=a.translate,c=i.rotate,u=a.rotate,d=i.skew,f=a.skew,m=i.scale,g=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),o.push({i:1,x:Er(s[0],l[0])},{i:3,x:Er(s[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),o.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Er(c,u)})):u&&r.push(r.pop()+"rotate("+u+")"),d!=f?o.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Er(d,f)}):f&&r.push(r.pop()+"skewX("+f+")"),m[0]!=g[0]||m[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),o.push({i:n-4,x:Er(m[0],g[0])},{i:n-2,x:Er(m[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),n=o.length,function(e){for(var t,i=-1;++i<n;)r[(t=o[i]).i]=t.x(e);return r.join("")}}function qr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Yr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Kr(e){for(var t=e.source,n=e.target,r=Xr(t,n),o=[t];t!==r;)t=t.parent,o.push(t);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function Zr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Xr(e,t){if(e===t)return e;for(var n=Zr(e),r=Zr(t),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}function Jr(e){e.fixed|=2}function Qr(e){e.fixed&=-7}function eo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function to(e){e.fixed&=-5}function no(e,t,n){var r=0,o=0;if(e.charge=0,!e.leaf)for(var i,a=e.nodes,s=a.length,l=-1;++l<s;)i=a[l],null!=i&&(no(i,t,n),e.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,o+=c*e.point.y}e.cx=r/e.charge,e.cy=o/e.charge}function ro(e,t){return sa.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=co,e}function oo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(o=e.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function io(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(e=r.pop());)t(e)}function ao(e){return e.children}function so(e){return e.value}function lo(e,t){return t.value-e.value}function co(e){return sa.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function uo(e){return e.x}function fo(e){return e.y}function mo(e,t,n){e.y0=t,e.y=n}function go(e){return sa.range(e.length)}function po(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function vo(e){for(var t,n=1,r=0,o=e[0][1],i=e.length;n<i;++n)(t=e[n][1])>o&&(r=n,o=t);return r}function ho(e){return e.reduce(yo,0)}function yo(e,t){return e+t[1]}function bo(e,t){return So(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function So(e,t){for(var n=-1,r=+e[0],o=(e[1]-r)/t,i=[];++n<=t;)i[n]=o*n+r;return i}function Eo(e){return[sa.min(e),sa.max(e)]}function _o(e,t){return e.value-t.value}function Ao(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function wo(e,t){e._pack_next=t,t._pack_prev=e}function Io(e,t){var n=t.x-e.x,r=t.y-e.y,o=e.r+t.r;return.999*o*o>n*n+r*r}function Co(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),f=Math.min(e.y-e.r,f),m=Math.max(e.y+e.r,m)}if((n=e.children)&&(c=n.length)){var n,r,o,i,a,s,l,c,u=1/0,d=-(1/0),f=1/0,m=-(1/0);if(n.forEach(xo),r=n[0],r.x=-r.r,r.y=0,t(r),c>1&&(o=n[1],o.x=o.r,o.y=0,t(o),c>2))for(i=n[2],Mo(r,o,i),t(i),Ao(r,i),r._pack_prev=i,Ao(i,o),o=r._pack_next,a=3;a<c;a++){Mo(r,o,i=n[a]);var g=0,p=1,v=1;for(s=o._pack_next;s!==o;s=s._pack_next,p++)if(Io(s,i)){g=1;break}if(1==g)for(l=r._pack_prev;l!==s._pack_prev&&!Io(l,i);l=l._pack_prev,v++);g?(p<v||p==v&&o.r<r.r?wo(r,o=s):wo(r=l,o),a--):(Ao(r,i),o=i,t(i))}var h=(u+d)/2,y=(f+m)/2,b=0;for(a=0;a<c;a++)i=n[a],i.x-=h,i.y-=y,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=b,n.forEach(To)}}function xo(e){e._pack_next=e._pack_prev=e}function To(e){delete e._pack_next,delete e._pack_prev}function Oo(e,t,n,r){var o=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,o)for(var i=-1,a=o.length;++i<a;)Oo(o[i],t,n,r)}function Mo(e,t,n){var r=e.r+n.r,o=t.x-e.x,i=t.y-e.y;if(r&&(o||i)){var a=t.r+n.r,s=o*o+i*i;a*=a,r*=r;var l=.5+(r-a)/(2*s),c=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*o+c*i,n.y=e.y+l*i-c*o}else n.x=e.x+r,n.y=e.y}function Do(e,t){return e.parent==t.parent?1:2}function No(e){var t=e.children;return t.length?t[0]:e.t}function Ro(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Po(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ko(e){for(var t,n=0,r=0,o=e.children,i=o.length;--i>=0;)t=o[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Lo(e,t,n){return e.a.parent===t.parent?e.a:n}function Go(e){return 1+sa.max(e,function(e){return e.y})}function Fo(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Uo(e){var t=e.children;
return t&&t.length?Uo(t[0]):e}function Vo(e){var t,n=e.children;return n&&(t=n.length)?Vo(n[t-1]):e}function zo(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Bo(e,t){var n=e.x+t[3],r=e.y+t[0],o=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return o<0&&(n+=o/2,o=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function $o(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Ho(e){return e.rangeExtent?e.rangeExtent():$o(e.range())}function Wo(e,t,n,r){var o=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(o(e))}}function jo(e,t){var n,r=0,o=e.length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function qo(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:El}function Yo(e,t,n,r){var o=[],i=[],a=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=s;)o.push(n(e[a-1],e[a])),i.push(r(t[a-1],t[a]));return function(t){var n=sa.bisect(e,t,1,s)-1;return i[n](o[n](t))}}function Ko(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?Yo:Wo,l=r?Yr:qr;return a=o(e,t,l,n),s=o(t,e,l,Ar),i}function i(e){return a(e)}var a,s;return i.invert=function(e){return s(e)},i.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},i.range=function(e){return arguments.length?(t=e,o()):t},i.rangeRound=function(e){return i.range(e).interpolate(zr)},i.clamp=function(e){return arguments.length?(r=e,o()):r},i.interpolate=function(e){return arguments.length?(n=e,o()):n},i.ticks=function(t){return Qo(e,t)},i.tickFormat=function(t,n){return ei(e,t,n)},i.nice=function(t){return Xo(e,t),o()},i.copy=function(){return Ko(e,t,n,r)},o()}function Zo(e,t){return sa.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Xo(e,t){return jo(e,qo(Jo(e,t)[2]))}function Jo(e,t){null==t&&(t=10);var n=$o(e),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function Qo(e,t){return sa.range.apply(sa,Jo(e,t))}function ei(e,t,n){var r=Jo(e,t);if(n){var o=cs.exec(n);if(o.shift(),"s"===o[8]){var i=sa.formatPrefix(Math.max(ha(r[0]),ha(r[1])));return o[7]||(o[7]="."+ti(i.scale(r[2]))),o[8]="f",n=sa.format(o.join("")),function(e){return n(i.scale(e))+i.symbol}}o[7]||(o[7]="."+ni(o[8],r)),n=o.join("")}else n=",."+ti(r[2])+"f";return sa.format(n)}function ti(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ni(e,t){var n=ti(t[2]);return e in _l?Math.abs(n-ti(Math.max(ha(t[0]),ha(t[1]))))+ +("e"!==e):n-2*("%"===e)}function ri(e,t,n,r){function o(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function i(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function a(t){return e(o(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(o)),a):r},a.base=function(n){return arguments.length?(t=+n,e.domain(r.map(o)),a):t},a.nice=function(){var t=jo(r.map(o),n?Math:wl);return e.domain(t),r=t.map(i),a},a.ticks=function(){var e=$o(r),a=[],s=e[0],l=e[1],c=Math.floor(o(s)),u=Math.ceil(o(l)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var f=1;f<d;f++)a.push(i(c)*f);a.push(i(c))}else for(a.push(i(c));c++<u;)for(var f=d-1;f>0;f--)a.push(i(c)*f);for(c=0;a[c]<s;c++);for(u=a.length;a[u-1]>l;u--);a=a.slice(c,u)}return a},a.tickFormat=function(e,t){if(!arguments.length)return Al;arguments.length<2?t=Al:"function"!=typeof t&&(t=sa.format(t));var r,s=Math.max(.1,e/a.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/i(l(o(e)+r))<=s?t(e):""}},a.copy=function(){return ri(e.copy(),t,n,r)},Zo(a,e)}function oi(e,t,n){function r(t){return e(o(t))}var o=ii(t),i=ii(1/t);return r.invert=function(t){return i(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(o)),r):n},r.ticks=function(e){return Qo(n,e)},r.tickFormat=function(e,t){return ei(n,e,t)},r.nice=function(e){return r.domain(Xo(n,e))},r.exponent=function(a){return arguments.length?(o=ii(t=a),i=ii(1/t),e.domain(n.map(o)),r):t},r.copy=function(){return oi(e.copy(),t,n)},Zo(r,e)}function ii(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ai(e,t){function n(n){return i[((o.get(n)||("range"===t.t?o.set(n,e.push(n)):NaN))-1)%i.length]}function r(t,n){return sa.range(e.length).map(function(e){return t+n*e})}var o,i,a;return n.domain=function(r){if(!arguments.length)return e;e=[],o=new g;for(var i,a=-1,s=r.length;++a<s;)o.has(i=r[a])||o.set(i,e.push(i));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(i=e,a=0,t={t:"range",a:arguments},n):i},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],c=o[1],u=e.length<2?(l=(l+c)/2,0):(c-l)/(e.length-1+s);return i=r(l+u*s/2,u),a=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],c=o[1],u=e.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(e.length-1+s)|0;return i=r(l+Math.round(u*s/2+(c-l-(e.length-1+s)*u)/2),u),a=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=o[1]<o[0],u=o[c-0],d=o[1-c],f=(d-u)/(e.length-s+2*l);return i=r(u+f*l,f),c&&i.reverse(),a=f*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=o[1]<o[0],u=o[c-0],d=o[1-c],f=Math.floor((d-u)/(e.length-s+2*l));return i=r(u+Math.round((d-u-(e.length-s)*f)/2),f),c&&i.reverse(),a=Math.round(f*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return $o(t.a[0])},n.copy=function(){return ai(e,t)},n.domain(e)}function si(e,t){function n(){var n=0,i=t.length;for(o=[];++n<i;)o[n-1]=sa.quantile(e,n/i);return r}function r(e){if(!isNaN(e=+e))return t[sa.bisect(o,e)]}var o;return r.domain=function(t){return arguments.length?(e=t.map(l).filter(c).sort(s),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return o},r.invertExtent=function(n){return n=t.indexOf(n),n<0?[NaN,NaN]:[n>0?o[n-1]:e[0],n<o.length?o[n]:e[e.length-1]]},r.copy=function(){return si(e,t)},n()}function li(e,t,n){function r(t){return n[Math.max(0,Math.min(a,Math.floor(i*(t-e))))]}function o(){return i=n.length/(t-e),a=n.length-1,r}var i,a;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},r.range=function(e){return arguments.length?(n=e,o()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/i+e,[t,t+1/i]},r.copy=function(){return li(e,t,n)},o()}function ci(e,t){function n(n){if(n<=n)return t[sa.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ci(e,t)},n}function ui(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Qo(e,t)},t.tickFormat=function(t,n){return ei(e,t,n)},t.copy=function(){return ui(e)},t}function di(){return 0}function fi(e){return e.innerRadius}function mi(e){return e.outerRadius}function gi(e){return e.startAngle}function pi(e){return e.endAngle}function vi(e){return e&&e.padAngle}function hi(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function yi(e,t,n,r,o){var i=e[0]-t[0],a=e[1]-t[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),l=s*a,c=-s*i,u=e[0]+l,d=e[1]+c,f=t[0]+l,m=t[1]+c,g=(u+f)/2,p=(d+m)/2,v=f-u,h=m-d,y=v*v+h*h,b=n-r,S=u*m-f*d,E=(h<0?-1:1)*Math.sqrt(b*b*y-S*S),_=(S*h-v*E)/y,A=(-S*v-h*E)/y,w=(S*h+v*E)/y,I=(-S*v+h*E)/y,C=_-g,x=A-p,T=w-g,O=I-p;return C*C+x*x>T*T+O*O&&(_=w,A=I),[[_-l,A-c],[_*n/b,A*n/b]]}function bi(e){function t(t){function a(){c.push("M",i(e(u),s))}for(var l,c=[],u=[],d=-1,f=t.length,m=De(n),g=De(r);++d<f;)o.call(this,l=t[d],d)?u.push([+m.call(this,l,d),+g.call(this,l,d)]):u.length&&(a(),u=[]);return u.length&&a(),c.length?c.join(""):null}var n=Rn,r=Pn,o=Rt,i=Si,a=i.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(a="function"==typeof e?i=e:(i=Ml.get(e)||Si).key,t):a},t.tension=function(e){return arguments.length?(s=e,t):s},t}function Si(e){return e.join("L")}function Ei(e){return Si(e)+"Z"}function _i(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")}function Ai(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("V",(r=e[t])[1],"H",r[0]);return o.join("")}function wi(e){for(var t=0,n=e.length,r=e[0],o=[r[0],",",r[1]];++t<n;)o.push("H",(r=e[t])[0],"V",r[1]);return o.join("")}function Ii(e,t){return e.length<4?Si(e):e[1]+Ti(e.slice(1,-1),Oi(e,t))}function Ci(e,t){return e.length<3?Si(e):e[0]+Ti((e.push(e[0]),e),Oi([e[e.length-2]].concat(e,[e[1]]),t))}function xi(e,t){return e.length<3?Si(e):e[0]+Ti(e,Oi(e,t))}function Ti(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Si(e);var n=e.length!=t.length,r="",o=e[0],i=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=e[1],l=2),t.length>1){s=t[1],i=e[l],l++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,l++)i=e[l],s=t[c],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var u=e[l];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Oi(e,t){for(var n,r=[],o=(1-t)/2,i=e[0],a=e[1],s=1,l=e.length;++s<l;)n=i,i=a,a=e[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Mi(e){if(e.length<3)return Si(e);var t=1,n=e.length,r=e[0],o=r[0],i=r[1],a=[o,o,o,(r=e[1])[0]],s=[i,i,i,r[1]],l=[o,",",i,"L",Pi(Rl,a),",",Pi(Rl,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),ki(l,a,s);return e.pop(),l.push("L",r),l.join("")}function Di(e){if(e.length<4)return Si(e);for(var t,n=[],r=-1,o=e.length,i=[0],a=[0];++r<3;)t=e[r],i.push(t[0]),a.push(t[1]);for(n.push(Pi(Rl,i)+","+Pi(Rl,a)),--r;++r<o;)t=e[r],i.shift(),i.push(t[0]),a.shift(),a.push(t[1]),ki(n,i,a);return n.join("")}function Ni(e){for(var t,n,r=-1,o=e.length,i=o+4,a=[],s=[];++r<4;)n=e[r%o],a.push(n[0]),s.push(n[1]);for(t=[Pi(Rl,a),",",Pi(Rl,s)],--r;++r<i;)n=e[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),ki(t,a,s);return t.join("")}function Ri(e,t){var n=e.length-1;if(n)for(var r,o,i=e[0][0],a=e[0][1],s=e[n][0]-i,l=e[n][1]-a,c=-1;++c<=n;)r=e[c],o=c/n,r[0]=t*r[0]+(1-t)*(i+o*s),r[1]=t*r[1]+(1-t)*(a+o*l);return Mi(e)}function Pi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ki(e,t,n){e.push("C",Pi(Dl,t),",",Pi(Dl,n),",",Pi(Nl,t),",",Pi(Nl,n),",",Pi(Rl,t),",",Pi(Rl,n))}function Li(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Gi(e){for(var t=0,n=e.length-1,r=[],o=e[0],i=e[1],a=r[0]=Li(o,i);++t<n;)r[t]=(a+(a=Li(o=i,i=e[t+1])))/2;return r[t]=a,r}function Fi(e){for(var t,n,r,o,i=[],a=Gi(e),s=-1,l=e.length-1;++s<l;)t=Li(e[s],e[s+1]),ha(t)<Ra?a[s]=a[s+1]=0:(n=a[s]/t,r=a[s+1]/t,o=n*n+r*r,o>9&&(o=3*t/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=l;)o=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function Ui(e){return e.length<3?Si(e):e[0]+Ti(e,Fi(e))}function Vi(e){for(var t,n,r,o=-1,i=e.length;++o<i;)t=e[o],n=t[0],r=t[1]-Fa,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function zi(e){function t(t){function l(){p.push("M",s(e(h),d),u,c(e(v.reverse()),d),"Z")}for(var f,m,g,p=[],v=[],h=[],y=-1,b=t.length,S=De(n),E=De(o),_=n===r?function(){return m}:De(r),A=o===i?function(){return g}:De(i);++y<b;)a.call(this,f=t[y],y)?(v.push([m=+S.call(this,f,y),g=+E.call(this,f,y)]),h.push([+_.call(this,f,y),+A.call(this,f,y)])):v.length&&(l(),v=[],h=[]);return v.length&&l(),p.length?p.join(""):null}var n=Rn,r=Rn,o=0,i=Pn,a=Rt,s=Si,l=s.key,c=s,u="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(o=i=e,t):i},t.y0=function(e){return arguments.length?(o=e,t):o},t.y1=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=Ml.get(e)||Si).key,c=s.reverse||s,u=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Bi(e){return e.radius}function $i(e){return[e.x,e.y]}function Hi(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Fa;return[n*Math.cos(r),n*Math.sin(r)]}}function Wi(){return 64}function ji(){return"circle"}function qi(e){var t=Math.sqrt(e/ka);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Yi(e){return function(){var t,n;(t=this[e])&&(n=t[t.active])&&(--t.count?delete t[t.active]:delete this[e],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ki(e,t,n){return _a(e,Vl),e.namespace=t,e.id=n,e}function Zi(e,t,n,r){var o=e.id,i=e.namespace;return Y(e,"function"==typeof n?function(e,a,s){e[i][o].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[i][o].tween.set(t,n)}))}function Xi(e){return null==e&&(e=""),function(){this.textContent=e}}function Ji(e){return null==e?"__transition__":"__transition_"+e+"__"}function Qi(e,t,n,r,o){var i=e[n]||(e[n]={active:0,count:0}),a=i[r];if(!a){var s=o.time;a=i[r]={tween:new g,time:s,delay:o.delay,duration:o.duration,ease:o.ease,index:t},o=null,++i.count,sa.timer(function(o){function l(n){if(i.active>r)return u();var o=i[i.active];o&&(--i.count,delete i[i.active],o.event&&o.event.interrupt.call(e,e.__data__,o.index)),i.active=r,a.event&&a.event.start.call(e,e.__data__,t),a.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&p.push(r)}),f=a.ease,d=a.duration,sa.timer(function(){return g.c=c(n||1)?Rt:c,1},0,s)}function c(n){if(i.active!==r)return 1;for(var o=n/d,s=f(o),l=p.length;l>0;)p[--l].call(e,s);return o>=1?(a.event&&a.event.end.call(e,e.__data__,t),u()):void 0}function u(){return--i.count?delete i[r]:delete e[n],1}var d,f,m=a.delay,g=as,p=[];return g.t=m+s,m<=o?l(o-m):void(g.c=l)},0,s)}}function ea(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function ta(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function na(e){return e.toISOString()}function ra(e,t,n){function r(t){return e(t)}function o(e,n){var r=e[1]-e[0],o=r/n,i=sa.bisect(Kl,o);return i==Kl.length?[t.year,Jo(e.map(function(e){return e/31536e6}),n)[2]]:i?t[o/Kl[i-1]<Kl[i]/o?i-1:i]:[Jl,Jo(e,n)[2]]}return r.invert=function(t){return oa(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(oa)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,oa(+n+1),t).length}var i=r.domain(),a=$o(i),s=null==e?o(a,10):"number"==typeof e&&o(a,e);return s&&(e=s[0],t=s[1]),r.domain(jo(i,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=oa(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=oa(+t+1);return t}}:e))},r.ticks=function(e,t){var n=$o(r.domain()),i=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],oa(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return ra(e.copy(),t,n)},Zo(r,e)}function oa(e){return new Date(e)}function ia(e){return JSON.parse(e.responseText)}function aa(e){var t=ua.createRange();return t.selectNode(ua.body),t.createContextualFragment(e.responseText)}var sa={version:"3.5.6"},la=[].slice,ca=function(e){return la.call(e)},ua=this.document;if(ua)try{ca(ua.documentElement.childNodes)[0].nodeType}catch(e){ca=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var da=this.Element.prototype,fa=da.setAttribute,ma=da.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,pa=ga.setProperty;da.setAttribute=function(e,t){fa.call(this,e,t+"")},da.setAttributeNS=function(e,t,n){ma.call(this,e,t,n+"")},ga.setProperty=function(e,t,n){pa.call(this,e,t+"",n)}}sa.ascending=s,sa.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},sa.min=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&n>r&&(n=r)}return n},sa.max=function(e,t){var n,r,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=e[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=e[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=t.call(e,e[o],o))&&r>n&&(n=r)}return n},sa.extent=function(e,t){var n,r,o,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e[i])&&(n>r&&(n=r),o<r&&(o=r))}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&(n>r&&(n=r),o<r&&(o=r))}return[n,o]},sa.sum=function(e,t){var n,r=0,o=e.length,i=-1;if(1===arguments.length)for(;++i<o;)c(n=+e[i])&&(r+=n);else for(;++i<o;)c(n=+t.call(e,e[i],i))&&(r+=n);return r},sa.mean=function(e,t){var n,r=0,o=e.length,i=-1,a=o;if(1===arguments.length)for(;++i<o;)c(n=l(e[i]))?r+=n:--a;else for(;++i<o;)c(n=l(t.call(e,e[i],i)))?r+=n:--a;if(a)return r/a},sa.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),o=+e[r-1],i=n-r;return i?o+i*(e[r]-o):o},sa.median=function(e,t){var n,r=[],o=e.length,i=-1;if(1===arguments.length)for(;++i<o;)c(n=l(e[i]))&&r.push(n);else for(;++i<o;)c(n=l(t.call(e,e[i],i)))&&r.push(n);if(r.length)return sa.quantile(r.sort(s),.5)},sa.variance=function(e,t){var n,r,o=e.length,i=0,a=0,s=-1,u=0;if(1===arguments.length)for(;++s<o;)c(n=l(e[s]))&&(r=n-i,i+=r/++u,a+=r*(n-i));else for(;++s<o;)c(n=l(t.call(e,e[s],s)))&&(r=n-i,i+=r/++u,a+=r*(n-i));if(u>1)return a/(u-1)},sa.deviation=function(){var e=sa.variance.apply(this,arguments);return e?Math.sqrt(e):e};var va=u(s);sa.bisectLeft=va.left,sa.bisect=sa.bisectRight=va.right,sa.bisector=function(e){return u(1===e.length?function(t,n){return s(e(t),n)}:e)},sa.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,i<2&&(t=0));for(var r,o,i=n-t;i;)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e},sa.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},sa.pairs=function(e){for(var t,n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=[t=o,o=e[++n]];return i},sa.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=sa.min(arguments,d),n=new Array(t);++e<t;)for(var r,o=-1,i=n[e]=new Array(r);++o<r;)i[o]=arguments[o][e];return n},sa.transpose=function(e){return sa.zip.apply(sa,e)},sa.keys=function(e){var t=[];for(var n in e)t.push(n);return t},sa.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},sa.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},sa.merge=function(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(r=e[o],t=r.length;--t>=0;)n[--a]=r[t];return n};var ha=Math.abs;sa.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,o=[],i=f(ha(n)),a=-1;if(e*=i,t*=i,n*=i,n<0)for(;(r=e+n*++a)>t;)o.push(r/i);else for(;(r=e+n*++a)<t;)o.push(r/i);return o},sa.map=function(e,t){var n=new g;if(e instanceof g)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(1===arguments.length)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t.call(e,r=e[o],o),r)}else for(var a in e)n.set(a,e[a]);return n};var ya="__proto__",ba="\0";m(g,{has:h,get:function(e){return this._[p(e)]},set:function(e,t){return this._[p(e)]=t},remove:y,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:v(t),value:this._[t]});return e},size:S,empty:E,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}}),sa.nest=function(){function e(t,a,s){if(s>=i.length)return r?r.call(o,a):n?a.sort(n):a;for(var l,c,u,d,f=-1,m=a.length,p=i[s++],v=new g;++f<m;)(d=v.get(l=p(c=a[f])))?d.push(c):v.set(l,[c]);return t?(c=t(),u=function(n,r){c.set(n,e(t,r,s))}):(c={},u=function(n,r){c[n]=e(t,r,s)}),v.forEach(u),c}function t(e,n){if(n>=i.length)return e;var r=[],o=a[n++];return e.forEach(function(e,o){r.push({key:e,values:t(o,n)})}),o?r.sort(function(e,t){return o(e.key,t.key)}):r}var n,r,o={},i=[],a=[];return o.map=function(t,n){return e(n,t,0)},o.entries=function(n){return t(e(sa.map,n,0),0)},o.key=function(e){return i.push(e),o},o.sortKeys=function(e){return a[i.length-1]=e,o},o.sortValues=function(e){return n=e,o},o.rollup=function(e){return r=e,o},o},sa.set=function(e){var t=new _;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},m(_,{has:h,add:function(e){return this._[p(e+="")]=!0,e},remove:y,values:b,size:S,empty:E,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),sa.behavior={},sa.rebind=function(e,t){for(var n,r=1,o=arguments.length;++r<o;)e[n=arguments[r]]=w(e,t,t[n]);return e};var Sa=["webkit","ms","moz","Moz","o","O"];sa.dispatch=function(){for(var e=new x,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=T(e);return e},x.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},sa.event=null,sa.requote=function(e){return e.replace(Ea,"\\$&")};var Ea=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_a={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Aa=function(e,t){return t.querySelector(e)},wa=function(e,t){return t.querySelectorAll(e)},Ia=function(e,t){var n=e.matches||e[I(e,"matchesSelector")];return(Ia=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(Aa=function(e,t){return Sizzle(e,t)[0]||null},wa=Sizzle,Ia=Sizzle.matchesSelector),sa.selection=function(){return sa.select(ua.documentElement)};var Ca=sa.selection.prototype=[];Ca.select=function(e){var t,n,r,o,i=[];e=R(e);for(var a=-1,s=this.length;++a<s;){i.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(t.push(n=e.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):t.push(null)}return N(i)},Ca.selectAll=function(e){var t,n,r=[];e=P(e);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(t=ca(e.call(n,n.__data__,s,o))),t.parentNode=n);return N(r)};var xa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};sa.ns={prefix:xa,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),xa.hasOwnProperty(n)?{space:xa[n],local:e}:e}},Ca.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=sa.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},Ca.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=F(e)).length,o=-1;if(t=n.classList){for(;++o<r;)if(!t.contains(e[o]))return!1}else for(t=n.getAttribute("class");++o<r;)if(!G(e[o]).test(t))return!1;return!0}for(t in e)this.each(U(t,e[t]));return this}return this.each(U(e,t))},Ca.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.each(z(n,e[n],t));return this}if(r<2){var o=this.node();return a(o).getComputedStyle(o,null).getPropertyValue(e)}n=""}return this.each(z(e,t,n))},Ca.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(B(t,e[t]));return this}return this.each(B(e,t))},Ca.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ca.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ca.append=function(e){return e=$(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Ca.insert=function(e,t){return e=$(e),t=R(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Ca.remove=function(){return this.each(H)},Ca.data=function(e,t){function n(e,n){var r,o,i,a=e.length,u=n.length,d=Math.min(a,u),f=new Array(u),m=new Array(u),p=new Array(a);if(t){var v,h=new g,y=new Array(a);for(r=-1;++r<a;)h.has(v=t.call(o=e[r],o.__data__,r))?p[r]=o:h.set(v,o),y[r]=v;for(r=-1;++r<u;)(o=h.get(v=t.call(n,i=n[r],r)))?o!==!0&&(f[r]=o,o.__data__=i):m[r]=W(i),h.set(v,!0);for(r=-1;++r<a;)h.get(y[r])!==!0&&(p[r]=e[r])}else{for(r=-1;++r<d;)o=e[r],i=n[r],o?(o.__data__=i,f[r]=o):m[r]=W(i);for(;r<u;++r)m[r]=W(n[r]);for(;r<a;++r)p[r]=e[r]}m.update=f,m.parentNode=f.parentNode=p.parentNode=e.parentNode,s.push(m),l.push(f),c.push(p)}var r,o,i=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(e[i]=o.__data__);return e}var s=K([]),l=N([]),c=N([]);if("function"==typeof e)for(;++i<a;)n(r=this[i],e.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],e);return l.enter=function(){return s},l.exit=function(){return c},l},Ca.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Ca.filter=function(e){var t,n,r,o=[];"function"!=typeof e&&(e=j(e));for(var i=0,a=this.length;i<a;i++){o.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return N(o)},Ca.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Ca.sort=function(e){e=q.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Ca.each=function(e){return Y(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Ca.call=function(e){var t=ca(arguments);return e.apply(t[0]=this,t),this},Ca.empty=function(){return!this.node()},Ca.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,o=n.length;r<o;r++){var i=n[r];if(i)return i}return null},Ca.size=function(){var e=0;return Y(this,function(){++e}),e};var Ta=[];sa.selection.enter=K,sa.selection.enter.prototype=Ta,Ta.append=Ca.append,Ta.empty=Ca.empty,Ta.node=Ca.node,Ta.call=Ca.call,Ta.size=Ca.size,Ta.select=function(e){for(var t,n,r,o,i,a=[],s=-1,l=this.length;++s<l;){r=(o=this[s]).update,a.push(t=[]),t.parentNode=o.parentNode;for(var c=-1,u=o.length;++c<u;)(i=o[c])?(t.push(r[c]=n=e.call(o.parentNode,i.__data__,c,s)),n.__data__=i.__data__):t.push(null)}return N(a)},Ta.insert=function(e,t){return arguments.length<2&&(t=Z(this)),Ca.insert.call(this,e,t)},sa.select=function(e){var t;return"string"==typeof e?(t=[Aa(e,ua)],t.parentNode=ua.documentElement):(t=[e],t.parentNode=i(e)),N([t])},sa.selectAll=function(e){var t;return"string"==typeof e?(t=ca(wa(e,ua)),t.parentNode=ua.documentElement):(t=e,t.parentNode=null),N([t])},Ca.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(X(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(X(e,t,n))};var Oa=sa.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&Oa.forEach(function(e){"on"+e in ua&&Oa.remove(e)});var Ma,Da=0;sa.mouse=function(e){return te(e,M())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;sa.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=M().changedTouches),t)for(var r,o=0,i=t.length;o<i;++o)if((r=t[o]).identifier===n)return te(e,r)},sa.behavior.drag=function(){function e(){this.on("mousedown.drag",o).on("touchstart.drag",i)}function t(e,t,o,i,a){return function(){function s(){var e,n,r=t(f,p);r&&(e=r[0]-b[0],n=r[1]-b[1],g|=e|n,b=r,m({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function l(){t(f,p)&&(h.on(i+v,null).on(a+v,null),y(g&&sa.event.target===d),m({type:"dragend"}))}var c,u=this,d=sa.event.target,f=u.parentNode,m=n.of(u,arguments),g=0,p=e(),v=".drag"+(null==p?"":"-"+p),h=sa.select(o(d)).on(i+v,s).on(a+v,l),y=ee(d),b=t(f,p);r?(c=r.apply(u,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],m({type:"dragstart"})}}var n=D(e,"drag","dragstart","dragend"),r=null,o=t(C,sa.mouse,a,"mousemove","mouseup"),i=t(ne,sa.touch,A,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},sa.rebind(e,n,"on")},sa.touches=function(e,t){return arguments.length<2&&(t=M().touches),t?ca(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var Ra=1e-6,Pa=Ra*Ra,ka=Math.PI,La=2*ka,Ga=La-Ra,Fa=ka/2,Ua=ka/180,Va=180/ka,za=Math.SQRT2,Ba=2,$a=4;sa.interpolateZoom=function(e,t){function n(e){var t=e*y;if(h){var n=le(p),a=i/(Ba*f)*(n*ce(za*t+p)-se(p));return[r+a*c,o+a*u,i*n/le(za*t+p)]}return[r+e*c,o+e*u,i*Math.exp(za*t)]}var r=e[0],o=e[1],i=e[2],a=t[0],s=t[1],l=t[2],c=a-r,u=s-o,d=c*c+u*u,f=Math.sqrt(d),m=(l*l-i*i+$a*d)/(2*i*Ba*f),g=(l*l-i*i-$a*d)/(2*l*Ba*f),p=Math.log(Math.sqrt(m*m+1)-m),v=Math.log(Math.sqrt(g*g+1)-g),h=v-p,y=(h||Math.log(l/i))/za;return n.duration=1e3*y,n},sa.behavior.zoom=function(){function e(e){e.on(M,d).on(Wa+".zoom",m).on("dblclick.zoom",g).on(P,f)}function t(e){return[(e[0]-w.x)/w.k,(e[1]-w.y)/w.k]}function n(e){return[e[0]*w.k+w.x,e[1]*w.k+w.y]}function r(e){w.k=Math.max(C[0],Math.min(C[1],e))}function o(e,t){t=n(t),w.x+=e[0]-t[0],w.y+=e[1]-t[1]}function i(t,n,i,a){t.__chart__={x:w.x,y:w.y,k:w.k},r(Math.pow(2,a)),o(v=n,i),t=sa.select(t),x>0&&(t=t.transition().duration(x)),t.call(e.event)}function s(){E&&E.domain(S.range().map(function(e){return(e-w.x)/w.k}).map(S.invert)),A&&A.domain(_.range().map(function(e){return(e-w.y)/w.k}).map(_.invert))}function l(e){T++||e({type:"zoomstart"})}function c(e){s(),e({type:"zoom",scale:w.k,translate:[w.x,w.y]})}function u(e){--T||(e({type:"zoomend"}),v=null)}function d(){function e(){d=1,o(sa.mouse(r),m),c(s)}function n(){f.on(N,null).on(R,null),g(d&&sa.event.target===i),u(s)}var r=this,i=sa.event.target,s=k.of(r,arguments),d=0,f=sa.select(a(r)).on(N,e).on(R,n),m=t(sa.mouse(r)),g=ee(r);Ul.call(r),l(s)}function f(){function e(){var e=sa.touches(g);return m=w.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=t(e))}),e}function n(){var t=sa.event.target;sa.select(t).on(S,a).on(E,s),_.push(t);for(var n=sa.event.changedTouches,r=0,o=n.length;r<o;++r)v[n[r].identifier]=null;var l=e(),c=Date.now();if(1===l.length){if(c-b<500){var u=l[0];i(g,u,v[u.identifier],Math.floor(Math.log(w.k)/Math.LN2)+1),O()}b=c}else if(l.length>1){var u=l[0],d=l[1],f=u[0]-d[0],m=u[1]-d[1];h=f*f+m*m}}function a(){var e,t,n,i,a=sa.touches(g);Ul.call(g);for(var s=0,l=a.length;s<l;++s,i=null)if(n=a[s],i=v[n.identifier]){if(t)break;e=n,t=i}if(i){var u=(u=n[0]-e[0])*u+(u=n[1]-e[1])*u,d=h&&Math.sqrt(u/h);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(d*m)}b=null,o(e,t),c(p)}function s(){if(sa.event.touches.length){for(var t=sa.event.changedTouches,n=0,r=t.length;n<r;++n)delete v[t[n].identifier];for(var o in v)return void e()}sa.selectAll(_).on(y,null),A.on(M,d).on(P,f),I(),u(p)}var m,g=this,p=k.of(g,arguments),v={},h=0,y=".zoom-"+sa.event.changedTouches[0].identifier,S="touchmove"+y,E="touchend"+y,_=[],A=sa.select(g),I=ee(g);
n(),l(p),A.on(M,null).on(P,n)}function m(){var e=k.of(this,arguments);y?clearTimeout(y):(Ul.call(this),p=t(v=h||sa.mouse(this)),l(e)),y=setTimeout(function(){y=null,u(e)},50),O(),r(Math.pow(2,.002*Ha())*w.k),o(v,p),c(e)}function g(){var e=sa.mouse(this),n=Math.log(w.k)/Math.LN2;i(this,e,t(e),sa.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,v,h,y,b,S,E,_,A,w={x:0,y:0,k:1},I=[960,500],C=ja,x=250,T=0,M="mousedown.zoom",N="mousemove.zoom",R="mouseup.zoom",P="touchstart.zoom",k=D(e,"zoomstart","zoom","zoomend");return Wa||(Wa="onwheel"in ua?(Ha=function(){return-sa.event.deltaY*(sa.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Ha=function(){return sa.event.wheelDelta},"mousewheel"):(Ha=function(){return-sa.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=k.of(this,arguments),t=w;Gl?sa.select(this).transition().each("start.zoom",function(){w=this.__chart__||{x:0,y:0,k:1},l(e)}).tween("zoom:zoom",function(){var n=I[0],r=I[1],o=v?v[0]:n/2,i=v?v[1]:r/2,a=sa.interpolateZoom([(o-w.x)/w.k,(i-w.y)/w.k,n/w.k],[(o-t.x)/t.k,(i-t.y)/t.k,n/t.k]);return function(t){var r=a(t),s=n/r[2];this.__chart__=w={x:o-r[0]*s,y:i-r[1]*s,k:s},c(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=w,l(e),c(e),u(e))})},e.translate=function(t){return arguments.length?(w={x:+t[0],y:+t[1],k:w.k},s(),e):[w.x,w.y]},e.scale=function(t){return arguments.length?(w={x:w.x,y:w.y,k:+t},s(),e):w.k},e.scaleExtent=function(t){return arguments.length?(C=null==t?ja:[+t[0],+t[1]],e):C},e.center=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],e):h},e.size=function(t){return arguments.length?(I=t&&[+t[0],+t[1]],e):I},e.duration=function(t){return arguments.length?(x=+t,e):x},e.x=function(t){return arguments.length?(E=t,S=t.copy(),w={x:0,y:0,k:1},e):E},e.y=function(t){return arguments.length?(A=t,_=t.copy(),w={x:0,y:0,k:1},e):A},sa.rebind(e,k,"on")};var Ha,Wa,ja=[0,1/0];sa.color=de,de.prototype.toString=function(){return this.rgb()+""},sa.hsl=fe;var qa=fe.prototype=new de;qa.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,this.l/e)},qa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new fe(this.h,this.s,e*this.l)},qa.rgb=function(){return me(this.h,this.s,this.l)},sa.hcl=ge;var Ya=ge.prototype=new de;Ya.brighter=function(e){return new ge(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?e:1)))},Ya.darker=function(e){return new ge(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?e:1)))},Ya.rgb=function(){return pe(this.h,this.c,this.l).rgb()},sa.lab=ve;var Ka=18,Za=.95047,Xa=1,Ja=1.08883,Qa=ve.prototype=new de;Qa.brighter=function(e){return new ve(Math.min(100,this.l+Ka*(arguments.length?e:1)),this.a,this.b)},Qa.darker=function(e){return new ve(Math.max(0,this.l-Ka*(arguments.length?e:1)),this.a,this.b)},Qa.rgb=function(){return he(this.l,this.a,this.b)},sa.rgb=_e;var es=_e.prototype=new de;es.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,o=30;return t||n||r?(t&&t<o&&(t=o),n&&n<o&&(n=o),r&&r<o&&(r=o),new _e(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new _e(o,o,o)},es.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new _e(e*this.r,e*this.g,e*this.b)},es.hsl=function(){return xe(this.r,this.g,this.b)},es.toString=function(){return"#"+Ie(this.r)+Ie(this.g)+Ie(this.b)};var ts=sa.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ts.forEach(function(e,t){ts.set(e,Ae(t))}),sa.functor=De,sa.xhr=Ne(A),sa.dsv=function(e,t){function n(e,n,i){arguments.length<3&&(i=n,n=null);var a=Re(e,t,null==n?r:o(n),i);return a.row=function(e){return arguments.length?a.response(null==(n=e)?r:o(e)):n},a}function r(e){return n.parse(e.responseText)}function o(e){return function(t){return n.parse(t.responseText,e)}}function i(t){return t.map(a).join(e)}function a(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var o=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(o(e),n)}:o})},n.parseRows=function(e,t){function n(){if(u>=c)return a;if(o)return o=!1,i;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var r=e.charCodeAt(n+1);return 13===r?(o=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(o=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<c;){var r=e.charCodeAt(u++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===e.charCodeAt(u)&&(++u,++s);else if(r!==l)continue;return e.slice(t,u-s)}return e.slice(t)}for(var r,o,i={},a={},s=[],c=e.length,u=0,d=0;(r=n())!==a;){for(var f=[];r!==i&&r!==a;)f.push(r),r=n();t&&null==(f=t(f,d++))||s.push(f)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new _,o=[];return t.forEach(function(e){for(var t in e)r.has(t)||o.push(r.add(t))}),[o.map(a).join(e)].concat(t.map(function(t){return o.map(function(e){return a(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(i).join("\n")},n},sa.csv=sa.dsv(",","text/csv"),sa.tsv=sa.dsv("\t","text/tab-separated-values");var ns,rs,os,is,as,ss=this[I(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};sa.timer=function(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var o=n+t,i={c:e,t:o,f:!1,n:null};rs?rs.n=i:ns=i,rs=i,os||(is=clearTimeout(is),os=1,ss(Le))},sa.timer.flush=function(){Ge(),Fe()},sa.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var ls=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ve);sa.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=sa.round(e,Ue(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ls[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,us=sa.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=sa.round(e,Ue(e,t))).toFixed(Math.max(0,Math.min(20,Ue(e*(1+1e-15),t))))}}),ds=sa.time={},fs=Date;$e.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ms.setUTCDate.apply(this._,arguments)},setDay:function(){ms.setUTCDay.apply(this._,arguments)},setFullYear:function(){ms.setUTCFullYear.apply(this._,arguments)},setHours:function(){ms.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ms.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ms.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ms.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ms.setUTCSeconds.apply(this._,arguments)},setTime:function(){ms.setTime.apply(this._,arguments)}};var ms=Date.prototype;ds.year=He(function(e){return e=ds.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),ds.years=ds.year.range,ds.years.utc=ds.year.utc.range,ds.day=He(function(e){var t=new fs(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),ds.days=ds.day.range,ds.days.utc=ds.day.utc.range,ds.dayOfYear=function(e){var t=ds.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=ds[e]=He(function(e){return(e=ds.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=ds.year(e).getDay();return Math.floor((ds.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});ds[e+"s"]=n.range,ds[e+"s"].utc=n.utc.range,ds[e+"OfYear"]=function(e){var n=ds.year(e).getDay();return Math.floor((ds.dayOfYear(e)+(n+t)%7)/7)}}),ds.week=ds.sunday,ds.weeks=ds.sunday.range,ds.weeks.utc=ds.sunday.utc.range,ds.weekOfYear=ds.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ps=/^\s*\d+/,vs=/^%/;sa.locale=function(e){return{numberFormat:ze(e),timeFormat:je(e)}};var hs=sa.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});sa.format=hs.numberFormat,sa.geo={},mt.prototype={s:0,t:0,add:function(e){gt(e,this.t,ys),gt(ys.s,this.s,this),this.s?this.t+=ys.t:this.s=ys.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ys=new mt;sa.geo.stream=function(e,t){e&&bs.hasOwnProperty(e.type)?bs[e.type](e,t):pt(e,t)};var bs={Feature:function(e,t){pt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)pt(n[r].geometry,t)}},Ss={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){vt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)vt(n[r],t,0)},Polygon:function(e,t){ht(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)ht(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)pt(n[r],t)}};sa.geo.area=function(e){return Es=0,sa.geo.stream(e,As),Es};var Es,_s=new mt,As={sphere:function(){Es+=4*ka},point:C,lineStart:C,lineEnd:C,polygonStart:function(){_s.reset(),As.lineStart=yt},polygonEnd:function(){var e=2*_s;Es+=e<0?4*ka+e:e,As.lineStart=As.lineEnd=As.point=C}};sa.geo.bounds=function(){function e(e,t){b.push(S=[u=e,f=e]),t<d&&(d=t),t>m&&(m=t)}function t(t,n){var r=bt([t*Ua,n*Ua]);if(h){var o=Et(h,r),i=[o[1],-o[0],0],a=Et(i,o);wt(a),a=It(a);var l=t-g,c=l>0?1:-1,p=a[0]*Va*c,v=ha(l)>180;if(v^(c*g<p&&p<c*t)){var y=a[1]*Va;y>m&&(m=y)}else if(p=(p+360)%360-180,v^(c*g<p&&p<c*t)){var y=-a[1]*Va;y<d&&(d=y)}else n<d&&(d=n),n>m&&(m=n);v?t<g?s(u,t)>s(u,f)&&(f=t):s(t,f)>s(u,f)&&(u=t):f>=u?(t<u&&(u=t),t>f&&(f=t)):t>g?s(u,t)>s(u,f)&&(f=t):s(t,f)>s(u,f)&&(u=t)}else e(t,n);h=r,g=t}function n(){E.point=t}function r(){S[0]=u,S[1]=f,E.point=e,h=null}function o(e,n){if(h){var r=e-g;y+=ha(r)>180?r+(r>0?360:-360):r}else p=e,v=n;As.point(e,n),t(e,n)}function i(){As.lineStart()}function a(){o(p,v),As.lineEnd(),ha(y)>Ra&&(u=-(f=180)),S[0]=u,S[1]=f,h=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,d,f,m,g,p,v,h,y,b,S,E={point:e,lineStart:n,lineEnd:r,polygonStart:function(){E.point=o,E.lineStart=i,E.lineEnd=a,y=0,As.polygonStart()},polygonEnd:function(){As.polygonEnd(),E.point=e,E.lineStart=n,E.lineEnd=r,_s<0?(u=-(f=180),d=-(m=90)):y>Ra?m=90:y<-Ra&&(d=-90),S[0]=u,S[1]=f}};return function(e){m=f=-(u=d=1/0),b=[],sa.geo.stream(e,E);var t=b.length;if(t){b.sort(l);for(var n,r=1,o=b[0],i=[o];r<t;++r)n=b[r],c(n[0],o)||c(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):i.push(o=n);for(var a,n,g=-(1/0),t=i.length-1,r=0,o=i[t];r<=t;o=n,++r)n=i[r],(a=s(o[1],n[0]))>g&&(g=a,u=n[0],f=o[1])}return b=S=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[f,m]]}}(),sa.geo.centroid=function(e){ws=Is=Cs=xs=Ts=Os=Ms=Ds=Ns=Rs=Ps=0,sa.geo.stream(e,ks);var t=Ns,n=Rs,r=Ps,o=t*t+n*n+r*r;return o<Pa&&(t=Os,n=Ms,r=Ds,Is<Ra&&(t=Cs,n=xs,r=Ts),o=t*t+n*n+r*r,o<Pa)?[NaN,NaN]:[Math.atan2(n,t)*Va,ae(r/Math.sqrt(o))*Va]};var ws,Is,Cs,xs,Ts,Os,Ms,Ds,Ns,Rs,Ps,ks={sphere:C,point:xt,lineStart:Ot,lineEnd:Mt,polygonStart:function(){ks.lineStart=Dt},polygonEnd:function(){ks.lineStart=Ot}},Ls=Gt(Rt,zt,$t,[-ka,-ka/2]),Gs=1e9;sa.geo.clipExtent=function(){var e,t,n,r,o,i,a={stream:function(e){return o&&(o.valid=!1),o=i(e),o.valid=!0,o},extent:function(s){return arguments.length?(i=qt(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(sa.geo.conicEqualArea=function(){return Yt(Kt)}).raw=Kt,sa.geo.albers=function(){return sa.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},sa.geo.albersUsa=function(){function e(e){var i=e[0],a=e[1];return t=null,n(i,a),t||(r(i,a),t)||o(i,a),t}var t,n,r,o,i=sa.geo.albers(),a=sa.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=sa.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?s:i).invert(e)},e.stream=function(e){var t=i.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,o){t.point(e,o),n.point(e,o),r.point(e,o)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),s.precision(t),e):i.precision()},e.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),s.scale(t),e.translate(i.translate())):i.scale()},e.translate=function(t){if(!arguments.length)return i.translate();var c=i.scale(),u=+t[0],d=+t[1];return n=i.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(l).point,r=a.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+Ra,d+.12*c+Ra],[u-.214*c-Ra,d+.234*c-Ra]]).stream(l).point,o=s.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+Ra,d+.166*c+Ra],[u-.115*c-Ra,d+.234*c-Ra]]).stream(l).point,e},e.scale(1070)};var Fs,Us,Vs,zs,Bs,$s,Hs={point:C,lineStart:C,lineEnd:C,polygonStart:function(){Us=0,Hs.lineStart=Zt},polygonEnd:function(){Hs.lineStart=Hs.lineEnd=Hs.point=C,Fs+=ha(Us/2)}},Ws={point:Xt,lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C},js={point:en,lineStart:tn,lineEnd:nn,polygonStart:function(){js.lineStart=rn},polygonEnd:function(){js.point=en,js.lineStart=tn,js.lineEnd=nn}};sa.geo.path=function(){function e(e){return e&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),sa.geo.stream(e,a)),i.result()}function t(){return a=null,e}var n,r,o,i,a,s=4.5;return e.area=function(e){return Fs=0,sa.geo.stream(e,o(Hs)),Fs},e.centroid=function(e){return Cs=xs=Ts=Os=Ms=Ds=Ns=Rs=Ps=0,sa.geo.stream(e,o(js)),Ps?[Ns/Ps,Rs/Ps]:Ds?[Os/Ds,Ms/Ds]:Ts?[Cs/Ts,xs/Ts]:[NaN,NaN]},e.bounds=function(e){return Bs=$s=-(Vs=zs=1/0),sa.geo.stream(e,o(Ws)),[[Vs,zs],[Bs,$s]]},e.projection=function(e){return arguments.length?(o=(n=e)?e.stream||sn(e):A,t()):n},e.context=function(e){return arguments.length?(i=null==(r=e)?new Jt:new on(e),"function"!=typeof s&&i.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(i.pointRadius(+t),+t),e):s},e.projection(sa.geo.albersUsa()).context(null)},sa.geo.transform=function(e){return{stream:function(t){var n=new ln(t);for(var r in e)n[r]=e[r];return n}}},ln.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},sa.geo.projection=un,sa.geo.projectionMutator=dn,(sa.geo.equirectangular=function(){return un(mn)}).raw=mn.invert=mn,sa.geo.rotation=function(e){function t(t){return t=e(t[0]*Ua,t[1]*Ua),t[0]*=Va,t[1]*=Va,t}return e=pn(e[0]%360*Ua,e[1]*Ua,e.length>2?e[2]*Ua:0),t.invert=function(t){return t=e.invert(t[0]*Ua,t[1]*Ua),t[0]*=Va,t[1]*=Va,t},t},gn.invert=mn,sa.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=pn(-e[0]*Ua,-e[1]*Ua,0).invert,o=[];return n(null,null,1,{point:function(e,n){o.push(e=t(e,n)),e[0]*=Va,e[1]*=Va}}),{type:"Polygon",coordinates:[o]}}var t,n,r=[0,0],o=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=bn((t=+r)*Ua,o*Ua),e):t},e.precision=function(r){return arguments.length?(n=bn(t*Ua,(o=+r)*Ua),e):o},e.angle(90)},sa.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Ua,o=e[1]*Ua,i=t[1]*Ua,a=Math.sin(r),s=Math.cos(r),l=Math.sin(o),c=Math.cos(o),u=Math.sin(i),d=Math.cos(i);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},sa.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return sa.range(Math.ceil(i/v)*v,o,v).map(f).concat(sa.range(Math.ceil(c/h)*h,l,h).map(m)).concat(sa.range(Math.ceil(r/g)*g,n,g).filter(function(e){return ha(e%v)>Ra}).map(u)).concat(sa.range(Math.ceil(s/p)*p,a,p).filter(function(e){return ha(e%h)>Ra}).map(d))}var n,r,o,i,a,s,l,c,u,d,f,m,g=10,p=g,v=90,h=360,y=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(m(l).slice(1),f(o).reverse().slice(1),m(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(i=+t[0][0],o=+t[1][0],c=+t[0][1],l=+t[1][1],i>o&&(t=i,i=o,o=t),c>l&&(t=c,c=l,l=t),e.precision(y)):[[i,c],[o,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),e.precision(y)):[[r,s],[n,a]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],h=+t[1],e):[v,h]},e.minorStep=function(t){return arguments.length?(g=+t[0],p=+t[1],e):[g,p]},e.precision=function(t){return arguments.length?(y=+t,u=En(s,a,90),d=_n(r,n,y),f=En(c,l,90),m=_n(i,o,y),e):y},e.majorExtent([[-180,-90+Ra],[180,90-Ra]]).minorExtent([[-180,-80-Ra],[180,80+Ra]])},sa.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||o.apply(this,arguments)]}}var t,n,r=An,o=wn;return e.distance=function(){return sa.geo.distance(t||r.apply(this,arguments),n||o.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(o=t,n="function"==typeof t?null:t,e):o},e.precision=function(){return arguments.length?e:0},e},sa.geo.interpolate=function(e,t){return In(e[0]*Ua,e[1]*Ua,t[0]*Ua,t[1]*Ua)},sa.geo.length=function(e){return qs=0,sa.geo.stream(e,Ys),qs};var qs,Ys={sphere:C,point:C,lineStart:Cn,lineEnd:C,polygonStart:C,polygonEnd:C},Ks=xn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(sa.geo.azimuthalEqualArea=function(){return un(Ks)}).raw=Ks;var Zs=xn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},A);(sa.geo.azimuthalEquidistant=function(){return un(Zs)}).raw=Zs,(sa.geo.conicConformal=function(){return Yt(Tn)}).raw=Tn,(sa.geo.conicEquidistant=function(){return Yt(On)}).raw=On;var Xs=xn(function(e){return 1/e},Math.atan);(sa.geo.gnomonic=function(){return un(Xs)}).raw=Xs,Mn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Fa]},(sa.geo.mercator=function(){return Dn(Mn)}).raw=Mn;var Js=xn(function(){return 1},Math.asin);(sa.geo.orthographic=function(){return un(Js)}).raw=Js;var Qs=xn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(sa.geo.stereographic=function(){return un(Qs)}).raw=Qs,Nn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Fa]},(sa.geo.transverseMercator=function(){var e=Dn(Nn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Nn,sa.geom={},sa.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,o=De(n),i=De(r),a=e.length,s=[],l=[];for(t=0;t<a;t++)s.push([+o.call(this,e[t],t),+i.call(this,e[t],t),t]);for(s.sort(Ln),t=0;t<a;t++)l.push([s[t][0],-s[t][1]]);var c=kn(s),u=kn(l),d=u[0]===c[0],f=u[u.length-1]===c[c.length-1],m=[];for(t=c.length-1;t>=0;--t)m.push(e[s[c[t]][2]]);for(t=+d;t<u.length-f;++t)m.push(e[s[u[t]][2]]);return m}var n=Rn,r=Pn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},sa.geom.polygon=function(e){return _a(e,el),e};var el=sa.geom.polygon.prototype=[];el.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],o=0;++t<n;)e=r,r=this[t],o+=e[1]*r[0]-e[0]*r[1];return.5*o},el.centroid=function(e){var t,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(e=-1/(6*this.area()));++r<o;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],i+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[i*e,a*e]},el.clip=function(e){for(var t,n,r,o,i,a,s=Un(e),l=-1,c=this.length-Un(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,o=this[l],i=t[(r=t.length-s)-1],n=-1;++n<r;)a=t[n],Gn(a,u,o)?(Gn(i,u,o)||e.push(Fn(i,a,u,o)),e.push(a)):Gn(i,u,o)&&e.push(Fn(i,a,u,o)),i=a;s&&e.push(e[0]),u=o}return e};var tl,nl,rl,ol,il,al=[],sl=[];qn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Kn),t.length},ir.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ar.prototype={insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ur(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(lr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cr(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(cr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,lr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?ur(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===o.L){if(t=o.R,t.C&&(t.C=!1,o.C=!0,lr(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,cr(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,lr(this,o),e=this._;break}}else if(t=o.L,t.C&&(t.C=!1,o.C=!0,cr(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,lr(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,cr(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}},sa.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return dr(n(e),s).cells.forEach(function(n,s){var l=n.edges,c=n.site,u=t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=r&&c.x<=i&&c.y>=o&&c.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[];u.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Ra)*Ra,y:Math.round(a(e,t)/Ra)*Ra,i:t}})}var r=Rn,o=Pn,i=r,a=o,s=ll;return e?t(e):(t.links=function(e){return dr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return dr(n(e)).cells.forEach(function(n,r){for(var o,i,a=n.site,s=n.edges.sort(Kn),l=-1,c=s.length,u=s[c-1].edge,d=u.l===a?u.r:u.l;++l<c;)o=u,i=d,u=s[l].edge,d=u.l===a?u.r:u.l,r<i.i&&r<d.i&&mr(a,i,d)<0&&t.push([e[r],e[i.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(i=De(r=e),t):r},t.y=function(e){return arguments.length?(a=De(o=e),t):o},t.clipExtent=function(e){return arguments.length?(s=null==e?ll:e,t):s===ll?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===ll?null:s&&s[1]},t)};var ll=[[-1e6,-1e6],[1e6,1e6]];sa.geom.delaunay=function(e){return sa.geom.voronoi().triangles(e)},sa.geom.quadtree=function(e,t,n,r,o){function i(e){function i(e,t,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(ha(l-n)+ha(u-r)<.01)c(e,t,n,r,o,i,a,s);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,l,u,o,i,a,s),c(e,t,n,r,o,i,a,s)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,o,i,a,s)}function c(e,t,n,r,o,a,s,l){var c=.5*(o+s),u=.5*(a+l),d=n>=c,f=r>=u,m=f<<1|d;e.leaf=!1,e=e.nodes[m]||(e.nodes[m]=vr()),d?o=c:s=c,f?a=u:l=u,i(e,t,n,r,o,a,s,l)}var u,d,f,m,g,p,v,h,y,b=De(s),S=De(l);if(null!=t)p=t,v=n,h=r,y=o;else if(h=y=-(p=v=1/0),d=[],f=[],g=e.length,a)for(m=0;m<g;++m)u=e[m],u.x<p&&(p=u.x),u.y<v&&(v=u.y),u.x>h&&(h=u.x),u.y>y&&(y=u.y),d.push(u.x),f.push(u.y);else for(m=0;m<g;++m){var E=+b(u=e[m],m),_=+S(u,m);E<p&&(p=E),_<v&&(v=_),E>h&&(h=E),_>y&&(y=_),d.push(E),f.push(_)}var A=h-p,w=y-v;A>w?y=v+A:h=p+w;var I=vr();if(I.add=function(e){i(I,e,+b(e,++m),+S(e,m),p,v,h,y)},I.visit=function(e){hr(e,I,p,v,h,y)},I.find=function(e){return yr(I,e[0],e[1],p,v,h,y)},m=-1,null==t){for(;++m<g;)i(I,e[m],d[m],f[m],p,v,h,y);--m}else e.forEach(I.add);return d=f=e=u=null,I}var a,s=Rn,l=Pn;return(a=arguments.length)?(s=gr,l=pr,3===a&&(o=n,r=t,n=t=0),i(e)):(i.x=function(e){return arguments.length?(s=e,i):s},i.y=function(e){return arguments.length?(l=e,i):l},i.extent=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),i):null==t?null:[[t,n],[r,o]]},i.size=function(e){return arguments.length?(null==e?t=n=r=o=null:(t=n=0,r=+e[0],o=+e[1]),i):null==t?null:[r-t,o-n]},i)},sa.interpolateRgb=br,sa.interpolateObject=Sr,sa.interpolateNumber=Er,sa.interpolateString=_r;var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ul=new RegExp(cl.source,"g");sa.interpolate=Ar,sa.interpolators=[function(e,t){var n=typeof t;return("string"===n?ts.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?br:_r:t instanceof de?br:Array.isArray(t)?wr:"object"===n&&isNaN(t)?Sr:Er)(e,t)}],sa.interpolateArray=wr;var dl=function(){return A},fl=sa.map({linear:dl,poly:Dr,quad:function(){return Tr},cubic:function(){return Or},sin:function(){return Nr},exp:function(){return Rr},circle:function(){return Pr},elastic:kr,back:Lr,bounce:function(){return Gr}}),ml=sa.map({in:A,out:Cr,"in-out":xr,"out-in":function(e){return xr(Cr(e))}});sa.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=fl.get(n)||dl,r=ml.get(r)||A,Ir(r(n.apply(null,la.call(arguments,1))))},sa.interpolateHcl=Fr,sa.interpolateHsl=Ur,sa.interpolateLab=Vr,sa.interpolateRound=zr,sa.transform=function(e){var t=ua.createElementNS(sa.ns.prefix.svg,"g");return(sa.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Br(n?n.matrix:gl)})(e)},Br.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};sa.interpolateTransform=jr,sa.layout={},sa.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Kr(e[n]));return t}},sa.layout.chord=function(){function e(){var e,c,d,f,m,g={},p=[],v=sa.range(i),h=[];for(n=[],r=[],e=0,f=-1;++f<i;){for(c=0,m=-1;++m<i;)c+=o[f][m];p.push(c),h.push(sa.range(i)),e+=c}for(a&&v.sort(function(e,t){return a(p[e],p[t])}),s&&h.forEach(function(e,t){e.sort(function(e,n){return s(o[t][e],o[t][n])})}),e=(La-u*i)/e,c=0,f=-1;++f<i;){for(d=c,m=-1;++m<i;){var y=v[f],b=h[y][m],S=o[y][b],E=c,_=c+=S*e;g[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:_,value:S}}r[y]={index:y,startAngle:d,endAngle:c,value:(c-d)/e},c+=u}for(f=-1;++f<i;)for(m=f-1;++m<i;){var A=g[f+"-"+m],w=g[m+"-"+f];(A.value||w.value)&&n.push(A.value<w.value?{source:w,target:A}:{source:A,target:w})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,o,i,a,s,l,c={},u=0;return c.matrix=function(e){return arguments.length?(i=(o=e)&&o.length,n=r=null,c):o},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(a=e,n=r=null,c):a},c.sortSubgroups=function(e){return arguments.length?(s=e,n=null,c):s},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},sa.layout.force=function(){function e(e){return function(t,n,r,o){
if(t.point!==e){var i=t.cx-e.x,a=t.cy-e.y,s=o-n,l=i*i+a*a;if(s*s/v<l){if(l<g){var c=t.charge/l;e.px-=i*c,e.py-=a*c}return!0}if(t.point&&l&&l<g){var c=t.pointCharge/l;e.px-=i*c,e.py-=a*c}}return!t.charge}}function t(e){e.px=sa.event.x,e.py=sa.event.y,s.resume()}var n,r,o,i,a,s={},l=sa.dispatch("start","tick","end"),c=[1,1],u=.9,d=pl,f=vl,m=-30,g=hl,p=.1,v=.64,h=[],y=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var t,n,s,d,f,g,v,b,S,E=h.length,_=y.length;for(n=0;n<_;++n)s=y[n],d=s.source,f=s.target,b=f.x-d.x,S=f.y-d.y,(g=b*b+S*S)&&(g=r*i[n]*((g=Math.sqrt(g))-o[n])/g,b*=g,S*=g,f.x-=b*(v=d.weight/(f.weight+d.weight)),f.y-=S*v,d.x+=b*(v=1-v),d.y+=S*v);if((v=r*p)&&(b=c[0]/2,S=c[1]/2,n=-1,v))for(;++n<E;)s=h[n],s.x+=(b-s.x)*v,s.y+=(S-s.y)*v;if(m)for(no(t=sa.geom.quadtree(h),r,a),n=-1;++n<E;)(s=h[n]).fixed||t.visit(e(s));for(n=-1;++n<E;)s=h[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*u,s.y-=(s.py-(s.py=s.y))*u);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(h=e,s):h},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(m="function"==typeof e?e:+e,s):m},s.chargeDistance=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.gravity=function(e){return arguments.length?(p=+e,s):p},s.theta=function(e){return arguments.length?(v=e*e,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(l.start({type:"start",alpha:r=e}),sa.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(l),s=0;s<l;++s)n[s]=[];for(s=0;s<u;++s){var o=y[s];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var i,a=n[t],s=-1,c=a.length;++s<c;)if(!isNaN(i=a[s][e]))return i;return Math.random()*r}var t,n,r,l=h.length,u=y.length,g=c[0],p=c[1];for(t=0;t<l;++t)(r=h[t]).index=t,r.weight=0;for(t=0;t<u;++t)r=y[t],"number"==typeof r.source&&(r.source=h[r.source]),"number"==typeof r.target&&(r.target=h[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<l;++t)r=h[t],isNaN(r.x)&&(r.x=e("x",g)),isNaN(r.y)&&(r.y=e("y",p)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof d)for(t=0;t<u;++t)o[t]=+d.call(this,y[t],t);else for(t=0;t<u;++t)o[t]=d;if(i=[],"function"==typeof f)for(t=0;t<u;++t)i[t]=+f.call(this,y[t],t);else for(t=0;t<u;++t)i[t]=f;if(a=[],"function"==typeof m)for(t=0;t<l;++t)a[t]=+m.call(this,h[t],t);else for(t=0;t<l;++t)a[t]=m;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=sa.behavior.drag().origin(A).on("dragstart.force",Jr).on("drag.force",t).on("dragend.force",Qr)),arguments.length?void this.on("mouseover.force",eo).on("mouseout.force",to).call(n):n},sa.rebind(s,l,"on")};var pl=20,vl=1,hl=1/0;sa.layout.hierarchy=function(){function e(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(c=n.call(e,i,i.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)a.push(u=c[l]),u.parent=i,u.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(e,i,i.depth)||0),delete i.children;return io(o,function(e){var n,o;t&&(n=e.children)&&n.sort(t),r&&(o=e.parent)&&(o.value+=e.value)}),s}var t=lo,n=ao,r=so;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(oo(t,function(e){e.children&&(e.value=0)}),io(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},sa.layout.partition=function(){function e(t,n,r,o){var i=t.children;if(t.x=n,t.y=t.depth*o,t.dx=r,t.dy=o,i&&(a=i.length)){var a,s,l,c=-1;for(r=t.value?r/t.value:0;++c<a;)e(s=i[c],n,l=s.value*r,o),n+=l}}function t(e){var n=e.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,t(n[i]));return 1+r}function n(n,i){var a=r.call(this,n,i);return e(a[0],0,o[0],o[1]/t(a[0])),a}var r=sa.layout.hierarchy(),o=[1,1];return n.size=function(e){return arguments.length?(o=e,n):o},ro(n,r)},sa.layout.pie=function(){function e(a){var s,l=a.length,c=a.map(function(n,r){return+t.call(e,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof o?o.apply(this,arguments):o)-u,f=Math.min(Math.abs(d)/l,+("function"==typeof i?i.apply(this,arguments):i)),m=f*(d<0?-1:1),g=(d-l*m)/sa.sum(c),p=sa.range(l),v=[];return null!=n&&p.sort(n===yl?function(e,t){return c[t]-c[e]}:function(e,t){return n(a[e],a[t])}),p.forEach(function(e){v[e]={data:a[e],value:s=c[e],startAngle:u,endAngle:u+=s*g+m,padAngle:f}}),v}var t=Number,n=yl,r=0,o=La,i=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(o=t,e):o},e.padAngle=function(t){return arguments.length?(i=t,e):i},e};var yl={};sa.layout.stack=function(){function e(s,l){if(!(f=s.length))return s;var c=s.map(function(n,r){return t.call(e,n,r)}),u=c.map(function(t){return t.map(function(t,n){return[i.call(e,t,n),a.call(e,t,n)]})}),d=n.call(e,u,l);c=sa.permute(c,d),u=sa.permute(u,d);var f,m,g,p,v=r.call(e,u,l),h=c[0].length;for(g=0;g<h;++g)for(o.call(e,c[0][g],p=v[g],u[0][g][1]),m=1;m<f;++m)o.call(e,c[m][g],p+=u[m-1][g][1],u[m][g][1]);return s}var t=A,n=go,r=po,o=mo,i=uo,a=fo;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:bl.get(t)||go,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Sl.get(t)||po,e):r},e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(a=t,e):a},e.out=function(t){return arguments.length?(o=t,e):o},e};var bl=sa.map({"inside-out":function(e){var t,n,r=e.length,o=e.map(vo),i=e.map(ho),a=sa.range(r).sort(function(e,t){return o[e]-o[t]}),s=0,l=0,c=[],u=[];for(t=0;t<r;++t)n=a[t],s<l?(s+=i[n],c.push(n)):(l+=i[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return sa.range(e.length).reverse()},default:go}),Sl=sa.map({silhouette:function(e){var t,n,r,o=e.length,i=e[0].length,a=[],s=0,l=[];for(n=0;n<i;++n){for(t=0,r=0;t<o;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<i;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,o,i,a,s,l,c,u=e.length,d=e[0],f=d.length,m=[];for(m[0]=l=c=0,n=1;n<f;++n){for(t=0,o=0;t<u;++t)o+=e[t][n][1];for(t=0,i=0,s=d[n][0]-d[n-1][0];t<u;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;i+=a*e[t][n][1]}m[n]=l-=o?i/o*s:0,l<c&&(c=l)}for(n=0;n<f;++n)m[n]-=c;return m},expand:function(e){var t,n,r,o=e.length,i=e[0].length,a=1/o,s=[];for(n=0;n<i;++n){for(t=0,r=0;t<o;t++)r+=e[t][n][1];if(r)for(t=0;t<o;t++)e[t][n][1]/=r;else for(t=0;t<o;t++)e[t][n][1]=a}for(n=0;n<i;++n)s[n]=0;return s},zero:po});sa.layout.histogram=function(){function e(e,i){for(var a,s,l=[],c=e.map(n,this),u=r.call(this,c,i),d=o.call(this,u,c,i),i=-1,f=c.length,m=d.length-1,g=t?1:1/f;++i<m;)a=l[i]=[],a.dx=d[i+1]-(a.x=d[i]),a.y=0;if(m>0)for(i=-1;++i<f;)s=c[i],s>=u[0]&&s<=u[1]&&(a=l[sa.bisect(d,s,1,m)-1],a.y+=g,a.push(e[i]));return l}var t=!0,n=Number,r=Eo,o=bo;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=De(t),e):r},e.bins=function(t){return arguments.length?(o="number"==typeof t?function(e){return So(e,t)}:De(t),e):o},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},sa.layout.pack=function(){function e(e,i){var a=n.call(this,e,i),s=a[0],l=o[0],c=o[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,io(s,function(e){e.r=+u(e.value)}),io(s,Co),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;io(s,function(e){e.r+=d}),io(s,Co),io(s,function(e){e.r-=d})}return Oo(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),a}var t,n=sa.layout.hierarchy().sort(_o),r=0,o=[1,1];return e.size=function(t){return arguments.length?(o=t,e):o},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ro(e,n)},sa.layout.tree=function(){function e(e,o){var u=a.call(this,e,o),d=u[0],f=t(d);if(io(f,n),f.parent.m=-f.z,oo(f,r),c)oo(d,i);else{var m=d,g=d,p=d;oo(d,function(e){e.x<m.x&&(m=e),e.x>g.x&&(g=e),e.depth>p.depth&&(p=e)});var v=s(m,g)/2-m.x,h=l[0]/(g.x+s(g,m)/2+v),y=l[1]/(p.depth||1);oo(d,function(e){e.x=(e.x+v)*h,e.y=e.depth*y})}return u}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var o,i=t.children,a=0,s=i.length;a<s;++a)r.push((i[a]=o={_:i[a],parent:t,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){ko(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+s(e._,r._));e.parent.A=o(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e,t,n){if(t){for(var r,o=e,i=e,a=t,l=o.parent.children[0],c=o.m,u=i.m,d=a.m,f=l.m;a=Ro(a),o=No(o),a&&o;)l=No(l),i=Ro(i),i.a=e,r=a.z+d-o.z-c+s(a._,o._),r>0&&(Po(Lo(a,e,n),e,r),c+=r,u+=r),d+=a.m,c+=o.m,f+=l.m,u+=i.m;a&&!Ro(i)&&(i.t=a,i.m+=d-u),o&&!No(l)&&(l.t=o,l.m+=c-f,n=e)}return n}function i(e){e.x*=l[0],e.y=e.depth*l[1]}var a=sa.layout.hierarchy().sort(null).value(null),s=Do,l=[1,1],c=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=null==(l=t)?i:null,e):c?null:l},e.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:i,e):c?l:null},ro(e,a)},sa.layout.cluster=function(){function e(e,i){var a,s=t.call(this,e,i),l=s[0],c=0;io(l,function(e){var t=e.children;t&&t.length?(e.x=Fo(t),e.y=Go(t)):(e.x=a?c+=n(e,a):0,e.y=0,a=e)});var u=Uo(l),d=Vo(l),f=u.x-n(u,d)/2,m=d.x+n(d,u)/2;return io(l,o?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-f)/(m-f)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=sa.layout.hierarchy().sort(null).value(null),n=Do,r=[1,1],o=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(o=null==(r=t),e):o?null:r},e.nodeSize=function(t){return arguments.length?(o=null!=(r=t),e):o?r:null},ro(e,t)},sa.layout.treemap=function(){function e(e,t){for(var n,r,o=-1,i=e.length;++o<i;)r=(n=e[o]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var i=n.children;if(i&&i.length){var a,s,l,c=d(n),u=[],f=i.slice(),g=1/0,p="slice"===m?c.dx:"dice"===m?c.dy:"slice-dice"===m?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(f,c.dx*c.dy/n.value),u.area=0;(l=f.length)>0;)u.push(a=f[l-1]),u.area+=a.area,"squarify"!==m||(s=r(u,p))<=g?(f.pop(),g=s):(u.area-=u.pop().area,o(u,p,c,!1),p=Math.min(c.dx,c.dy),u.length=u.area=0,g=1/0);u.length&&(o(u,p,c,!0),u.length=u.area=0),i.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var i,a=d(t),s=r.slice(),l=[];for(e(s,a.dx*a.dy/t.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(o(l,i.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,o=0,i=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<i&&(i=n),n>o&&(o=n));return r*=r,t*=t,r?Math.max(t*o*g/r,r/(t*i*g)):1/0}function o(e,t,n,r){var o,i=-1,a=e.length,s=n.x,c=n.y,u=t?l(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++i<a;)o=e[i],o.x=s,o.y=c,o.dy=u,s+=o.dx=Math.min(n.x+n.dx-s,u?l(o.area/u):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++i<a;)o=e[i],o.x=s,o.y=c,o.dx=u,c+=o.dy=Math.min(n.y+n.dy-c,u?l(o.area/u):0);o.z=!1,o.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function i(r){var o=a||s(r),i=o[0];return i.x=0,i.y=0,i.dx=c[0],i.dy=c[1],a&&s.revalue(i),e([i],i.dx*i.dy/i.value),(a?n:t)(i),f&&(a=o),o}var a,s=sa.layout.hierarchy(),l=Math.round,c=[1,1],u=null,d=zo,f=!1,m="squarify",g=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(c=e,i):c},i.padding=function(e){function t(t){var n=e.call(i,t,t.depth);return null==n?zo(t):Bo(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Bo(t,e)}if(!arguments.length)return u;var r;return d=null==(u=e)?zo:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,i},i.round=function(e){return arguments.length?(l=e?Math.round:Number,i):l!=Number},i.sticky=function(e){return arguments.length?(f=e,a=null,i):f},i.ratio=function(e){return arguments.length?(g=e,i):g},i.mode=function(e){return arguments.length?(m=e+"",i):m},ro(i,s)},sa.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,o;do n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r;while(!o||o>1);return e+t*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var e=sa.random.normal.apply(sa,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=sa.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},sa.scale={};var El={floor:A,ceil:A};sa.scale.linear=function(){return Ko([0,1],[0,1],Ar,!1)};var _l={s:1,g:1,p:1,r:1,e:1};sa.scale.log=function(){return ri(sa.scale.linear().domain([0,1]),10,!0,[1,10])};var Al=sa.format(".0e"),wl={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};sa.scale.pow=function(){return oi(sa.scale.linear(),1,[0,1])},sa.scale.sqrt=function(){return sa.scale.pow().exponent(.5)},sa.scale.ordinal=function(){return ai([],{t:"range",a:[[]]})},sa.scale.category10=function(){return sa.scale.ordinal().range(Il)},sa.scale.category20=function(){return sa.scale.ordinal().range(Cl)},sa.scale.category20b=function(){return sa.scale.ordinal().range(xl)},sa.scale.category20c=function(){return sa.scale.ordinal().range(Tl)};var Il=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(we),Cl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(we),xl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(we),Tl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(we);sa.scale.quantile=function(){return si([],[])},sa.scale.quantize=function(){return li(0,1,[0,1])},sa.scale.threshold=function(){return ci([.5],[0,1])},sa.scale.identity=function(){return ui([0,1])},sa.svg={},sa.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=a.apply(this,arguments)-Fa,d=s.apply(this,arguments)-Fa,f=Math.abs(d-u),m=u>d?0:1;if(c<e&&(g=c,c=e,e=g),f>=Ga)return t(c,m)+(e?t(e,1-m):"")+"Z";var g,p,v,h,y,b,S,E,_,A,w,I,C=0,x=0,T=[];if((h=(+l.apply(this,arguments)||0)/2)&&(v=i===Ol?Math.sqrt(e*e+c*c):+i.apply(this,arguments),m||(x*=-1),c&&(x=ae(v/c*Math.sin(h))),e&&(C=ae(v/e*Math.sin(h)))),c){y=c*Math.cos(u+x),b=c*Math.sin(u+x),S=c*Math.cos(d-x),E=c*Math.sin(d-x);var O=Math.abs(d-u-2*x)<=ka?0:1;if(x&&hi(y,b,S,E)===m^O){var M=(u+d)/2;y=c*Math.cos(M),b=c*Math.sin(M),S=E=null}}else y=b=0;if(e){_=e*Math.cos(d-C),A=e*Math.sin(d-C),w=e*Math.cos(u+C),I=e*Math.sin(u+C);var D=Math.abs(u-d+2*C)<=ka?0:1;if(C&&hi(_,A,w,I)===1-m^D){var N=(u+d)/2;_=e*Math.cos(N),A=e*Math.sin(N),w=I=null}}else _=A=0;if((g=Math.min(Math.abs(c-e)/2,+o.apply(this,arguments)))>.001){p=e<c^m?0:1;var R=null==w?[_,A]:null==S?[y,b]:Fn([y,b],[w,I],[S,E],[_,A]),P=y-R[0],k=b-R[1],L=S-R[0],G=E-R[1],F=1/Math.sin(Math.acos((P*L+k*G)/(Math.sqrt(P*P+k*k)*Math.sqrt(L*L+G*G)))/2),U=Math.sqrt(R[0]*R[0]+R[1]*R[1]);if(null!=S){var V=Math.min(g,(c-U)/(F+1)),z=yi(null==w?[_,A]:[w,I],[y,b],c,V,m),B=yi([S,E],[_,A],c,V,m);g===V?T.push("M",z[0],"A",V,",",V," 0 0,",p," ",z[1],"A",c,",",c," 0 ",1-m^hi(z[1][0],z[1][1],B[1][0],B[1][1]),",",m," ",B[1],"A",V,",",V," 0 0,",p," ",B[0]):T.push("M",z[0],"A",V,",",V," 0 1,",p," ",B[0])}else T.push("M",y,",",b);if(null!=w){var $=Math.min(g,(e-U)/(F-1)),H=yi([y,b],[w,I],e,-$,m),W=yi([_,A],null==S?[y,b]:[S,E],e,-$,m);g===$?T.push("L",W[0],"A",$,",",$," 0 0,",p," ",W[1],"A",e,",",e," 0 ",m^hi(W[1][0],W[1][1],H[1][0],H[1][1]),",",1-m," ",H[1],"A",$,",",$," 0 0,",p," ",H[0]):T.push("L",W[0],"A",$,",",$," 0 0,",p," ",H[0])}else T.push("L",_,",",A)}else T.push("M",y,",",b),null!=S&&T.push("A",c,",",c," 0 ",O,",",m," ",S,",",E),T.push("L",_,",",A),null!=w&&T.push("A",e,",",e," 0 ",D,",",1-m," ",w,",",I);return T.push("Z"),T.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=fi,r=mi,o=di,i=Ol,a=gi,s=pi,l=vi;return e.innerRadius=function(t){return arguments.length?(n=De(t),e):n},e.outerRadius=function(t){return arguments.length?(r=De(t),e):r},e.cornerRadius=function(t){return arguments.length?(o=De(t),e):o},e.padRadius=function(t){return arguments.length?(i=t==Ol?Ol:De(t),e):i},e.startAngle=function(t){return arguments.length?(a=De(t),e):a},e.endAngle=function(t){return arguments.length?(s=De(t),e):s},e.padAngle=function(t){return arguments.length?(l=De(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Fa;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Ol="auto";sa.svg.line=function(){return bi(A)};var Ml=sa.map({linear:Si,"linear-closed":Ei,step:_i,"step-before":Ai,"step-after":wi,basis:Mi,"basis-open":Di,"basis-closed":Ni,bundle:Ri,cardinal:xi,"cardinal-open":Ii,"cardinal-closed":Ci,monotone:Ui});Ml.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Dl=[0,2/3,1/3,0],Nl=[0,1/3,2/3,0],Rl=[0,1/6,2/3,1/6];sa.svg.line.radial=function(){var e=bi(Vi);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ai.reverse=wi,wi.reverse=Ai,sa.svg.area=function(){return zi(A)},sa.svg.area.radial=function(){var e=zi(Vi);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},sa.svg.chord=function(){function e(e,s){var l=t(this,i,e,s),c=t(this,a,e,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,c)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+o(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,n,r){var o=t.call(e,n,r),i=s.call(e,o,r),a=l.call(e,o,r)-Fa,u=c.call(e,o,r)-Fa;return{r:i,a0:a,a1:u,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(u),i*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>ka)+",1 "+t}function o(e,t,n,r){return"Q 0,0 "+r}var i=An,a=wn,s=Bi,l=gi,c=pi;return e.radius=function(t){return arguments.length?(s=De(t),e):s},e.source=function(t){return arguments.length?(i=De(t),e):i},e.target=function(t){return arguments.length?(a=De(t),e):a},e.startAngle=function(t){return arguments.length?(l=De(t),e):l},e.endAngle=function(t){return arguments.length?(c=De(t),e):c},e},sa.svg.diagonal=function(){function e(e,o){var i=t.call(this,e,o),a=n.call(this,e,o),s=(i.y+a.y)/2,l=[i,{x:i.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=An,n=wn,r=$i;return e.source=function(n){return arguments.length?(t=De(n),e):t},e.target=function(t){return arguments.length?(n=De(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},sa.svg.diagonal.radial=function(){var e=sa.svg.diagonal(),t=$i,n=e.projection;return e.projection=function(e){return arguments.length?n(Hi(t=e)):t},e},sa.svg.symbol=function(){function e(e,r){return(Pl.get(t.call(this,e,r))||qi)(n.call(this,e,r))}var t=ji,n=Wi;return e.type=function(n){return arguments.length?(t=De(n),e):t},e.size=function(t){return arguments.length?(n=De(t),e):n},e};var Pl=sa.map({circle:qi,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ll)),n=t*Ll;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/kl),n=t*kl/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/kl),n=t*kl/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});sa.svg.symbolTypes=Pl.keys();var kl=Math.sqrt(3),Ll=Math.tan(30*Ua);Ca.transition=function(e){for(var t,n,r=Gl||++zl,o=Ji(e),i=[],a=Fl||{time:Date.now(),ease:Mr,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&Qi(n,u,o,r,a),t.push(n)}return Ki(i,o,r)},Ca.interrupt=function(e){return this.each(null==e?Ul:Yi(Ji(e)))};var Gl,Fl,Ul=Yi(Ji()),Vl=[],zl=0;Vl.call=Ca.call,Vl.empty=Ca.empty,Vl.node=Ca.node,Vl.size=Ca.size,sa.transition=function(e,t){return e&&e.transition?Gl?e.transition(t):e:sa.selection().transition(e)},sa.transition.prototype=Vl,Vl.select=function(e){var t,n,r,o=this.id,i=this.namespace,a=[];e=R(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=e.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),Qi(n,u,i,o,r[i][o]),t.push(n)):t.push(null)}return Ki(a,i,o)},Vl.selectAll=function(e){var t,n,r,o,i,a=this.id,s=this.namespace,l=[];e=P(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],f=-1,m=d.length;++f<m;)if(r=d[f]){i=r[s][a],n=e.call(r,r.__data__,f,c),l.push(t=[]);for(var g=-1,p=n.length;++g<p;)(o=n[g])&&Qi(o,g,s,a,i),t.push(o)}return Ki(l,s,a)},Vl.filter=function(e){var t,n,r,o=[];"function"!=typeof e&&(e=j(e));for(var i=0,a=this.length;i<a;i++){o.push(t=[]);for(var n=this[i],s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,i)&&t.push(r)}return Ki(o,this.namespace,this.id)},Vl.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):Y(this,null==t?function(t){t[r][n].tween.remove(e)}:function(o){o[r][n].tween.set(e,t)})},Vl.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function o(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=a(n,e),function(e){this.setAttribute(s,t(e))})})}function i(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=a(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var a="transform"==e?jr:Ar,s=sa.ns.qualify(e);return Zi(this,"attr."+e,t,s.local?i:o)},Vl.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(o));return r&&function(e){this.setAttribute(o,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(o.space,o.local));return r&&function(e){this.setAttributeNS(o.space,o.local,r(e))}}var o=sa.ns.qualify(e);return this.tween("attr."+e,o.local?r:n)},Vl.style=function(e,t,n){function r(){this.style.removeProperty(e)}function o(t){return null==t?r:(t+="",function(){var r,o=a(this).getComputedStyle(this,null).getPropertyValue(e);return o!==t&&(r=Ar(o,t),function(t){this.style.setProperty(e,r(t),n)})})}var i=arguments.length;if(i<3){if("string"!=typeof e){i<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Zi(this,"style."+e,t,o)},Vl.styleTween=function(e,t,n){function r(r,o){var i=t.call(this,r,o,a(this).getComputedStyle(this,null).getPropertyValue(e));return i&&function(t){this.style.setProperty(e,i(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Vl.text=function(e){return Zi(this,"text",e,Xi)},Vl.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Vl.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=sa.ease.apply(sa,arguments)),Y(this,function(r){r[n][t].ease=e}))},Vl.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:Y(this,"function"==typeof e?function(r,o,i){r[n][t].delay=+e.call(r,r.__data__,o,i)}:(e=+e,function(r){r[n][t].delay=e}))},Vl.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:Y(this,"function"==typeof e?function(r,o,i){r[n][t].duration=Math.max(1,e.call(r,r.__data__,o,i))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Vl.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var o=Fl,i=Gl;try{Gl=n,Y(this,function(t,o,i){Fl=t[r][n],e.call(t,t.__data__,o,i)})}finally{Fl=o,Gl=i}}else Y(this,function(o){var i=o[r][n];(i.event||(i.event=sa.dispatch("start","end","interrupt"))).on(e,t)});return this},Vl.transition=function(){for(var e,t,n,r,o=this.id,i=++zl,a=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(e=[]);for(var t=this[l],u=0,d=t.length;u<d;u++)(n=t[u])&&(r=n[a][o],Qi(n,u,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return Ki(s,a,i)},sa.svg.axis=function(){function e(e){e.each(function(){var e,c=sa.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,m=null==t?d.tickFormat?d.tickFormat.apply(d,s):A:t,g=c.selectAll(".tick").data(f,d),p=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ra),v=sa.transition(g.exit()).style("opacity",Ra).remove(),h=sa.transition(g.order()).style("opacity",1),y=Math.max(o,0)+a,b=Ho(d),S=c.selectAll(".domain").data([0]),E=(S.enter().append("path").attr("class","domain"),sa.transition(S));p.append("line"),p.append("text");var _,w,I,C,x=p.select("line"),T=h.select("line"),O=g.select("text").text(m),M=p.select("text"),D=h.select("text"),N="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=ea,_="x",I="y",w="x2",C="y2",O.attr("dy",N<0?"0em":".71em").style("text-anchor","middle"),E.attr("d","M"+b[0]+","+N*i+"V0H"+b[1]+"V"+N*i)):(e=ta,_="y",I="x",w="y2",C="x2",O.attr("dy",".32em").style("text-anchor",N<0?"end":"start"),E.attr("d","M"+N*i+","+b[0]+"H0V"+b[1]+"H"+N*i)),x.attr(C,N*o),M.attr(I,N*y),T.attr(w,0).attr(C,N*o),D.attr(_,0).attr(I,N*y),d.rangeBand){var R=d,P=R.rangeBand()/2;u=d=function(e){return R(e)+P}}else u.rangeBand?u=d:v.call(e,d,u);p.call(e,u,d),h.call(e,d,d)})}var t,n=sa.scale.linear(),r=Bl,o=6,i=6,a=3,s=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in $l?t+"":Bl,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(o=+t,i=+arguments[n-1],e):o},e.innerTickSize=function(t){return arguments.length?(o=+t,e):o},e.outerTickSize=function(t){return arguments.length?(i=+t,e):i},e.tickPadding=function(t){return arguments.length?(a=+t,e):a},e.tickSubdivide=function(){return arguments.length&&e},e};var Bl="bottom",$l={top:1,right:1,bottom:1,left:1};sa.svg.brush=function(){function e(i){i.each(function(){var i=sa.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=i.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=i.selectAll(".resize").data(p,A);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Hl[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var l,d=sa.transition(i),f=sa.transition(a);c&&(l=Ho(c),f.attr("x",l[0]).attr("width",l[1]-l[0]),n(d)),u&&(l=Ho(u),f.attr("y",l[0]).attr("height",l[1]-l[0]),r(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+f[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(e){e.select(".extent").attr("y",f[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function o(){function o(){32==sa.event.keyCode&&(T||(b=null,D[0]-=d[1],D[1]-=f[1],T=2),O())}function p(){32==sa.event.keyCode&&2==T&&(D[0]+=d[1],D[1]+=f[1],T=0,O())}function v(){var e=sa.mouse(E),o=!1;S&&(e[0]+=S[0],e[1]+=S[1]),T||(sa.event.altKey?(b||(b=[(d[0]+d[1])/2,(f[0]+f[1])/2]),D[0]=d[+(e[0]<b[0])],D[1]=f[+(e[1]<b[1])]):b=null),C&&h(e,c,0)&&(n(w),o=!0),x&&h(e,u,1)&&(r(w),o=!0),o&&(t(w),A({type:"brush",mode:T?"move":"resize"}))}function h(e,t,n){var r,o,a=Ho(t),l=a[0],c=a[1],u=D[n],p=n?f:d,v=p[1]-p[0];if(T&&(l-=u,c-=v+u),r=(n?g:m)?Math.max(l,Math.min(c,e[n])):e[n],T?o=(r+=u)+v:(b&&(u=Math.max(l,Math.min(c,2*b[n]-r))),u<r?(o=r,r=u):o=u),p[0]!=r||p[1]!=o)return n?s=null:i=null,p[0]=r,p[1]=o,!0}function y(){v(),w.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),sa.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),A({type:"brushend"})}var b,S,E=this,_=sa.select(sa.event.target),A=l.of(E,arguments),w=sa.select(E),I=_.datum(),C=!/^(n|s)$/.test(I)&&c,x=!/^(e|w)$/.test(I)&&u,T=_.classed("extent"),M=ee(E),D=sa.mouse(E),N=sa.select(a(E)).on("keydown.brush",o).on("keyup.brush",p);if(sa.event.changedTouches?N.on("touchmove.brush",v).on("touchend.brush",y):N.on("mousemove.brush",v).on("mouseup.brush",y),w.interrupt().selectAll("*").interrupt(),T)D[0]=d[0]-D[0],D[1]=f[0]-D[1];else if(I){var R=+/w$/.test(I),P=+/^n/.test(I);S=[d[1-R]-D[0],f[1-P]-D[1]],D[0]=d[R],D[1]=f[P]}else sa.event.altKey&&(b=D.slice());w.style("pointer-events","none").selectAll(".resize").style("display",null),sa.select("body").style("cursor",_.style("cursor")),A({type:"brushstart"}),v()}var i,s,l=D(e,"brushstart","brush","brushend"),c=null,u=null,d=[0,0],f=[0,0],m=!0,g=!0,p=Wl[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:d,y:f,i:i,j:s},n=this.__chart__||t;this.__chart__=t,Gl?sa.select(this).transition().each("start.brush",function(){i=n.i,s=n.j,d=n.x,f=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=wr(d,t.x),r=wr(f,t.y);return i=s=null,function(o){d=t.x=n(o),f=t.y=r(o),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(c=t,p=Wl[!c<<1|!u],e):c},e.y=function(t){return arguments.length?(u=t,p=Wl[!c<<1|!u],e):u},e.clamp=function(t){return arguments.length?(c&&u?(m=!!t[0],g=!!t[1]):c?m=!!t:u&&(g=!!t),e):c&&u?[m,g]:c?m:u?g:null},e.extent=function(t){var n,r,o,a,l;return arguments.length?(c&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),i=[n,r],c.invert&&(n=c(n),r=c(r)),r<n&&(l=n,n=r,r=l),n==d[0]&&r==d[1]||(d=[n,r])),u&&(o=t[0],a=t[1],c&&(o=o[1],a=a[1]),s=[o,a],u.invert&&(o=u(o),a=u(a)),a<o&&(l=o,o=a,a=l),o==f[0]&&a==f[1]||(f=[o,a])),e):(c&&(i?(n=i[0],r=i[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),r<n&&(l=n,n=r,r=l))),u&&(s?(o=s[0],a=s[1]):(o=f[0],a=f[1],u.invert&&(o=u.invert(o),a=u.invert(a)),a<o&&(l=o,o=a,a=l))),c&&u?[[n,o],[r,a]]:c?[n,r]:u&&[o,a]);
},e.clear=function(){return e.empty()||(d=[0,0],f=[0,0],i=s=null),e},e.empty=function(){return!!c&&d[0]==d[1]||!!u&&f[0]==f[1]},sa.rebind(e,l,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],jl=ds.format=hs.timeFormat,ql=jl.utc,Yl=ql("%Y-%m-%dT%H:%M:%S.%LZ");jl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?na:Yl,na.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},na.toString=Yl.toString,ds.second=He(function(e){return new fs(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),ds.seconds=ds.second.range,ds.seconds.utc=ds.second.utc.range,ds.minute=He(function(e){return new fs(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),ds.minutes=ds.minute.range,ds.minutes.utc=ds.minute.utc.range,ds.hour=He(function(e){var t=e.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),ds.hours=ds.hour.range,ds.hours.utc=ds.hour.utc.range,ds.month=He(function(e){return e=ds.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),ds.months=ds.month.range,ds.months.utc=ds.month.utc.range;var Kl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zl=[[ds.second,1],[ds.second,5],[ds.second,15],[ds.second,30],[ds.minute,1],[ds.minute,5],[ds.minute,15],[ds.minute,30],[ds.hour,1],[ds.hour,3],[ds.hour,6],[ds.hour,12],[ds.day,1],[ds.day,2],[ds.week,1],[ds.month,1],[ds.month,3],[ds.year,1]],Xl=jl.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Rt]]),Jl={range:function(e,t,n){return sa.range(Math.ceil(e/n)*n,+t,n).map(oa)},floor:A,ceil:A};Zl.year=ds.year,ds.scale=function(){return ra(sa.scale.linear(),Zl,Xl)};var Ql=Zl.map(function(e){return[e[0].utc,e[1]]}),ec=ql.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Rt]]);Ql.year=ds.year.utc,ds.scale.utc=function(){return ra(sa.scale.linear(),Ql,ec)},sa.text=Ne(function(e){return e.responseText}),sa.json=function(e,t){return Re(e,"application/json",ia,t)},sa.html=function(e,t){return Re(e,"text/html",aa,t)},sa.xml=Ne(function(e){return e.responseXML}),r=sa,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o)),this.d3=sa}()},function(e,t,n){!function(){var t={};t.dev=!1,t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.logs={},t.dom={},t.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o}),t.dev&&(t.dispatch.on("render_start",function(e){t.logs.startTime=+new Date}),t.dispatch.on("render_end",function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(e,t){console&&console.warn&&console.warn("nvd3 warning: `"+e+"` has been deprecated. ",t||"")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.render_start();var n=function(){for(var r,o,i=0;i<e&&(o=t.render.queue[i]);i++)r=o.generate(),typeof o.callback==typeof Function&&o.callback(r);t.render.queue.splice(0,i),t.render.queue.length?setTimeout(n):(t.dispatch.render_end(),t.render.active=!1)};setTimeout(n)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},e.exports=t,"undefined"!=typeof window&&(window.nv=t),t.dom.write=function(e){return void 0!==window.fastdom?fastdom.write(e):e()},t.dom.read=function(e){return void 0!==window.fastdom?fastdom.read(e):e()},t.interactiveGuideline=function(){"use strict";function e(d){d.each(function(d){function f(){var t=d3.mouse(this),r=t[0],o=t[1],l=!0,c=!1;if(u&&(r=d3.event.offsetX,o=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(l=!1),d3.event.target.className.baseVal.match("nv-legend")&&(c=!0)),l&&(r-=i.left,o-=i.top),r<0||o<0||r>g||o>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||c){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(n.nvPointerEventsClass)))return;return s.elementMouseout({mouseX:r,mouseY:o}),e.renderGuideLine(null),void n.hidden(!0)}n.hidden(!1);var d=a.invert(r);s.elementMousemove({mouseX:r,mouseY:o,pointXValue:d}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:r,mouseY:o,pointXValue:d}),"click"===d3.event.type&&s.elementClick({mouseX:r,mouseY:o,pointXValue:d})}var m=d3.select(this),g=r||960,p=o||400,v=m.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]),h=v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");h.append("g").attr("class","nv-interactiveGuideLine"),c&&(c.on("touchmove",f).on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f).on("click",f),e.guideLine=null,e.renderGuideLine=function(n){l&&(e.guideLine&&e.guideLine.attr("x1")===n||t.dom.write(function(){var e=v.select(".nv-interactiveGuideLine").selectAll("line").data(null!=n?[t.utils.NaNtoZero(n)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(e){return e}).attr("x2",function(e){return e}).attr("y1",p).attr("y2",0),e.exit().remove()}))})})}var n=t.models.tooltip();n.duration(0).hideDelay(0)._isInteractiveLayer(!0).hidden(!1);var r=null,o=null,i={left:0,top:0},a=d3.scale.linear(),s=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick"),l=!0,c=null,u="ActiveXObject"in window;return e.dispatch=s,e.tooltip=n,e.margin=function(t){return arguments.length?(i.top="undefined"!=typeof t.top?t.top:i.top,i.left="undefined"!=typeof t.left?t.left:i.left,e):i},e.width=function(t){return arguments.length?(r=t,e):r},e.height=function(t){return arguments.length?(o=t,e):o},e.xScale=function(t){return arguments.length?(a=t,e):a},e.showGuideLine=function(t){return arguments.length?(l=t,e):l},e.svgContainer=function(t){return arguments.length?(c=t,e):c},e},t.interactiveBisect=function(e,t,n){"use strict";if(!(e instanceof Array))return null;var r;r="function"!=typeof n?function(e){return e.x}:n;var o=function(e,t){return r(e)-t},i=d3.bisector(o).left,a=d3.max([0,i(e,t)-1]),s=r(e[a]);if("undefined"==typeof s&&(s=a),s===t)return a;var l=d3.min([a+1,e.length-1]),c=r(e[l]);return"undefined"==typeof c&&(c=l),Math.abs(c-t)>=Math.abs(s-t)?a:l},t.nearestValueIndex=function(e,t,n){"use strict";var r=1/0,o=null;return e.forEach(function(e,i){var a=Math.abs(t-e);null!=e&&a<=r&&a<n&&(r=a,o=i)}),o},function(){"use strict";t.models.tooltip=function(){function e(){if(u){var e=d3.select(u);"svg"!==e.node().tagName&&(e=e.select("svg"));var t=e.node()?e.attr("viewBox"):null;if(t){t=t.split(" ");var n=parseInt(e.style("width"),10)/t[2];p.left=p.left*n,p.top=p.top*n}}}function n(){if(!m){var e;e=u?u:document.body,m=d3.select(e).append("div").attr("class","nvtooltip "+(c?c:"xy-tooltip")).attr("id",E),m.style("top",0).style("left",0),m.style("opacity",0),m.selectAll("div, table, td, tr").classed(_,!0),m.classed(_,!0),g=m.node()}}function r(){if(h&&x(o)){e();var i=p.left,a=null!==l?l:p.top;return t.dom.write(function(){n();var e=C(o);e&&(g.innerHTML=e),u&&S?t.dom.read(function(){var e=u.getElementsByTagName("svg")[0],t={left:0,top:0};if(e){var n=e.getBoundingClientRect(),r=u.getBoundingClientRect(),o=n.top;if(o<0){var l=u.getBoundingClientRect();o=Math.abs(o)>l.height?0:o}t.top=Math.abs(o-r.top),t.left=Math.abs(n.left-r.left)}i+=u.offsetLeft+t.left-2*u.scrollLeft,a+=u.offsetTop+t.top-2*u.scrollTop,s&&s>0&&(a=Math.floor(a/s)*s),T([i,a])}):T([i,a])}),r}}var o=null,i="w",a=25,s=0,l=null,c=null,u=null,d=!0,f=400,m=null,g=null,p={left:null,top:null},v={left:0,top:0},h=!0,y=100,b=!0,S=!1,E="nvtooltip-"+Math.floor(1e5*Math.random()),_="nv-pointer-events-none",A=function(e,t){return e},w=function(e){return e},I=function(e,t){return e},C=function(e){if(null===e)return"";var t=d3.select(document.createElement("table"));if(b){var n=t.selectAll("thead").data([e]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(w(e.value))}var r=t.selectAll("tbody").data([e]).enter().append("tbody"),o=r.selectAll("tr").data(function(e){return e.series}).enter().append("tr").classed("highlight",function(e){return e.highlight});o.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(e){return e.color}),o.append("td").classed("key",!0).html(function(e,t){return I(e.key,t)}),o.append("td").classed("value",!0).html(function(e,t){return A(e.value,t)}),o.selectAll("td").each(function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range(["#fff",e.color]),n=.6;d3.select(this).style("border-bottom-color",t(n)).style("border-top-color",t(n))}});var i=t.node().outerHTML;return void 0!==e.footer&&(i+="<div class='footer'>"+e.footer+"</div>"),i},x=function(e){if(e&&e.series){if(e.series instanceof Array)return!!e.series.length;if(e.series instanceof Object)return e.series=[e.series],!0}return!1},T=function(e){g&&t.dom.read(function(){var n,r,o=parseInt(g.offsetHeight,10),s=parseInt(g.offsetWidth,10),l=t.utils.windowSize().width,c=t.utils.windowSize().height,u=window.pageYOffset,p=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,l=window.innerHeight>=document.body.scrollHeight?l:l-16;var h,b,S=function(e){var t=r;do isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent;while(e);return t},E=function(e){var t=n;do isNaN(e.offsetLeft)||(t+=e.offsetLeft),e=e.offsetParent;while(e);return t};switch(i){case"e":n=e[0]-s-a,r=e[1]-o/2,h=E(g),b=S(g),h<p&&(n=e[0]+a>p?e[0]+a:p-h+n),b<u&&(r=u-b+r),b+o>u+c&&(r=u+c-b+r-o);break;case"w":n=e[0]+a,r=e[1]-o/2,h=E(g),b=S(g),h+s>l&&(n=e[0]-s-a),b<u&&(r=u+5),b+o>u+c&&(r=u+c-b+r-o);break;case"n":n=e[0]-s/2-5,r=e[1]+a,h=E(g),b=S(g),h<p&&(n=p+5),h+s>l&&(n=n-s/2+5),b+o>u+c&&(r=u+c-b+r-o);break;case"s":n=e[0]-s/2,r=e[1]-o-a,h=E(g),b=S(g),h<p&&(n=p+5),h+s>l&&(n=n-s/2+5),u>b&&(r=u);break;case"none":n=e[0],r=e[1]-a,h=E(g),b=S(g)}n-=v.left,r-=v.top;var _=g.getBoundingClientRect(),u=window.pageYOffset||document.documentElement.scrollTop,p=window.pageXOffset||document.documentElement.scrollLeft,A="translate("+(_.left+p)+"px, "+(_.top+u)+"px)",w="translate("+n+"px, "+r+"px)",I=d3.interpolateString(A,w),C=m.style("opacity")<.1;d?m.transition().delay(f).duration(0).style("opacity",0):m.interrupt().transition().duration(C?0:y).styleTween("transform",function(e){return I},"important").style("-webkit-transform",w).style("opacity",1)})};return r.nvPointerEventsClass=_,r.options=t.utils.optionsFunc.bind(r),r._options=Object.create({},{duration:{get:function(){return y},set:function(e){y=e}},gravity:{get:function(){return i},set:function(e){i=e}},distance:{get:function(){return a},set:function(e){a=e}},snapDistance:{get:function(){return s},set:function(e){s=e}},classes:{get:function(){return c},set:function(e){c=e}},chartContainer:{get:function(){return u},set:function(e){u=e}},fixedTop:{get:function(){return l},set:function(e){l=e}},enabled:{get:function(){return h},set:function(e){h=e}},hideDelay:{get:function(){return f},set:function(e){f=e}},contentGenerator:{get:function(){return C},set:function(e){C=e}},valueFormatter:{get:function(){return A},set:function(e){A=e}},headerFormatter:{get:function(){return w},set:function(e){w=e}},keyFormatter:{get:function(){return I},set:function(e){I=e}},headerEnabled:{get:function(){return b},set:function(e){b=e}},_isInteractiveLayer:{get:function(){return S},set:function(e){S=!!e}},position:{get:function(){return p},set:function(e){p.left=void 0!==e.left?e.left:p.left,p.top=void 0!==e.top?e.top:p.top}},offset:{get:function(){return v},set:function(e){v.left=void 0!==e.left?e.left:v.left,v.top=void 0!==e.top?e.top:v.top}},hidden:{get:function(){return d},set:function(e){d!=e&&(d=!!e,r())}},data:{get:function(){return o},set:function(e){e.point&&(e.value=e.point.x,e.series=e.series||{},e.series.value=e.point.y,e.series.color=e.point.color||e.series.color),o=e}},tooltipElem:{get:function(){return g},set:function(e){}},id:{get:function(){return E},set:function(e){}}}),t.utils.initOptions(r),r}}(),t.utils.windowSize=function(){var e={width:640,height:480};return window.innerWidth&&window.innerHeight?(e.width=window.innerWidth,e.height=window.innerHeight,e):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(e.width=document.documentElement.offsetWidth,e.height=document.documentElement.offsetHeight,e):document.body&&document.body.offsetWidth?(e.width=document.body.offsetWidth,e.height=document.body.offsetHeight,e):e},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){if(void 0===e)return t.utils.defaultColor();if(Array.isArray(e)){var n=d3.scale.ordinal().range(e);return function(e,t){var r=void 0===t?e:t;return e.color||n(r)}}return e},t.utils.defaultColor=function(){return t.utils.getColor(d3.scale.category20().range())},t.utils.customTheme=function(e,t,n){t=t||function(e){return e.key},n=n||d3.scale.category20().range();var r=n.length;return function(o,i){var a=t(o);return"function"==typeof e[a]?e[a]():void 0!==e[a]?e[a]:(r||(r=n.length),r-=1,n[r])}},t.utils.pjax=function(e,n){var r=function(r){d3.html(r,function(r){var o=d3.select(n).node();o.parentNode.replaceChild(d3.select(r).select(n).node(),o),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},t.utils.calcApproxTextWidth=function(e){if("function"==typeof e.style&&"function"==typeof e.text){var t=parseInt(e.style("font-size").replace("px",""),10),n=e.text().length;return n*t*.5}return 0},t.utils.NaNtoZero=function(e){return"number"!=typeof e||isNaN(e)||null===e||e===1/0||e===-(1/0)?0:e},d3.selection.prototype.watchTransition=function(e){var t=[this].concat([].slice.call(arguments,1));return e.transition.apply(e,t)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var r=void 0!==n?n:250,o=[],i=this;this.models=function(e){return e=[].slice.call(arguments,0),e.forEach(function(e){e.__rendered=!1,function(e){e.dispatch.on("renderEnd",function(t){e.__rendered=!0,i.renderEnd("model")})}(e),o.indexOf(e)<0&&o.push(e)}),this},this.reset=function(e){void 0!==e&&(r=e),o=[]},this.transition=function(e,t,n){if(t=arguments.length>1?[].slice.call(arguments,1):[],n=t.length>1?t.pop():void 0!==r?r:250,e.__rendered=!1,o.indexOf(e)<0&&o.push(e),0===n)return e.__rendered=!0,e.delay=function(){return this},e.duration=function(){return this},e;0===e.length?e.__rendered=!0:e.every(function(e){return!e.length})?e.__rendered=!0:e.__rendered=!1;var a=0;return e.transition().duration(n).each(function(){++a}).each("end",function(n,r){0===--a&&(e.__rendered=!0,i.renderEnd.apply(this,t))})},this.renderEnd=function(){o.every(function(e){return e.__rendered})&&(o.forEach(function(e){e.__rendered=!1}),e.renderEnd.apply(this,arguments))}},t.utils.deepExtend=function(e){var n=arguments.length>1?[].slice.call(arguments,1):[];n.forEach(function(n){for(var r in n){var o=e[r]instanceof Array,i="object"==typeof e[r],a="object"==typeof n[r];i&&!o&&a?t.utils.deepExtend(e[r],n[r]):e[r]=n[r]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},r=function(){return{}},o=null,i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(e){n(e,!0)}),this.getter=function(e){return r=e,this},this.setter=function(e,t){return t||(t=function(){}),n=function(n,r){e(n),r&&t()},this},this.init=function(e){o=o||{},t.utils.deepExtend(o,e)};var a=function(){var t=r();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],i=!0;return!0};this.update=function(){o&&(n(o,!1),o=null),a.call(this)&&this.dispatch.change(e)}},t.utils.optionsFunc=function(e){return e&&d3.map(e).forEach(function(e,t){"function"==typeof this[e]&&this[e](t)}.bind(this)),this},t.utils.calcTicksX=function(e,n){var r=1,o=0;for(o;o<n.length;o+=1){var i=n[o]&&n[o].values?n[o].values.length:0;r=i>r?i:r}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",r),e=e>r?e=r-1:e,e=e<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n){return t.utils.calcTicksX(e,n)},t.utils.initOption=function(e,t){e._calls&&e._calls[t]?e[t]=e._calls[t]:(e[t]=function(n){return arguments.length?(e._overrides[t]=!0,e._options[t]=n,e):e._options[t]},e["_"+t]=function(n){return arguments.length?(e._overrides[t]||(e._options[t]=n),e):e._options[t]})},t.utils.initOptions=function(e){e._overrides=e._overrides||{};var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{});n=n.concat(r);for(var o in n)t.utils.initOption(e,n[o])},t.utils.inheritOptionsD3=function(e,t,n){e._d3options=n.concat(e._d3options||[]),n.unshift(t),n.unshift(e),d3.rebind.apply(this,n)},t.utils.arrayUnique=function(e){return e.sort().filter(function(t,n){return!n||t!=e[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){function e(e,o){var i=n.call(this,e,o),a=r.call(this,e,o);return d3.svg.symbolTypes.indexOf(i)!==-1?d3.svg.symbol().type(i).size(a)():t.utils.symbolMap.get(i)(a)}var n,r=64;return e.type=function(t){return arguments.length?(n=d3.functor(t),e):n},e.size=function(t){return arguments.length?(r=d3.functor(t),e):r},e},t.utils.inheritOptions=function(e,n){var r=Object.getOwnPropertyNames(n._options||{}),o=Object.getOwnPropertyNames(n._calls||{}),i=n._inherited||[],a=n._d3options||[],s=r.concat(o).concat(i).concat(a);s.unshift(n),s.unshift(e),d3.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(r.concat(o).concat(i).concat(r).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(a.concat(e._d3options||[]))},t.utils.initSVG=function(e){e.classed({"nvd3-svg":!0})},t.utils.sanitizeHeight=function(e,t){return e||parseInt(t.style("height"),10)||400},t.utils.sanitizeWidth=function(e,t){return e||parseInt(t.style("width"),10)||960},t.utils.availableHeight=function(e,n,r){return t.utils.sanitizeHeight(e,n)-r.top-r.bottom},t.utils.availableWidth=function(e,n,r){return t.utils.sanitizeWidth(e,n)-r.left-r.right},t.utils.noData=function(e,n){var r=e.options(),o=r.margin(),i=r.noData(),a=null==i?["No Data Available."]:[i],s=t.utils.availableHeight(r.height(),n,o),l=t.utils.availableWidth(r.width(),n,o),c=o.left+l/2,u=o.top+s/2;n.selectAll("g").remove();var d=n.selectAll(".nv-noData").data(a);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",c).attr("y",u).text(function(e){return e})},t.models.axis=function(){"use strict";function e(a){return y.reset(),a.each(function(e){var a=d3.select(this);t.utils.initSVG(a);var p=a.selectAll("g.nv-wrap.nv-axis").data([e]),v=p.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),b=(v.append("g"),p.select("g"));null!==m?n.ticks(m):"top"!=n.orient()&&"bottom"!=n.orient()||n.ticks(Math.abs(r.range()[1]-r.range()[0])/100),b.watchTransition(y,"axis").call(n),h=h||n.scale();var S=n.tickFormat();null==S&&(S=h.tickFormat());var E=b.selectAll("text.nv-axislabel").data([s||null]);E.exit().remove();var _,A,w;switch(n.orient()){case"top":E.enter().append("text").attr("class","nv-axislabel"),w=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),E.attr("text-anchor","middle").attr("y",0).attr("x",w/2),l&&(A=p.selectAll("g.nv-axisMaxMin").data(r.domain()),A.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),A.exit().remove(),A.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-n.tickPadding()).attr("text-anchor","middle").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),A.watchTransition(y,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r.range()[n])+",0)"}));break;case"bottom":_=g+36;var I=30,C=0,x=b.selectAll("g").select("text"),T="";if(c%360){x.each(function(e,t){var n=this.getBoundingClientRect(),r=n.width;C=n.height,r>I&&(I=r)}),T="rotate("+c+" 0,"+(C/2+n.tickPadding())+")";var O=Math.abs(Math.sin(c*Math.PI/180));_=(O?O*I:I)+30,x.attr("transform",T).style("text-anchor",c%360>0?"start":"end")}E.enter().append("text").attr("class","nv-axislabel"),w=r.range().length<2?0:2===r.range().length?r.range()[1]:r.range()[r.range().length-1]+(r.range()[1]-r.range()[0]),E.attr("text-anchor","middle").attr("y",_).attr("x",w/2),l&&(A=p.selectAll("g.nv-axisMaxMin").data([r.domain()[0],r.domain()[r.domain().length-1]]),A.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-x",0==t?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),A.exit().remove(),A.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(f?r.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",n.tickPadding()).attr("transform",T).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),A.watchTransition(y,"min-max bottom").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(r(e)+(f?r.rangeBand()/2:0))+",0)"})),d&&x.attr("transform",function(e,t){return"translate(0,"+(t%2==0?"0":"12")+")"});break;case"right":E.enter().append("text").attr("class","nv-axislabel"),E.style("text-anchor",u?"middle":"begin").attr("transform",u?"rotate(90)":"").attr("y",u?-Math.max(o.right,i)+12:-10).attr("x",u?d3.max(r.range())/2:n.tickPadding()),l&&(A=p.selectAll("g.nv-axisMaxMin").data(r.domain()),A.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",n.tickPadding()).style("text-anchor","start").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),A.watchTransition(y,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1));break;case"left":E.enter().append("text").attr("class","nv-axislabel"),E.style("text-anchor",u?"middle":"end").attr("transform",u?"rotate(-90)":"").attr("y",u?-Math.max(o.left,i)+25-(g||0):-10).attr("x",u?-d3.max(r.range())/2:-n.tickPadding()),l&&(A=p.selectAll("g.nv-axisMaxMin").data(r.domain()),A.enter().append("g").attr("class",function(e,t){return["nv-axisMaxMin","nv-axisMaxMin-y",0==t?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(h(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-n.tickPadding()).attr("text-anchor","end").text(function(e,t){var n=S(e);return(""+n).match("NaN")?"":n}),A.watchTransition(y,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(r.range()[n])+")"}).select("text").style("opacity",1))}if(E.text(function(e){return e}),!l||"left"!==n.orient()&&"right"!==n.orient()||(b.selectAll("g").each(function(e,t){d3.select(this).select("text").attr("opacity",1),(r(e)<r.range()[1]+10||r(e)>r.range()[0]-10)&&((e>1e-10||e<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),r.domain()[0]==r.domain()[1]&&0==r.domain()[0]&&p.selectAll("g.nv-axisMaxMin").style("opacity",function(e,t){return t?0:1})),l&&("top"===n.orient()||"bottom"===n.orient())){var M=[];p.selectAll("g.nv-axisMaxMin").each(function(e,t){try{t?M.push(r(e)-this.getBoundingClientRect().width-4):M.push(r(e)+this.getBoundingClientRect().width+4)}catch(n){t?M.push(r(e)-4):M.push(r(e)+4)}}),b.selectAll("g").each(function(e,t){(r(e)<M[0]||r(e)>M[1])&&(e>1e-10||e<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}b.selectAll(".tick").filter(function(e){return!parseFloat(Math.round(1e5*e)/1e6)&&void 0!==e}).classed("zero",!0),h=r.copy()}),y.renderEnd("axis immediate"),e}var n=d3.svg.axis(),r=d3.scale.linear(),o={top:0,right:0,bottom:0,left:0},i=75,a=60,s=null,l=!0,c=0,u=!0,d=!1,f=!1,m=null,g=0,p=250,v=d3.dispatch("renderEnd");n.scale(r).orient("bottom").tickFormat(function(e){return e});var h,y=t.utils.renderWatch(v,p);return e.axis=n,e.dispatch=v,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(e){g=e}},staggerLabels:{get:function(){return d},set:function(e){d=e}},rotateLabels:{get:function(){return c},set:function(e){c=e}},rotateYLabel:{get:function(){return u},set:function(e){u=e}},showMaxMin:{get:function(){return l},set:function(e){l=e}},axisLabel:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return a},set:function(e){a=e}},ticks:{get:function(){return m},set:function(e){m=e}},width:{get:function(){return i},set:function(e){i=e}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}},duration:{get:function(){return p},set:function(e){p=e,y.reset(p)}},scale:{get:function(){return r},set:function(o){r=o,n.scale(r),f="function"==typeof r.rangeBands,t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"])}}}),t.utils.initOptions(e),t.utils.inheritOptionsD3(e,n,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(e,r,["domain","range","rangeBand","rangeBands"]),e},t.models.boxPlot=function(){"use strict";function e(d){return E.reset(),d.each(function(e){var d=c-l.left-l.right,p=u-l.top-l.bottom;h=d3.select(this),t.utils.initSVG(h),f.domain(n||e.map(function(e,t){return g(e,t)})).rangeBands(o||[0,d],.1);var _=[];if(!r){var A=d3.min(e.map(function(e){var t=[];return t.push(e.values.Q1),e.values.hasOwnProperty("whisker_low")&&null!==e.values.whisker_low&&t.push(e.values.whisker_low),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.min(t)})),w=d3.max(e.map(function(e){var t=[];return t.push(e.values.Q3),e.values.hasOwnProperty("whisker_high")&&null!==e.values.whisker_high&&t.push(e.values.whisker_high),e.values.hasOwnProperty("outliers")&&null!==e.values.outliers&&(t=t.concat(e.values.outliers)),d3.max(t)}));_=[A,w]}m.domain(r||_),m.range(i||[p,0]),a=a||f,s=s||m.copy().range([m(0),m(0)]);var I=h.selectAll("g.nv-wrap").data([e]);I.enter().append("g").attr("class","nvd3 nv-wrap");I.attr("transform","translate("+l.left+","+l.top+")");var C=I.selectAll(".nv-boxplot").data(function(e){return e}),x=C.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);C.attr("class","nv-boxplot").attr("transform",function(e,t,n){return"translate("+(f(g(e,t))+.05*f.rangeBand())+", 0)"}).classed("hover",function(e){return e.hover}),C.watchTransition(E,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,n){return n*b/e.length}).attr("transform",function(e,t){return"translate("+(f(g(e,t))+.05*f.rangeBand())+", 0)"}),C.exit().remove(),x.each(function(e,t){var n=d3.select(this);["low","high"].forEach(function(r){e.values.hasOwnProperty("whisker_"+r)&&null!==e.values["whisker_"+r]&&(n.append("line").style("stroke",e.color?e.color:v(e,t)).attr("class","nv-boxplot-whisker nv-boxplot-"+r),n.append("line").style("stroke",e.color?e.color:v(e,t)).attr("class","nv-boxplot-tick nv-boxplot-"+r))})});var T=C.selectAll(".nv-boxplot-outlier").data(function(e){return e.values.hasOwnProperty("outliers")&&null!==e.values.outliers?e.values.outliers:[]});T.enter().append("circle").style("fill",function(e,t,n){return v(e,n)}).style("stroke",function(e,t,n){return v(e,n)}).on("mouseover",function(e,t,n){d3.select(this).classed("hover",!0),y.elementMouseover({series:{key:e,color:v(e,n)},e:d3.event})}).on("mouseout",function(e,t,n){d3.select(this).classed("hover",!1),y.elementMouseout({series:{key:e,color:v(e,n)},e:d3.event})}).on("mousemove",function(e,t){y.elementMousemove({e:d3.event})}),T.attr("class","nv-boxplot-outlier"),T.watchTransition(E,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*f.rangeBand()).attr("cy",function(e,t,n){return m(e)}).attr("r","3"),T.exit().remove();var O=function(){return null===S?.9*f.rangeBand():Math.min(75,.9*f.rangeBand())},M=function(){return.45*f.rangeBand()-O()/2},D=function(){return.45*f.rangeBand()+O()/2};["low","high"].forEach(function(e){var t="low"===e?"Q1":"Q3";C.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(E,"nv-boxplot: boxplots").attr("x1",.45*f.rangeBand()).attr("y1",function(t,n){return m(t.values["whisker_"+e])}).attr("x2",.45*f.rangeBand()).attr("y2",function(e,n){return m(e.values[t])}),C.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(E,"nv-boxplot: boxplots").attr("x1",M).attr("y1",function(t,n){return m(t.values["whisker_"+e])}).attr("x2",D).attr("y2",function(t,n){return m(t.values["whisker_"+e])})}),["low","high"].forEach(function(e){x.selectAll(".nv-boxplot-"+e).on("mouseover",function(t,n,r){d3.select(this).classed("hover",!0),y.elementMouseover({series:{key:t.values["whisker_"+e],color:v(t,r)},e:d3.event})}).on("mouseout",function(t,n,r){d3.select(this).classed("hover",!1),y.elementMouseout({series:{key:t.values["whisker_"+e],color:v(t,r)},e:d3.event})}).on("mousemove",function(e,t){y.elementMousemove({e:d3.event})})}),x.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(e,t){d3.select(this).classed("hover",!0),y.elementMouseover({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||v(e,t)},{key:"Q2",value:e.values.Q2,color:e.color||v(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||v(e,t)}],data:e,index:t,e:d3.event})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),y.elementMouseout({key:e.label,value:e.label,series:[{key:"Q3",value:e.values.Q3,color:e.color||v(e,t)},{key:"Q2",
value:e.values.Q2,color:e.color||v(e,t)},{key:"Q1",value:e.values.Q1,color:e.color||v(e,t)}],data:e,index:t,e:d3.event})}).on("mousemove",function(e,t){y.elementMousemove({e:d3.event})}),C.select("rect.nv-boxplot-box").watchTransition(E,"nv-boxplot: boxes").attr("y",function(e,t){return m(e.values.Q3)}).attr("width",O).attr("x",M).attr("height",function(e,t){return Math.abs(m(e.values.Q3)-m(e.values.Q1))||1}).style("fill",function(e,t){return e.color||v(e,t)}).style("stroke",function(e,t){return e.color||v(e,t)}),x.append("line").attr("class","nv-boxplot-median"),C.select("line.nv-boxplot-median").watchTransition(E,"nv-boxplot: boxplots line").attr("x1",M).attr("y1",function(e,t){return m(e.values.Q2)}).attr("x2",D).attr("y2",function(e,t){return m(e.values.Q2)}),a=f.copy(),s=m.copy()}),E.renderEnd("nv-boxplot immediate"),e}var n,r,o,i,a,s,l={top:0,right:0,bottom:0,left:0},c=960,u=500,d=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),m=d3.scale.linear(),g=function(e){return e.x},p=function(e){return e.y},v=t.utils.defaultColor(),h=null,y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=250,S=null,E=t.utils.renderWatch(y,b);return e.dispatch=y,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},maxBoxWidth:{get:function(){return S},set:function(e){S=e}},x:{get:function(){return g},set:function(e){g=e}},y:{get:function(){return p},set:function(e){p=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return i},set:function(e){i=e}},id:{get:function(){return d},set:function(e){d=e}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}},duration:{get:function(){return b},set:function(e){b=e,E.reset(b)}}}),t.utils.initOptions(e),e},t.models.boxPlotChart=function(){"use strict";function e(u){return b.reset(),b.models(o),d&&b.models(i),f&&b.models(a),u.each(function(u){var p=d3.select(this);t.utils.initSVG(p);var b=(l||parseInt(p.style("width"))||960)-s.left-s.right,S=(c||parseInt(p.style("height"))||400)-s.top-s.bottom;if(e.update=function(){h.beforeUpdate(),p.transition().duration(y).call(e)},e.container=this,!(u&&u.length&&u.filter(function(e){return e.values.hasOwnProperty("Q1")&&e.values.hasOwnProperty("Q2")&&e.values.hasOwnProperty("Q3")}).length)){var E=p.selectAll(".nv-noData").data([v]);return E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),E.attr("x",s.left+b/2).attr("y",s.top+S/2).text(function(e){return e}),e}p.selectAll(".nv-noData").remove(),n=o.xScale(),r=o.yScale().clamp(!0);var _=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),A=_.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),w=A.append("defs"),I=_.select("g");A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),A.append("g").attr("class","nv-barsWrap"),I.attr("transform","translate("+s.left+","+s.top+")"),m&&I.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),o.width(b).height(S);var C=I.select(".nv-barsWrap").datum(u.filter(function(e){return!e.disabled}));if(C.transition().call(o),w.append("clipPath").attr("id","nv-x-label-clip-"+o.id()).append("rect"),I.select("#nv-x-label-clip-"+o.id()+" rect").attr("width",n.rangeBand()*(g?2:1)).attr("height",16).attr("x",-n.rangeBand()/(g?1:2)),d){i.scale(n).ticks(t.utils.calcTicksX(b/100,u)).tickSize(-S,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),I.select(".nv-x.nv-axis").call(i);var x=I.select(".nv-x.nv-axis").selectAll("g");g&&x.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}f&&(a.scale(r).ticks(Math.floor(S/36)).tickSize(-b,0),I.select(".nv-y.nv-axis").call(a)),I.select(".nv-zeroLine line").attr("x1",0).attr("x2",b).attr("y1",r(0)).attr("y2",r(0))}),b.renderEnd("nv-boxplot chart immediate"),e}var n,r,o=t.models.boxPlot(),i=t.models.axis(),a=t.models.axis(),s={top:15,right:10,bottom:50,left:60},l=null,c=null,u=t.utils.getColor(),d=!0,f=!0,m=!1,g=!1,p=t.models.tooltip(),v="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate","renderEnd"),y=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),a.orient(m?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var b=t.utils.renderWatch(h,y);return o.dispatch.on("elementMouseover.tooltip",function(e){p.data(e).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){p.data(e).hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(e){p.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=h,e.boxplot=o,e.xAxis=i,e.yAxis=a,e.tooltip=p,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return c},set:function(e){c=e}},staggerLabels:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return d},set:function(e){d=e}},showYAxis:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return tooltips},set:function(e){tooltips=e}},tooltipContent:{get:function(){return p},set:function(e){p=e}},noData:{get:function(){return v},set:function(e){v=e}},margin:{get:function(){return s},set:function(e){s.top=void 0!==e.top?e.top:s.top,s.right=void 0!==e.right?e.right:s.right,s.bottom=void 0!==e.bottom?e.bottom:s.bottom,s.left=void 0!==e.left?e.left:s.left}},duration:{get:function(){return y},set:function(e){y=e,b.reset(y),o.duration(y),i.duration(y),a.duration(y)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),o.color(u)}},rightAlignYAxis:{get:function(){return m},set:function(e){m=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.bullet=function(){"use strict";function e(r){return r.each(function(e,r){var p=f-n.left-n.right,y=m-n.top-n.bottom;g=d3.select(this),t.utils.initSVG(g);var b=i.call(this,e,r).slice().sort(d3.descending),S=a.call(this,e,r).slice().sort(d3.descending),E=s.call(this,e,r).slice().sort(d3.descending),_=l.call(this,e,r).slice(),A=c.call(this,e,r).slice(),w=u.call(this,e,r).slice(),I=d3.scale.linear().domain(d3.extent(d3.merge([d,b]))).range(o?[p,0]:[0,p]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(I.range());this.__chart__=I;var C=d3.min(b),x=d3.max(b),T=b[1],O=g.selectAll("g.nv-wrap.nv-bullet").data([e]),M=O.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),D=M.append("g"),N=O.select("g");D.append("rect").attr("class","nv-range nv-rangeMax"),D.append("rect").attr("class","nv-range nv-rangeAvg"),D.append("rect").attr("class","nv-range nv-rangeMin"),D.append("rect").attr("class","nv-measure"),O.attr("transform","translate("+n.left+","+n.top+")");var R=function(e){return Math.abs(I(e)-I(0))},P=function(e){return I(e<0?e:0)};N.select("rect.nv-rangeMax").attr("height",y).attr("width",R(x>0?x:C)).attr("x",P(x>0?x:C)).datum(x>0?x:C),N.select("rect.nv-rangeAvg").attr("height",y).attr("width",R(T)).attr("x",P(T)).datum(T),N.select("rect.nv-rangeMin").attr("height",y).attr("width",R(x)).attr("x",P(x)).attr("width",R(x>0?C:x)).attr("x",P(x>0?C:x)).datum(x>0?C:x),N.select("rect.nv-measure").style("fill",v).attr("height",y/3).attr("y",y/3).attr("width",E<0?I(0)-I(E[0]):I(E[0])-I(0)).attr("x",P(E)).on("mouseover",function(){h.elementMouseover({value:E[0],label:w[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){h.elementMousemove({value:E[0],label:w[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){h.elementMouseout({value:E[0],label:w[0]||"Current",color:d3.select(this).style("fill")})});var k=y/6,L=S.map(function(e,t){return{value:e,label:A[t]}});D.selectAll("path.nv-markerTriangle").data(L).enter().append("path").attr("class","nv-markerTriangle").attr("transform",function(e){return"translate("+I(e.value)+","+y/2+")"}).attr("d","M0,"+k+"L"+k+","+-k+" "+-k+","+-k+"Z").on("mouseover",function(e){h.elementMouseover({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill"),pos:[I(e.value),y/2]})}).on("mousemove",function(e){h.elementMousemove({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){h.elementMouseout({value:e.value,label:e.label||"Previous",color:d3.select(this).style("fill")})}),O.selectAll(".nv-range").on("mouseover",function(e,t){var n=_[t]||(t?1==t?"Mean":"Minimum":"Maximum");h.elementMouseover({value:e,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){h.elementMousemove({value:E[0],label:w[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){var n=_[t]||(t?1==t?"Mean":"Minimum":"Maximum");h.elementMouseout({value:e,label:n,color:d3.select(this).style("fill")})})}),e}var n={top:0,right:0,bottom:0,left:0},r="left",o=!1,i=function(e){return e.ranges},a=function(e){return e.markers?e.markers:[0]},s=function(e){return e.measures},l=function(e){return e.rangeLabels?e.rangeLabels:[]},c=function(e){return e.markerLabels?e.markerLabels:[]},u=function(e){return e.measureLabels?e.measureLabels:[]},d=[0],f=380,m=30,g=null,p=null,v=t.utils.getColor(["#1f77b4"]),h=d3.dispatch("elementMouseover","elementMouseout","elementMousemove");return e.dispatch=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return i},set:function(e){i=e}},markers:{get:function(){return a},set:function(e){a=e}},measures:{get:function(){return s},set:function(e){s=e}},forceX:{get:function(){return d},set:function(e){d=e}},width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},tickFormat:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},orient:{get:function(){return r},set:function(e){r=e,o="right"==r||"bottom"==r}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.bulletChart=function(){"use strict";function e(r){return r.each(function(o,g){var p=d3.select(this);t.utils.initSVG(p);var v=t.utils.availableWidth(u,p,a),h=d-a.top-a.bottom;if(e.update=function(){e(r)},e.container=this,!o||!s.call(this,o,g))return t.utils.noData(e,p),e;p.selectAll(".nv-noData").remove();var y=s.call(this,o,g).slice().sort(d3.descending),b=l.call(this,o,g).slice().sort(d3.descending),S=c.call(this,o,g).slice().sort(d3.descending),E=p.selectAll("g.nv-wrap.nv-bulletChart").data([o]),_=E.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),A=_.append("g"),w=E.select("g");A.append("g").attr("class","nv-bulletWrap"),A.append("g").attr("class","nv-titles"),E.attr("transform","translate("+a.left+","+a.top+")");var I=d3.scale.linear().domain([0,Math.max(y[0],b[0],S[0])]).range(i?[v,0]:[0,v]),C=this.__chart__||d3.scale.linear().domain([0,1/0]).range(I.range());this.__chart__=I;var x=A.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-a.top-a.bottom)/2+")");x.append("text").attr("class","nv-title").text(function(e){return e.title}),x.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(e){return e.subtitle}),n.width(v).height(h);var T=w.select(".nv-bulletWrap");d3.transition(T).call(n);var O=f||I.tickFormat(v/100),M=w.selectAll("g.nv-tick").data(I.ticks(m?m:v/50),function(e){return this.textContent||O(e)}),D=M.enter().append("g").attr("class","nv-tick").attr("transform",function(e){return"translate("+C(e)+",0)"}).style("opacity",1e-6);D.append("line").attr("y1",h).attr("y2",7*h/6),D.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*h/6).text(O);var N=d3.transition(M).attr("transform",function(e){return"translate("+I(e)+",0)"}).style("opacity",1);N.select("line").attr("y1",h).attr("y2",7*h/6),N.select("text").attr("y",7*h/6),d3.transition(M.exit()).attr("transform",function(e){return"translate("+I(e)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),e}var n=t.models.bullet(),r=t.models.tooltip(),o="left",i=!1,a={top:5,right:40,bottom:20,left:120},s=function(e){return e.ranges},l=function(e){return e.markers?e.markers:[0]},c=function(e){return e.measures},u=null,d=55,f=null,m=null,g=null,p=d3.dispatch("tooltipShow","tooltipHide");return r.duration(0).headerEnabled(!1),n.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.label,value:e.value,color:e.color},r.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(e){r.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(e){r.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.bullet=n,e.dispatch=p,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return s},set:function(e){s=e}},markers:{get:function(){return l},set:function(e){l=e}},measures:{get:function(){return c},set:function(e){c=e}},width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},tickFormat:{get:function(){return f},set:function(e){f=e}},ticks:{get:function(){return m},set:function(e){m=e}},noData:{get:function(){return g},set:function(e){g=e}},tooltips:{get:function(){return r.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),r.enabled(!!e)}},tooltipContent:{get:function(){return r.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),r.contentGenerator(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},orient:{get:function(){return o},set:function(e){o=e,i="right"==o||"bottom"==o}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.candlestickBar=function(){"use strict";function e(A){return A.each(function(e){n=d3.select(this);var A=t.utils.availableWidth(l,n,s),w=t.utils.availableHeight(c,n,s);t.utils.initSVG(n);var C=A/e[0].values.length*.45;d.domain(r||d3.extent(e[0].values.map(m).concat(b))),E?d.range(i||[.5*A/e[0].values.length,A*(e[0].values.length-.5)/e[0].values.length]):d.range(i||[5+C/2,A-C/2-5]),f.domain(o||[d3.min(e[0].values.map(y).concat(S)),d3.max(e[0].values.map(h).concat(S))]).range(a||[w,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var x=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([e[0].values]),T=x.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),O=T.append("defs"),M=T.append("g"),D=x.select("g");M.append("g").attr("class","nv-ticks"),x.attr("transform","translate("+s.left+","+s.top+")"),n.on("click",function(e,t){I.chartClick({data:e,index:t,pos:d3.event,id:u})}),O.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),x.select("#nv-chart-clip-path-"+u+" rect").attr("width",A).attr("height",w),D.attr("clip-path",_?"url(#nv-chart-clip-path-"+u+")":"");var N=x.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e});N.exit().remove();var R=N.enter().append("g").attr("class",function(e,t,n){return(p(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t});R.append("line").attr("class","nv-candlestick-lines").attr("transform",function(e,t){return"translate("+d(m(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,t){return f(h(e,t))}).attr("x2",0).attr("y2",function(e,t){return f(y(e,t))}),R.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(e,t){return"translate("+(d(m(e,t))-C/2)+","+(f(g(e,t))-(p(e,t)>v(e,t)?f(v(e,t))-f(p(e,t)):0))+")"}).attr("x",0).attr("y",0).attr("width",C).attr("height",function(e,t){var n=p(e,t),r=v(e,t);return n>r?f(r)-f(n):f(n)-f(r)});n.selectAll(".nv-candlestick-lines").transition().attr("transform",function(e,t){return"translate("+d(m(e,t))+",0)"}).attr("x1",0).attr("y1",function(e,t){return f(h(e,t))}).attr("x2",0).attr("y2",function(e,t){return f(y(e,t))}),n.selectAll(".nv-candlestick-rects").transition().attr("transform",function(e,t){return"translate("+(d(m(e,t))-C/2)+","+(f(g(e,t))-(p(e,t)>v(e,t)?f(v(e,t))-f(p(e,t)):0))+")"}).attr("x",0).attr("y",0).attr("width",C).attr("height",function(e,t){var n=p(e,t),r=v(e,t);return n>r?f(r)-f(n):f(n)-f(r)})}),e}var n,r,o,i,a,s={top:0,right:0,bottom:0,left:0},l=null,c=null,u=Math.floor(1e4*Math.random()),d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},g=function(e){return e.y},p=function(e){return e.open},v=function(e){return e.close},h=function(e){return e.high},y=function(e){return e.low},b=[],S=[],E=!1,_=!0,A=t.utils.defaultColor(),w=!1,I=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,r){e.clearHighlights(),n.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",r)},e.clearHighlights=function(){n.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},e.dispatch=I,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(e){l=e}},height:{get:function(){return c},set:function(e){c=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return o},set:function(e){o=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceX:{get:function(){return b},set:function(e){b=e}},forceY:{get:function(){return S},set:function(e){S=e}},padData:{get:function(){return E},set:function(e){E=e}},clipEdge:{get:function(){return _},set:function(e){_=e}},id:{get:function(){return u},set:function(e){u=e}},interactive:{get:function(){return w},set:function(e){w=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return g},set:function(e){g=e}},open:{get:function(){return p()},set:function(e){p=e}},close:{get:function(){return v()},set:function(e){v=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return y},set:function(e){y=e}},margin:{get:function(){return s},set:function(e){s.top=void 0!=e.top?e.top:s.top,s.right=void 0!=e.right?e.right:s.right,s.bottom=void 0!=e.bottom?e.bottom:s.bottom,s.left=void 0!=e.left?e.left:s.left}},color:{get:function(){return A},set:function(e){A=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.cumulativeLineChart=function(){"use strict";function e(d){return R.reset(),R.models(i),h&&R.models(a),y&&R.models(s),d.each(function(d){function C(t,n){d3.select(e.container).style("cursor","ew-resize")}function M(e,t){N.x=d3.event.x,N.i=Math.round(D.invert(N.x)),L()}function R(t,n){d3.select(e.container).style("cursor","auto"),w.index=N.i,T.stateChange(w)}function L(){te.data([N]);var t=e.duration();e.duration(0),e.update(),e.duration(t)}var G=d3.select(this);t.utils.initSVG(G),G.classed("nv-chart-"+A,!0);var F=this,U=t.utils.availableWidth(g,G,f),V=t.utils.availableHeight(p,G,f);if(e.update=function(){0===O?G.call(e):G.transition().duration(O).call(e)},e.container=this,w.setter(k(d),e.update).getter(P(d)).update(),w.disabled=d.map(function(e){return!!e.disabled}),!I){var z;I={};for(z in w)w[z]instanceof Array?I[z]=w[z].slice(0):I[z]=w[z]}var B=d3.behavior.drag().on("dragstart",C).on("drag",M).on("dragend",R);if(!(d&&d.length&&d.filter(function(e){return e.values.length}).length))return t.utils.noData(e,G),e;if(G.selectAll(".nv-noData").remove(),r=i.xScale(),o=i.yScale(),_)i.yDomain(null);else{var $=d.filter(function(e){return!e.disabled}).map(function(e,t){var n=d3.extent(e.values,i.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),H=[d3.min($,function(e){return e[0]}),d3.max($,function(e){return e[1]})];i.yDomain(H)}D.domain([0,d[0].values.length-1]).range([0,U]).clamp(!0);var d=n(N.i,d),W=E?"none":"all",j=G.selectAll("g.nv-wrap.nv-cumulativeLine").data([d]),q=j.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),Y=j.select("g");if(q.append("g").attr("class","nv-interactive"),q.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-background"),q.append("g").attr("class","nv-linesWrap").style("pointer-events",W),q.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap"),v&&(l.width(U),Y.select(".nv-legendWrap").datum(d).call(l),f.top!=l.height()&&(f.top=l.height(),V=t.utils.availableHeight(p,G,f)),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")),S){var K=[{key:"Re-scale y-axis",disabled:!_}];c.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),Y.select(".nv-controlsWrap").datum(K).attr("transform","translate(0,"+-f.top+")").call(c)}j.attr("transform","translate("+f.left+","+f.top+")"),b&&Y.select(".nv-y.nv-axis").attr("transform","translate("+U+",0)");var Z=d.filter(function(e){return e.tempDisabled});j.select(".tempDisabled").remove(),Z.length&&j.append("text").attr("class","tempDisabled").attr("x",U/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(e){return e.key}).join(", ")+" values cannot be calculated for this time period."),E&&(u.width(U).height(V).margin({left:f.left,top:f.top}).svgContainer(G).xScale(r),j.select(".nv-interactive").call(u)),q.select(".nv-background").append("rect"),Y.select(".nv-background rect").attr("width",U).attr("height",V),i.y(function(e){return e.display.y}).width(U).height(V).color(d.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!d[t].disabled&&!d[t].tempDisabled}));var X=Y.select(".nv-linesWrap").datum(d.filter(function(e){return!e.disabled&&!e.tempDisabled}));X.call(i),d.forEach(function(e,t){e.seriesIndex=t});var J=d.filter(function(e){return!e.disabled&&!!x(e)}),Q=Y.select(".nv-avgLinesWrap").selectAll("line").data(J,function(e){return e.key}),ee=function(e){var t=o(x(e));return t<0?0:t>V?V:t};Q.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(e,t){return i.color()(e,e.seriesIndex)}).attr("x1",0).attr("x2",U).attr("y1",ee).attr("y2",ee),Q.style("stroke-opacity",function(e){var t=o(x(e));return t<0||t>V?0:1}).attr("x1",0).attr("x2",U).attr("y1",ee).attr("y2",ee),Q.exit().remove();var te=X.selectAll(".nv-indexLine").data([N]);te.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(B),te.attr("transform",function(e){return"translate("+D(e.i)+",0)"}).attr("height",V),h&&(a.scale(r)._ticks(t.utils.calcTicksX(U/70,d)).tickSize(-V,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),Y.select(".nv-x.nv-axis").call(a)),y&&(s.scale(o)._ticks(t.utils.calcTicksY(V/36,d)).tickSize(-U,0),Y.select(".nv-y.nv-axis").call(s)),Y.select(".nv-background rect").on("click",function(){N.x=d3.mouse(this)[0],N.i=Math.round(D.invert(N.x)),w.index=N.i,T.stateChange(w),L()}),i.dispatch.on("elementClick",function(e){N.i=e.pointIndex,N.x=D(N.i),w.index=N.i,T.stateChange(w),L()}),c.dispatch.on("legendClick",function(t,n){t.disabled=!t.disabled,_=!t.disabled,w.rescaleY=_,T.stateChange(w),e.update()}),l.dispatch.on("stateChange",function(t){for(var n in t)w[n]=t[n];T.stateChange(w),e.update()}),u.dispatch.on("elementMousemove",function(n){i.clearHighlights();var r,o,l,c=[];if(d.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(a,s){o=t.interactiveBisect(a.values,n.pointXValue,e.x()),i.highlightPoint(s,o,!0);var u=a.values[o];"undefined"!=typeof u&&("undefined"==typeof r&&(r=u),"undefined"==typeof l&&(l=e.xScale()(e.x()(u,o))),c.push({key:a.key,value:e.y()(u,o),color:m(a,a.seriesIndex)}))}),c.length>2){var g=e.yScale().invert(n.mouseY),p=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),v=.03*p,h=t.nearestValueIndex(c.map(function(e){return e.value}),g,v);null!==h&&(c[h].highlight=!0)}var y=a.tickFormat()(e.x()(r,o),o);u.tooltip.position({left:l+f.left,top:n.mouseY+f.top}).chartContainer(F.parentNode).valueFormatter(function(e,t){return s.tickFormat()(e)}).data({value:y,series:c})(),u.renderGuideLine(l)}),u.dispatch.on("elementMouseout",function(e){i.clearHighlights()}),T.on("changeState",function(t){"undefined"!=typeof t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),"undefined"!=typeof t.index&&(N.i=t.index,N.x=D(N.i),w.index=t.index,te.data([N])),"undefined"!=typeof t.rescaleY&&(_=t.rescaleY),e.update()})}),R.renderEnd("cumulativeLineChart immediate"),e}function n(e,t){return L||(L=i.y()),t.map(function(t,n){if(!t.values)return t;var r=t.values[e];if(null==r)return t;var o=L(r,e);return o<-.95&&!M?(t.tempDisabled=!0,t):(t.tempDisabled=!1,t.values=t.values.map(function(e,t){return e.display={y:(L(e,t)-o)/(1+o)},e}),t)})}var r,o,i=t.models.line(),a=t.models.axis(),s=t.models.axis(),l=t.models.legend(),c=t.models.legend(),u=t.interactiveGuideline(),d=t.models.tooltip(),f={top:30,right:30,bottom:50,left:60},m=t.utils.defaultColor(),g=null,p=null,v=!0,h=!0,y=!0,b=!1,S=!0,E=!1,_=!0,A=i.id(),w=t.utils.state(),I=null,C=null,x=function(e){return e.average},T=d3.dispatch("stateChange","changeState","renderEnd"),O=250,M=!1;w.index=0,w.rescaleY=_,a.orient("bottom").tickPadding(7),s.orient(b?"right":"left"),d.valueFormatter(function(e,t){return s.tickFormat()(e,t)}).headerFormatter(function(e,t){return a.tickFormat()(e,t)}),c.updateState(!1);var D=d3.scale.linear(),N={i:0,x:0},R=t.utils.renderWatch(T,O),P=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),index:N.i,rescaleY:_}}},k=function(e){return function(t){void 0!==t.index&&(N.i=t.index),void 0!==t.rescaleY&&(_=t.rescaleY),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};i.dispatch.on("elementMouseover.tooltip",function(t){var n={x:e.x()(t.point),y:e.y()(t.point),color:t.point.color};t.point=n,d.data(t).position(t.pos).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){d.hidden(!0)});var L=null;return e.dispatch=T,e.lines=i,e.legend=l,e.controls=c,e.xAxis=a,e.yAxis=s,e.interactiveLayer=u,e.state=w,e.tooltip=d,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return g},set:function(e){g=e}},height:{get:function(){return p},set:function(e){p=e}},rescaleY:{get:function(){return _},set:function(e){_=e}},showControls:{get:function(){return S},set:function(e){S=e}},showLegend:{get:function(){return v},set:function(e){v=e}},average:{get:function(){return x},set:function(e){x=e}},defaultState:{get:function(){return I},set:function(e){I=e}},noData:{get:function(){return C},set:function(e){C=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return y},set:function(e){y=e}},noErrorCheck:{get:function(){return M},set:function(e){M=e}},tooltips:{get:function(){return d.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),d.enabled(!!e)}},tooltipContent:{get:function(){return d.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),d.contentGenerator(e)}},margin:{get:function(){return f},set:function(e){f.top=void 0!==e.top?e.top:f.top,f.right=void 0!==e.right?e.right:f.right,f.bottom=void 0!==e.bottom?e.bottom:f.bottom,f.left=void 0!==e.left?e.left:f.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),l.color(m)}},useInteractiveGuideline:{get:function(){return E},set:function(t){E=t,t===!0&&(e.interactive(!1),e.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,s.orient(e?"right":"left")}},duration:{get:function(){return O},set:function(e){O=e,i.duration(O),a.duration(O),s.duration(O),R.reset(O)}}}),t.utils.inheritOptions(e,i),t.utils.initOptions(e),e},t.models.discreteBar=function(){"use strict";function e(f){return w.reset(),f.each(function(e){var f=u-c.left-c.right,A=d-c.top-c.bottom;n=d3.select(this),t.utils.initSVG(n),e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var I=r&&o?[]:e.map(function(e){return e.values.map(function(e,t){return{x:p(e,t),y:v(e,t),y0:e.y0}})});m.domain(r||d3.merge(I).map(function(e){return e.x})).rangeBands(i||[0,f],.1),g.domain(o||d3.extent(d3.merge(I).map(function(e){return e.y}).concat(h))),b?g.range(a||[A-(g.domain()[0]<0?12:0),g.domain()[1]>0?12:0]):g.range(a||[A,0]),s=s||m,l=l||g.copy().range([g(0),g(0)]);var C=n.selectAll("g.nv-wrap.nv-discretebar").data([e]),x=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),T=x.append("g");C.select("g");T.append("g").attr("class","nv-groups"),C.attr("transform","translate("+c.left+","+c.top+")");var O=C.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),O.exit().watchTransition(w,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),O.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}),O.watchTransition(w,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var M=O.selectAll("g.nv-bar").data(function(e){return e.values});M.exit().remove();var D=M.enter().append("g").attr("transform",function(e,t,n){return"translate("+(m(p(e,t))+.05*m.rangeBand())+", "+g(0)+")"}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),E.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),E.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){E.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){E.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){E.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});D.append("rect").attr("height",0).attr("width",.9*m.rangeBand()/e.length),b?(D.append("text").attr("text-anchor","middle"),M.select("text").text(function(e,t){return S(v(e,t))}).watchTransition(w,"discreteBar: bars text").attr("x",.9*m.rangeBand()/2).attr("y",function(e,t){return v(e,t)<0?g(v(e,t))-g(0)+12:-4})):M.selectAll("text").remove(),M.attr("class",function(e,t){return v(e,t)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(e,t){return e.color||y(e,t)}).style("stroke",function(e,t){return e.color||y(e,t)}).select("rect").attr("class",_).watchTransition(w,"discreteBar: bars rect").attr("width",.9*m.rangeBand()/e.length),M.watchTransition(w,"discreteBar: bars").attr("transform",function(e,t){var n=m(p(e,t))+.05*m.rangeBand(),r=v(e,t)<0?g(0):g(0)-g(v(e,t))<1?g(0)-1:g(v(e,t));
return"translate("+n+", "+r+")"}).select("rect").attr("height",function(e,t){return Math.max(Math.abs(g(v(e,t))-g(o&&o[0]||0))||1)}),s=m.copy(),l=g.copy()}),w.renderEnd("discreteBar immediate"),e}var n,r,o,i,a,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=Math.floor(1e4*Math.random()),m=d3.scale.ordinal(),g=d3.scale.linear(),p=function(e){return e.x},v=function(e){return e.y},h=[0],y=t.utils.defaultColor(),b=!1,S=d3.format(",.2f"),E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),_="discreteBar",A=250,w=t.utils.renderWatch(E,A);return e.dispatch=E,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},forceY:{get:function(){return h},set:function(e){h=e}},showValues:{get:function(){return b},set:function(e){b=e}},x:{get:function(){return p},set:function(e){p=e}},y:{get:function(){return v},set:function(e){v=e}},xScale:{get:function(){return m},set:function(e){m=e}},yScale:{get:function(){return g},set:function(e){g=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return o},set:function(e){o=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return a},set:function(e){a=e}},valueFormat:{get:function(){return S},set:function(e){S=e}},id:{get:function(){return f},set:function(e){f=e}},rectClass:{get:function(){return _},set:function(e){_=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}},duration:{get:function(){return A},set:function(e){A=e,w.reset(A)}}}),t.utils.initOptions(e),e},t.models.discreteBarChart=function(){"use strict";function e(s){return b.reset(),b.models(o),f&&b.models(i),m&&b.models(a),s.each(function(s){var d=d3.select(this);t.utils.initSVG(d);var v=t.utils.availableWidth(c,d,l),b=t.utils.availableHeight(u,d,l);if(e.update=function(){h.beforeUpdate(),d.transition().duration(y).call(e)},e.container=this,!(s&&s.length&&s.filter(function(e){return e.values.length}).length))return t.utils.noData(e,d),e;d.selectAll(".nv-noData").remove(),n=o.xScale(),r=o.yScale().clamp(!0);var S=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),E=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),_=E.append("defs"),A=S.select("g");E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),E.append("g").attr("class","nv-barsWrap"),A.attr("transform","translate("+l.left+","+l.top+")"),g&&A.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)"),o.width(v).height(b);var w=A.select(".nv-barsWrap").datum(s.filter(function(e){return!e.disabled}));if(w.transition().call(o),_.append("clipPath").attr("id","nv-x-label-clip-"+o.id()).append("rect"),A.select("#nv-x-label-clip-"+o.id()+" rect").attr("width",n.rangeBand()*(p?2:1)).attr("height",16).attr("x",-n.rangeBand()/(p?1:2)),f){i.scale(n)._ticks(t.utils.calcTicksX(v/100,s)).tickSize(-b,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+(r.range()[0]+(o.showValues()&&r.domain()[0]<0?16:0))+")"),A.select(".nv-x.nv-axis").call(i);var I=A.select(".nv-x.nv-axis").selectAll("g");p&&I.selectAll("text").attr("transform",function(e,t,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}m&&(a.scale(r)._ticks(t.utils.calcTicksY(b/36,s)).tickSize(-v,0),A.select(".nv-y.nv-axis").call(a)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",v).attr("y1",r(0)).attr("y2",r(0))}),b.renderEnd("discreteBar chart immediate"),e}var n,r,o=t.models.discreteBar(),i=t.models.axis(),a=t.models.axis(),s=t.models.tooltip(),l={top:15,right:10,bottom:50,left:60},c=null,u=null,d=t.utils.getColor(),f=!0,m=!0,g=!1,p=!1,v=null,h=d3.dispatch("beforeUpdate","renderEnd"),y=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(e){return e}),a.orient(g?"right":"left").tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).keyFormatter(function(e,t){return i.tickFormat()(e,t)});var b=t.utils.renderWatch(h,y);return o.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},s.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){s.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(e){s.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=h,e.discretebar=o,e.xAxis=i,e.yAxis=a,e.tooltip=s,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return c},set:function(e){c=e}},height:{get:function(){return u},set:function(e){u=e}},staggerLabels:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return f},set:function(e){f=e}},showYAxis:{get:function(){return m},set:function(e){m=e}},noData:{get:function(){return v},set:function(e){v=e}},tooltips:{get:function(){return s.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),s.enabled(!!e)}},tooltipContent:{get:function(){return s.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),s.contentGenerator(e)}},margin:{get:function(){return l},set:function(e){l.top=void 0!==e.top?e.top:l.top,l.right=void 0!==e.right?e.right:l.right,l.bottom=void 0!==e.bottom?e.bottom:l.bottom,l.left=void 0!==e.left?e.left:l.left}},duration:{get:function(){return y},set:function(e){y=e,b.reset(y),o.duration(y),i.duration(y),a.duration(y)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),o.color(d)}},rightAlignYAxis:{get:function(){return g},set:function(e){g=e,a.orient(e?"right":"left")}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.distribution=function(){"use strict";function e(u){return f.reset(),u.each(function(e){var u=(o-("x"===a?r.left+r.right:r.top+r.bottom),"x"==a?"y":"x"),d=d3.select(this);t.utils.initSVG(d),n=n||c;var m=d.selectAll("g.nv-distribution").data([e]),g=m.enter().append("g").attr("class","nvd3 nv-distribution"),p=(g.append("g"),m.select("g"));m.attr("transform","translate("+r.left+","+r.top+")");var v=p.selectAll("g.nv-dist").data(function(e){return e},function(e){return e.key});v.enter().append("g"),v.attr("class",function(e,t){return"nv-dist nv-series-"+t}).style("stroke",function(e,t){return l(e,t)});var h=v.selectAll("line.nv-dist"+a).data(function(e){return e.values});h.enter().append("line").attr(a+"1",function(e,t){return n(s(e,t))}).attr(a+"2",function(e,t){return n(s(e,t))}),f.transition(v.exit().selectAll("line.nv-dist"+a),"dist exit").attr(a+"1",function(e,t){return c(s(e,t))}).attr(a+"2",function(e,t){return c(s(e,t))}).style("stroke-opacity",0).remove(),h.attr("class",function(e,t){return"nv-dist"+a+" nv-dist"+a+"-"+t}).attr(u+"1",0).attr(u+"2",i),f.transition(h,"dist").attr(a+"1",function(e,t){return c(s(e,t))}).attr(a+"2",function(e,t){return c(s(e,t))}),n=c.copy()}),f.renderEnd("distribution immediate"),e}var n,r={top:0,right:0,bottom:0,left:0},o=400,i=8,a="x",s=function(e){return e[a]},l=t.utils.defaultColor(),c=d3.scale.linear(),u=250,d=d3.dispatch("renderEnd"),f=t.utils.renderWatch(d,u);return e.options=t.utils.optionsFunc.bind(e),e.dispatch=d,e.margin=function(t){return arguments.length?(r.top="undefined"!=typeof t.top?t.top:r.top,r.right="undefined"!=typeof t.right?t.right:r.right,r.bottom="undefined"!=typeof t.bottom?t.bottom:r.bottom,r.left="undefined"!=typeof t.left?t.left:r.left,e):r},e.width=function(t){return arguments.length?(o=t,e):o},e.axis=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(i=t,e):i},e.getData=function(t){return arguments.length?(s=d3.functor(t),e):s},e.scale=function(t){return arguments.length?(c=t,e):c},e.color=function(n){return arguments.length?(l=t.utils.getColor(n),e):l},e.duration=function(t){return arguments.length?(u=t,f.reset(u),e):u},e},t.models.furiousLegend=function(){"use strict";function e(p){function v(e,t){return"furious"!=g?"#000":f?e.disengaged?a(e,t):"#fff":f?void 0:e.disabled?a(e,t):"#fff"}function h(e,t){return f&&"furious"==g?e.disengaged?"#fff":a(e,t):e.disabled?"#fff":a(e,t)}return p.each(function(e){var p=r-n.left-n.right,y=d3.select(this);t.utils.initSVG(y);var b=y.selectAll("g.nv-legend").data([e]),S=(b.enter().append("g").attr("class","nvd3 nv-legend").append("g"),b.select("g"));b.attr("transform","translate("+n.left+","+n.top+")");var E,_=S.selectAll(".nv-series").data(function(e){return"furious"!=g?e:e.filter(function(e){return!!f||!e.disengaged})}),A=_.enter().append("g").attr("class","nv-series");if("classic"==g)A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),E=_.select("circle");else if("furious"==g){A.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),E=_.select("rect"),A.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var w=_.select(".nv-check-box");w.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))})}A.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var I=_.select("text.nv-legend-text");_.on("mouseover",function(e,t){m.legendMouseover(e,t)}).on("mouseout",function(e,t){m.legendMouseout(e,t)}).on("click",function(e,t){m.legendClick(e,t);var n=_.data();if(u){if("classic"==g)d?(n.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,n.every(function(e){return e.disabled})&&n.forEach(function(e){e.disabled=!1}));else if("furious"==g)if(f)e.disengaged=!e.disengaged,e.userDisabled=void 0==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!f){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter(function(e){return!e.disengaged});r.every(function(e){return e.userDisabled})&&n.forEach(function(e){e.disabled=e.userDisabled=!1})}m.stateChange({disabled:n.map(function(e){return!!e.disabled}),disengaged:n.map(function(e){return!!e.disengaged})})}}).on("dblclick",function(e,t){if(("furious"!=g||!f)&&(m.legendDblclick(e,t),u)){var n=_.data();n.forEach(function(e){e.disabled=!0,"furious"==g&&(e.userDisabled=e.disabled)}),e.disabled=!1,"furious"==g&&(e.userDisabled=e.disabled),m.stateChange({disabled:n.map(function(e){return!!e.disabled})})}}),_.classed("nv-disabled",function(e){return e.userDisabled}),_.exit().remove(),I.attr("fill",v).text(i);var C;switch(g){case"furious":C=23;break;case"classic":C=20}if(s){var x=[];_.each(function(e,n){var r,o=d3.select(this).select("text");try{if(r=o.node().getComputedTextLength(),r<=0)throw Error()}catch(e){r=t.utils.calcApproxTextWidth(o)}x.push(r+l)});for(var T=0,O=0,M=[];O<p&&T<x.length;)M[T]=x[T],O+=x[T++];for(0===T&&(T=1);O>p&&T>1;){M=[],T--;for(var D=0;D<x.length;D++)x[D]>(M[D%T]||0)&&(M[D%T]=x[D]);O=M.reduce(function(e,t,n,r){return e+t})}for(var N=[],R=0,P=0;R<T;R++)N[R]=P,P+=M[R];_.attr("transform",function(e,t){return"translate("+N[t%T]+","+(5+Math.floor(t/T)*C)+")"}),c?S.attr("transform","translate("+(r-n.right-O)+","+n.top+")"):S.attr("transform","translate(0,"+n.top+")"),o=n.top+n.bottom+Math.ceil(x.length/T)*C}else{var k,L=5,G=5,F=0;_.attr("transform",function(e,t){var o=d3.select(this).select("text").node().getComputedTextLength()+l;return k=G,r<n.left+n.right+k+o&&(G=k=5,L+=C),G+=o,G>F&&(F=G),"translate("+k+","+L+")"}),S.attr("transform","translate("+(r-n.right-F)+","+n.top+")"),o=n.top+n.bottom+L+15}"furious"==g&&E.attr("width",function(e,t){return I[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),E.style("fill",h).style("stroke",function(e,t){return e.color||a(e,t)})}),e}var n={top:5,right:0,bottom:5,left:0},r=400,o=20,i=function(e){return e.key},a=t.utils.getColor(),s=!0,l=28,c=!0,u=!0,d=!1,f=!1,m=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return o},set:function(e){o=e}},key:{get:function(){return i},set:function(e){i=e}},align:{get:function(){return s},set:function(e){s=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},padding:{get:function(){return l},set:function(e){l=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return f},set:function(e){f=e}},vers:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBar=function(){"use strict";function e(A){return A.each(function(e){_.reset(),u=d3.select(this);var A=t.utils.availableWidth(s,u,a),w=t.utils.availableHeight(l,u,a);t.utils.initSVG(u),d.domain(n||d3.extent(e[0].values.map(m).concat(p))),h?d.range(o||[.5*A/e[0].values.length,A*(e[0].values.length-.5)/e[0].values.length]):d.range(o||[0,A]),f.domain(r||d3.extent(e[0].values.map(g).concat(v))).range(i||[w,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var I=u.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([e[0].values]),C=I.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),x=C.append("defs"),T=C.append("g"),O=I.select("g");T.append("g").attr("class","nv-bars"),I.attr("transform","translate("+a.left+","+a.top+")"),u.on("click",function(e,t){S.chartClick({data:e,index:t,pos:d3.event,id:c})}),x.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),I.select("#nv-chart-clip-path-"+c+" rect").attr("width",A).attr("height",w),O.attr("clip-path",y?"url(#nv-chart-clip-path-"+c+")":"");var M=I.select(".nv-bars").selectAll(".nv-bar").data(function(e){return e},function(e,t){return m(e,t)});M.exit().remove(),M.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(f(Math.max(0,g(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(f(g(e,n))-f(0)))}).attr("transform",function(t,n){return"translate("+(d(m(t,n))-A/e[0].values.length*.45)+",0)"}).on("mouseover",function(e,t){E&&(d3.select(this).classed("hover",!0),S.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")}))}).on("mouseout",function(e,t){E&&(d3.select(this).classed("hover",!1),S.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")}))}).on("mousemove",function(e,t){E&&S.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){E&&(S.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}).on("dblclick",function(e,t){E&&(S.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),M.attr("fill",function(e,t){return b(e,t)}).attr("class",function(e,t,n){return(g(e,t)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+t}).watchTransition(_,"bars").attr("transform",function(t,n){return"translate("+(d(m(t,n))-A/e[0].values.length*.45)+",0)"}).attr("width",A/e[0].values.length*.9),M.watchTransition(_,"bars").attr("y",function(e,n){var r=g(e,n)<0?f(0):f(0)-f(g(e,n))<1?f(0)-1:f(g(e,n));return t.utils.NaNtoZero(r)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(f(g(e,n))-f(0)),1))})}),_.renderEnd("historicalBar immediate"),e}var n,r,o,i,a={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=null,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},g=function(e){return e.y},p=[],v=[0],h=!1,y=!0,b=t.utils.defaultColor(),S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=!0,_=t.utils.renderWatch(S,0);return e.highlightPoint=function(e,t){u.select(".nv-bars .nv-bar-0-"+e).classed("hover",t)},e.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=S,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return l},set:function(e){l=e}},forceX:{get:function(){return p},set:function(e){p=e}},forceY:{get:function(){return v},set:function(e){v=e}},padData:{get:function(){return h},set:function(e){h=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return g},set:function(e){g=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return i},set:function(e){i=e}},clipEdge:{get:function(){return y},set:function(e){y=e}},id:{get:function(){return c},set:function(e){c=e}},interactive:{get:function(){return E},set:function(e){E=e}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return b},set:function(e){b=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.historicalBarChart=function(e){"use strict";function n(e){return e.each(function(u){I.reset(),I.models(i),v&&I.models(a),h&&I.models(s);var _=d3.select(this),C=this;t.utils.initSVG(_);var x=t.utils.availableWidth(m,_,d),T=t.utils.availableHeight(g,_,d);if(n.update=function(){_.transition().duration(w).call(n)},n.container=this,S.disabled=u.map(function(e){return!!e.disabled}),!E){var O;E={};for(O in S)S[O]instanceof Array?E[O]=S[O].slice(0):E[O]=S[O]}if(!(u&&u.length&&u.filter(function(e){return e.values.length}).length))return t.utils.noData(n,_),n;_.selectAll(".nv-noData").remove(),r=i.xScale(),o=i.yScale();var M=_.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),D=M.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),N=M.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-interactive"),p&&(l.width(x),N.select(".nv-legendWrap").datum(u).call(l),d.top!=l.height()&&(d.top=l.height(),T=t.utils.availableHeight(g,_,d)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")),M.attr("transform","translate("+d.left+","+d.top+")"),y&&N.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),b&&(c.width(x).height(T).margin({left:d.left,top:d.top}).svgContainer(_).xScale(r),M.select(".nv-interactive").call(c)),i.width(x).height(T).color(u.map(function(e,t){return e.color||f(e,t)}).filter(function(e,t){return!u[t].disabled}));var R=N.select(".nv-barsWrap").datum(u.filter(function(e){return!e.disabled}));R.transition().call(i),v&&(a.scale(r)._ticks(t.utils.calcTicksX(x/100,u)).tickSize(-T,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),N.select(".nv-x.nv-axis").transition().call(a)),h&&(s.scale(o)._ticks(t.utils.calcTicksY(T/36,u)).tickSize(-x,0),N.select(".nv-y.nv-axis").transition().call(s)),c.dispatch.on("elementMousemove",function(e){i.clearHighlights();var r,o,l,m=[];u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(a,s){o=t.interactiveBisect(a.values,e.pointXValue,n.x()),i.highlightPoint(o,!0);var c=a.values[o];void 0!==c&&(void 0===r&&(r=c),void 0===l&&(l=n.xScale()(n.x()(c,o))),m.push({key:a.key,value:n.y()(c,o),color:f(a,a.seriesIndex),data:a.values[o]}))});var g=a.tickFormat()(n.x()(r,o));c.tooltip.position({left:l+d.left,top:e.mouseY+d.top}).chartContainer(C.parentNode).valueFormatter(function(e,t){return s.tickFormat()(e)}).data({value:g,index:o,series:m})(),c.renderGuideLine(l)}),c.dispatch.on("elementMouseout",function(e){A.tooltipHide(),i.clearHighlights()}),l.dispatch.on("legendClick",function(t,r){t.disabled=!t.disabled,u.filter(function(e){return!e.disabled}).length||u.map(function(e){return e.disabled=!1,M.selectAll(".nv-series").classed("disabled",!1),e}),S.disabled=u.map(function(e){return!!e.disabled}),A.stateChange(S),e.transition().call(n)}),l.dispatch.on("legendDblclick",function(e){u.forEach(function(e){e.disabled=!0}),e.disabled=!1,S.disabled=u.map(function(e){return!!e.disabled}),A.stateChange(S),n.update()}),A.on("changeState",function(e){"undefined"!=typeof e.disabled&&(u.forEach(function(t,n){t.disabled=e.disabled[n]}),S.disabled=e.disabled),n.update()})}),I.renderEnd("historicalBarChart immediate"),n}var r,o,i=e||t.models.historicalBar(),a=t.models.axis(),s=t.models.axis(),l=t.models.legend(),c=t.interactiveGuideline(),u=t.models.tooltip(),d={top:30,right:90,bottom:50,left:90},f=t.utils.defaultColor(),m=null,g=null,p=!1,v=!0,h=!0,y=!1,b=!1,S={},E=null,_=null,A=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),w=250;a.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),u.duration(0).headerEnabled(!1).valueFormatter(function(e,t){return s.tickFormat()(e,t)}).headerFormatter(function(e,t){return a.tickFormat()(e,t)});var I=t.utils.renderWatch(A,0);return i.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:n.x()(e.data),value:n.y()(e.data),color:e.color},u.data(e).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(e){u.position({top:d3.event.pageY,left:d3.event.pageX})()}),n.dispatch=A,n.bars=i,n.legend=l,n.xAxis=a,n.yAxis=s,n.interactiveLayer=c,n.tooltip=u,n.options=t.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return m},set:function(e){m=e}},height:{get:function(){return g},set:function(e){g=e}},showLegend:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return v},set:function(e){v=e}},showYAxis:{get:function(){return h},set:function(e){h=e}},defaultState:{get:function(){return E},set:function(e){E=e}},noData:{get:function(){return _},set:function(e){_=e}},tooltips:{get:function(){return u.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!e)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(e)}},margin:{get:function(){return d},set:function(e){d.top=void 0!==e.top?e.top:d.top,d.right=void 0!==e.right?e.right:d.right,d.bottom=void 0!==e.bottom?e.bottom:d.bottom,d.left=void 0!==e.left?e.left:d.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),l.color(f),i.color(f)}},duration:{get:function(){return w},set:function(e){w=e,I.reset(w),s.duration(w),a.duration(w)}},rightAlignYAxis:{get:function(){return y},set:function(e){y=e,s.orient(e?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(e){b=e,e===!0&&n.interactive(!1)}}}),t.utils.inheritOptions(n,i),t.utils.initOptions(n),n},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.candlestickBarChart=function(){var e=t.models.historicalBarChart(t.models.candlestickBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data,r=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+r+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";function e(p){function v(e,t){return"furious"!=g?"#000":f?e.disengaged?"#000":"#fff":f?void 0:(e.color||(e.color=a(e,t)),e.disabled?e.color:"#fff")}function h(e,t){return f&&"furious"==g&&e.disengaged?"#eee":e.color||a(e,t)}function y(e,t){return f&&"furious"==g?1:e.disabled?0:1}return p.each(function(e){var a=r-n.left-n.right,p=d3.select(this);t.utils.initSVG(p);var b=p.selectAll("g.nv-legend").data([e]),S=b.enter().append("g").attr("class","nvd3 nv-legend").append("g"),E=b.select("g");b.attr("transform","translate("+n.left+","+n.top+")");var _,A,w=E.selectAll(".nv-series").data(function(e){return"furious"!=g?e:e.filter(function(e){return!!f||!e.disengaged})}),I=w.enter().append("g").attr("class","nv-series");switch(g){case"furious":A=23;break;case"classic":A=20}if("classic"==g)I.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),_=w.select("circle");else if("furious"==g){I.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),_=w.select(".nv-legend-symbol"),I.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var C=w.select(".nv-check-box");C.each(function(e,t){d3.select(this).selectAll("path").attr("stroke",v(e,t))})}I.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var x=w.select("text.nv-legend-text");w.on("mouseover",function(e,t){m.legendMouseover(e,t)}).on("mouseout",function(e,t){m.legendMouseout(e,t)}).on("click",function(e,t){m.legendClick(e,t);var n=w.data();if(u){if("classic"==g)d?(n.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,n.every(function(e){return e.disabled})&&n.forEach(function(e){e.disabled=!1}));else if("furious"==g)if(f)e.disengaged=!e.disengaged,e.userDisabled=void 0==e.userDisabled?!!e.disabled:e.userDisabled,e.disabled=e.disengaged||e.userDisabled;else if(!f){e.disabled=!e.disabled,e.userDisabled=e.disabled;var r=n.filter(function(e){return!e.disengaged});r.every(function(e){return e.userDisabled})&&n.forEach(function(e){e.disabled=e.userDisabled=!1})}m.stateChange({disabled:n.map(function(e){return!!e.disabled}),disengaged:n.map(function(e){return!!e.disengaged})})}}).on("dblclick",function(e,t){if(("furious"!=g||!f)&&(m.legendDblclick(e,t),u)){var n=w.data();n.forEach(function(e){e.disabled=!0,"furious"==g&&(e.userDisabled=e.disabled)}),e.disabled=!1,"furious"==g&&(e.userDisabled=e.disabled),m.stateChange({disabled:n.map(function(e){return!!e.disabled})})}}),w.classed("nv-disabled",function(e){return e.userDisabled}),w.exit().remove(),x.attr("fill",v).text(i);var T=0;if(s){var O=[];w.each(function(e,n){var r,o=d3.select(this).select("text");try{if(r=o.node().getComputedTextLength(),r<=0)throw Error()}catch(e){r=t.utils.calcApproxTextWidth(o)}O.push(r+l)});var M=0,D=[];for(T=0;T<a&&M<O.length;)D[M]=O[M],T+=O[M++];for(0===M&&(M=1);T>a&&M>1;){D=[],M--;for(var N=0;N<O.length;N++)O[N]>(D[N%M]||0)&&(D[N%M]=O[N]);T=D.reduce(function(e,t,n,r){return e+t})}for(var R=[],P=0,k=0;P<M;P++)R[P]=k,k+=D[P];w.attr("transform",function(e,t){return"translate("+R[t%M]+","+(5+Math.floor(t/M)*A)+")"}),c?E.attr("transform","translate("+(r-n.right-T)+","+n.top+")"):E.attr("transform","translate(0,"+n.top+")"),o=n.top+n.bottom+Math.ceil(O.length/M)*A}else{var L,G=5,F=5,U=0;w.attr("transform",function(e,t){var o=d3.select(this).select("text").node().getComputedTextLength()+l;return L=F,r<n.left+n.right+L+o&&(F=L=5,G+=A),F+=o,F>U&&(U=F),T<L+U&&(T=L+U),"translate("+L+","+G+")"}),E.attr("transform","translate("+(r-n.right-U)+","+n.top+")"),o=n.top+n.bottom+G+15}if("furious"==g){_.attr("width",function(e,t){return x[0][t].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),S.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var V=E.select(".nv-legend-bg");V.transition().duration(300).attr("x",-A).attr("width",T+A-12).attr("height",o+10).attr("y",-n.top-10).attr("opacity",f?1:0)}_.style("fill",h).style("fill-opacity",y).style("stroke",h)}),e}var n={top:5,right:0,bottom:5,left:0},r=400,o=20,i=function(e){return e.key},a=t.utils.getColor(),s=!0,l=32,c=!0,u=!0,d=!1,f=!1,m=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";return e.dispatch=m,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return o},set:function(e){o=e}},key:{get:function(){return i},set:function(e){i=e}},align:{get:function(){return s},set:function(e){s=e}},rightAlign:{get:function(){return c},set:function(e){c=e}},padding:{get:function(){return l},set:function(e){l=e}},updateState:{get:function(){return u},set:function(e){u=e}},radioButtonMode:{get:function(){return d},set:function(e){d=e}},expanded:{get:function(){return f},set:function(e){f=e}},vers:{get:function(){return g},set:function(e){g=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.line=function(){"use strict";function e(h){return E.reset(),E.models(o),h.each(function(e){l=d3.select(this);var h=t.utils.availableWidth(a,l,i),y=t.utils.availableHeight(s,l,i);t.utils.initSVG(l),n=o.xScale(),r=o.yScale(),b=b||n,S=S||r;var _=l.selectAll("g.nv-wrap.nv-line").data([e]),A=_.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),w=A.append("defs"),I=A.append("g"),C=_.select("g");I.append("g").attr("class","nv-groups"),I.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+i.left+","+i.top+")"),o.width(h).height(y);var x=_.select(".nv-scatterWrap");x.call(o),w.append("clipPath").attr("id","nv-edge-clip-"+o.id()).append("rect"),_.select("#nv-edge-clip-"+o.id()+" rect").attr("width",h).attr("height",y>0?y:0),C.attr("clip-path",p?"url(#nv-edge-clip-"+o.id()+")":""),x.attr("clip-path",p?"url(#nv-edge-clip-"+o.id()+")":"");var T=_.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});T.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(e){return e.strokeWidth||c}).style("fill-opacity",1e-6),T.exit().remove(),T.attr("class",function(e,t){return(e.classed||"")+" nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return u(e,t)}).style("stroke",function(e,t){return u(e,t)}),T.watchTransition(E,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(e){
return e.fillOpacity||.5});var O=T.selectAll("path.nv-area").data(function(e){return g(e)?[e]:[]});O.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.svg.area().interpolate(v).defined(m).x(function(e,n){return t.utils.NaNtoZero(b(d(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(S(f(e,n)))}).y1(function(e,t){return S(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])}),T.exit().selectAll("path.nv-area").remove(),O.watchTransition(E,"line: areaPaths").attr("d",function(e){return d3.svg.area().interpolate(v).defined(m).x(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))}).y0(function(e,n){return t.utils.NaNtoZero(r(f(e,n)))}).y1(function(e,t){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[e.values])});var M=T.selectAll("path.nv-line").data(function(e){return[e.values]});M.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(v).defined(m).x(function(e,n){return t.utils.NaNtoZero(b(d(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(S(f(e,n)))})),M.watchTransition(E,"line: linePaths").attr("d",d3.svg.line().interpolate(v).defined(m).x(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))}).y(function(e,n){return t.utils.NaNtoZero(r(f(e,n)))})),b=n.copy(),S=r.copy()}),E.renderEnd("line immediate"),e}var n,r,o=t.models.scatter(),i={top:0,right:0,bottom:0,left:0},a=960,s=500,l=null,c=1.5,u=t.utils.defaultColor(),d=function(e){return e.x},f=function(e){return e.y},m=function(e,t){return!isNaN(f(e,t))&&null!==f(e,t)},g=function(e){return e.area},p=!1,v="linear",h=250,y=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");o.pointSize(16).pointDomain([16,256]);var b,S,E=t.utils.renderWatch(y,h);return e.dispatch=y,e.scatter=o,o.dispatch.on("elementClick",function(){y.elementClick.apply(this,arguments)}),o.dispatch.on("elementMouseover",function(){y.elementMouseover.apply(this,arguments)}),o.dispatch.on("elementMouseout",function(){y.elementMouseout.apply(this,arguments)}),e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return s},set:function(e){s=e}},defined:{get:function(){return m},set:function(e){m=e}},interpolate:{get:function(){return v},set:function(e){v=e}},clipEdge:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}},duration:{get:function(){return h},set:function(e){h=e,E.reset(h),o.duration(h)}},isArea:{get:function(){return g},set:function(e){g=d3.functor(e)}},x:{get:function(){return d},set:function(e){d=e,o.x(e)}},y:{get:function(){return f},set:function(e){f=e,o.y(e)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),o.color(u)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.lineChart=function(){"use strict";function e(c){return w.reset(),w.models(o),p&&w.models(i),v&&w.models(a),c.each(function(c){var E=d3.select(this),w=this;t.utils.initSVG(E);var x=t.utils.availableWidth(f,E,u),T=t.utils.availableHeight(m,E,u);if(e.update=function(){0===A?E.call(e):E.transition().duration(A).call(e)},e.container=this,b.setter(C(c),e.update).getter(I(c)).update(),b.disabled=c.map(function(e){return!!e.disabled}),!S){var O;S={};for(O in b)b[O]instanceof Array?S[O]=b[O].slice(0):S[O]=b[O]}if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,E),e;E.selectAll(".nv-noData").remove(),n=o.xScale(),r=o.yScale();var M=E.selectAll("g.nv-wrap.nv-lineChart").data([c]),D=M.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),N=M.select("g");D.append("rect").style("opacity",0),D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-linesWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-interactive"),N.select("rect").attr("width",x).attr("height",T>0?T:0),g&&(s.width(x),N.select(".nv-legendWrap").datum(c).call(s),u.top!=s.height()&&(u.top=s.height(),T=t.utils.availableHeight(m,E,u)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),M.attr("transform","translate("+u.left+","+u.top+")"),h&&N.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),y&&(l.width(x).height(T).margin({left:u.left,top:u.top}).svgContainer(E).xScale(n),M.select(".nv-interactive").call(l)),o.width(x).height(T).color(c.map(function(e,t){return e.color||d(e,t)}).filter(function(e,t){return!c[t].disabled}));var R=N.select(".nv-linesWrap").datum(c.filter(function(e){return!e.disabled}));R.call(o),p&&(i.scale(n)._ticks(t.utils.calcTicksX(x/100,c)).tickSize(-T,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),N.select(".nv-x.nv-axis").call(i)),v&&(a.scale(r)._ticks(t.utils.calcTicksY(T/36,c)).tickSize(-x,0),N.select(".nv-y.nv-axis").call(a)),s.dispatch.on("stateChange",function(t){for(var n in t)b[n]=t[n];_.stateChange(b),e.update()}),l.dispatch.on("elementMousemove",function(n){o.clearHighlights();var r,s,f,m=[];if(c.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(i,a){s=t.interactiveBisect(i.values,n.pointXValue,e.x());var l=i.values[s],c=e.y()(l,s);null!=c&&o.highlightPoint(a,s,!0),void 0!==l&&(void 0===r&&(r=l),void 0===f&&(f=e.xScale()(e.x()(l,s))),m.push({key:i.key,value:c,color:d(i,i.seriesIndex)}))}),m.length>2){var g=e.yScale().invert(n.mouseY),p=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),v=.03*p,h=t.nearestValueIndex(m.map(function(e){return e.value}),g,v);null!==h&&(m[h].highlight=!0)}var y=i.tickFormat()(e.x()(r,s));l.tooltip.position({left:n.mouseX+u.left,top:n.mouseY+u.top}).chartContainer(w.parentNode).valueFormatter(function(e,t){return null==e?"N/A":a.tickFormat()(e)}).data({value:y,index:s,series:m})(),l.renderGuideLine(f)}),l.dispatch.on("elementClick",function(n){var r,i=[];c.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(o){var a=t.interactiveBisect(o.values,n.pointXValue,e.x()),s=o.values[a];if("undefined"!=typeof s){"undefined"==typeof r&&(r=e.xScale()(e.x()(s,a)));var l=e.yScale()(e.y()(s,a));i.push({point:s,pointIndex:a,pos:[r,l],seriesIndex:o.seriesIndex,series:o})}}),o.dispatch.elementClick(i)}),l.dispatch.on("elementMouseout",function(e){o.clearHighlights()}),_.on("changeState",function(t){"undefined"!=typeof t.disabled&&c.length===t.disabled.length&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),b.disabled=t.disabled),e.update()})}),w.renderEnd("lineChart immediate"),e}var n,r,o=t.models.line(),i=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.interactiveGuideline(),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=t.utils.defaultColor(),f=null,m=null,g=!0,p=!0,v=!0,h=!1,y=!1,b=t.utils.state(),S=null,E=null,_=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A=250;i.orient("bottom").tickPadding(7),a.orient(h?"right":"left"),c.valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return i.tickFormat()(e,t)});var w=t.utils.renderWatch(_,A),I=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},C=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return o.dispatch.on("elementMouseover.tooltip",function(e){c.data(e).position(e.pos).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){c.hidden(!0)}),e.dispatch=_,e.lines=o,e.legend=s,e.xAxis=i,e.yAxis=a,e.interactiveLayer=l,e.tooltip=c,e.dispatch=_,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return g},set:function(e){g=e}},showXAxis:{get:function(){return p},set:function(e){p=e}},showYAxis:{get:function(){return v},set:function(e){v=e}},defaultState:{get:function(){return S},set:function(e){S=e}},noData:{get:function(){return E},set:function(e){E=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return A},set:function(e){A=e,w.reset(A),o.duration(A),i.duration(A),a.duration(A)}},color:{get:function(){return d},set:function(e){d=t.utils.getColor(e),s.color(d),o.color(d)}},rightAlignYAxis:{get:function(){return h},set:function(e){h=e,a.orient(h?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(e){y=e,y&&(o.interactive(!1),o.useVoronoi(!1))}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.linePlusBarChart=function(){"use strict";function e(E){return E.each(function(E){function k(e){var t=+("e"==e),n=t?1:-1,r=K/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function H(){S.empty()||S.extent(P),ue.data([S.empty()?o.domain():P]).each(function(e,t){var n=o(e[0])-o.range()[0],r=o.range()[1]-o(e[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",o(e[1])).attr("width",r<0?0:r)})}function W(){P=S.empty()?null:S.extent(),n=S.empty()?o.domain():S.extent(),L.brush({extent:n,brush:S}),H(),d.width(q).height(Y).color(E.map(function(e,t){return e.color||T(e,t)}).filter(function(e,t){return!E[t].disabled&&E[t].bar})),c.width(q).height(Y).color(E.map(function(e,t){return e.color||T(e,t)}).filter(function(e,t){return!E[t].disabled&&!E[t].bar}));var e=re.select(".nv-focus .nv-barsWrap").datum(X.length?X.map(function(e,t){return{key:e.key,values:e.values.filter(function(e,t){return d.x()(e,t)>=n[0]&&d.x()(e,t)<=n[1]})}}):[{values:[]}]),s=re.select(".nv-focus .nv-linesWrap").datum(J[0].disabled?[{values:[]}]:J.map(function(e,t){return{area:e.area,fillOpacity:e.fillOpacity,key:e.key,values:e.values.filter(function(e,t){return c.x()(e,t)>=n[0]&&c.x()(e,t)<=n[1]})}}));r=X.length?d.xScale():c.xScale(),m.scale(r)._ticks(t.utils.calcTicksX(q/100,E)).tickSize(-Y,0),m.domain([Math.ceil(n[0]),Math.floor(n[1])]),re.select(".nv-x.nv-axis").transition().duration(G).call(m),e.transition().duration(G).call(d),s.transition().duration(G).call(c),re.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),p.scale(i)._ticks(t.utils.calcTicksY(Y/36,E)).tickSize(-q,0),v.scale(a)._ticks(t.utils.calcTicksY(Y/36,E)).tickSize(X.length?0:-q,0),re.select(".nv-focus .nv-y1.nv-axis").style("opacity",X.length?1:0),re.select(".nv-focus .nv-y2.nv-axis").style("opacity",J.length&&!J[0].disabled?1:0).attr("transform","translate("+r.range()[1]+",0)"),re.select(".nv-focus .nv-y1.nv-axis").transition().duration(G).call(p),re.select(".nv-focus .nv-y2.nv-axis").transition().duration(G).call(v)}var j=d3.select(this);t.utils.initSVG(j);var q=t.utils.availableWidth(w,j,_),Y=t.utils.availableHeight(I,j,_)-(M?R:0),K=R-A.top-A.bottom;if(e.update=function(){j.transition().duration(G).call(e)},e.container=this,F.setter($(E),e.update).getter(B(E)).update(),F.disabled=E.map(function(e){return!!e.disabled}),!U){var Z;U={};for(Z in F)F[Z]instanceof Array?U[Z]=F[Z].slice(0):U[Z]=F[Z]}if(!(E&&E.length&&E.filter(function(e){return e.values.length}).length))return t.utils.noData(e,j),e;j.selectAll(".nv-noData").remove();var X=E.filter(function(e){return!e.disabled&&e.bar}),J=E.filter(function(e){return!e.bar});r=d.xScale(),o=g.scale(),i=d.yScale(),a=c.yScale(),s=f.yScale(),l=u.yScale();var Q=E.filter(function(e){return!e.disabled&&e.bar}).map(function(e){return e.values.map(function(e,t){return{x:C(e,t),y:x(e,t)}})}),ee=E.filter(function(e){return!e.disabled&&!e.bar}).map(function(e){return e.values.map(function(e,t){return{x:C(e,t),y:x(e,t)}})});r.range([0,q]),o.domain(d3.extent(d3.merge(Q.concat(ee)),function(e){return e.x})).range([0,q]);var te=j.selectAll("g.nv-wrap.nv-linePlusBar").data([E]),ne=te.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),re=te.select("g");ne.append("g").attr("class","nv-legendWrap");var oe=ne.append("g").attr("class","nv-focus");oe.append("g").attr("class","nv-x nv-axis"),oe.append("g").attr("class","nv-y1 nv-axis"),oe.append("g").attr("class","nv-y2 nv-axis"),oe.append("g").attr("class","nv-barsWrap"),oe.append("g").attr("class","nv-linesWrap");var ie=ne.append("g").attr("class","nv-context");if(ie.append("g").attr("class","nv-x nv-axis"),ie.append("g").attr("class","nv-y1 nv-axis"),ie.append("g").attr("class","nv-y2 nv-axis"),ie.append("g").attr("class","nv-barsWrap"),ie.append("g").attr("class","nv-linesWrap"),ie.append("g").attr("class","nv-brushBackground"),ie.append("g").attr("class","nv-x nv-brush"),O){var ae=b.align()?q/2:q,se=b.align()?ae:0;b.width(ae),re.select(".nv-legendWrap").datum(E.map(function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=e.originalKey+(e.bar?V:z),e})).call(b),_.top!=b.height()&&(_.top=b.height(),Y=t.utils.availableHeight(I,j,_)-R),re.select(".nv-legendWrap").attr("transform","translate("+se+","+-_.top+")")}te.attr("transform","translate("+_.left+","+_.top+")"),re.select(".nv-context").style("display",M?"initial":"none"),f.width(q).height(K).color(E.map(function(e,t){return e.color||T(e,t)}).filter(function(e,t){return!E[t].disabled&&E[t].bar})),u.width(q).height(K).color(E.map(function(e,t){return e.color||T(e,t)}).filter(function(e,t){return!E[t].disabled&&!E[t].bar}));var le=re.select(".nv-context .nv-barsWrap").datum(X.length?X:[{values:[]}]),ce=re.select(".nv-context .nv-linesWrap").datum(J[0].disabled?[{values:[]}]:J);re.select(".nv-context").attr("transform","translate(0,"+(Y+_.bottom+A.top)+")"),le.transition().call(f),ce.transition().call(u),N&&(g._ticks(t.utils.calcTicksX(q/100,E)).tickSize(-K,0),re.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),re.select(".nv-context .nv-x.nv-axis").transition().call(g)),D&&(h.scale(s)._ticks(K/36).tickSize(-q,0),y.scale(l)._ticks(K/36).tickSize(X.length?0:-q,0),re.select(".nv-context .nv-y3.nv-axis").style("opacity",X.length?1:0).attr("transform","translate(0,"+o.range()[0]+")"),re.select(".nv-context .nv-y2.nv-axis").style("opacity",J.length?1:0).attr("transform","translate("+o.range()[1]+",0)"),re.select(".nv-context .nv-y1.nv-axis").transition().call(h),re.select(".nv-context .nv-y2.nv-axis").transition().call(y)),S.x(o).on("brush",W),P&&S.extent(P);var ue=re.select(".nv-brushBackground").selectAll("g").data([P||S.extent()]),de=ue.enter().append("g");de.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",K),de.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",K);var fe=re.select(".nv-x.nv-brush").call(S);fe.selectAll("rect").attr("height",K),fe.selectAll(".resize").append("path").attr("d",k),b.dispatch.on("stateChange",function(t){for(var n in t)F[n]=t[n];L.stateChange(F),e.update()}),L.on("changeState",function(t){"undefined"!=typeof t.disabled&&(E.forEach(function(e,n){e.disabled=t.disabled[n]}),F.disabled=t.disabled),e.update()}),W()}),e}var n,r,o,i,a,s,l,c=t.models.line(),u=t.models.line(),d=t.models.historicalBar(),f=t.models.historicalBar(),m=t.models.axis(),g=t.models.axis(),p=t.models.axis(),v=t.models.axis(),h=t.models.axis(),y=t.models.axis(),b=t.models.legend(),S=d3.svg.brush(),E=t.models.tooltip(),_={top:30,right:30,bottom:30,left:60},A={top:0,right:30,bottom:20,left:60},w=null,I=null,C=function(e){return e.x},x=function(e){return e.y},T=t.utils.defaultColor(),O=!0,M=!0,D=!1,N=!0,R=50,P=null,k=null,L=d3.dispatch("brush","stateChange","changeState"),G=0,F=t.utils.state(),U=null,V=" (left axis)",z=" (right axis)";c.clipEdge(!0),u.interactive(!1),m.orient("bottom").tickPadding(5),p.orient("left"),v.orient("right"),g.orient("bottom").tickPadding(5),h.orient("left"),y.orient("right"),E.headerEnabled(!0).headerFormatter(function(e,t){return m.tickFormat()(e,t)});var B=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},$=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return c.dispatch.on("elementMouseover.tooltip",function(e){E.duration(100).valueFormatter(function(e,t){return v.tickFormat()(e,t)}).data(e).position(e.pos).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(e){E.hidden(!0)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={value:e.y()(t.data),color:t.color},E.duration(0).valueFormatter(function(e,t){return p.tickFormat()(e,t)}).data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(e){E.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(e){E.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=L,e.legend=b,e.lines=c,e.lines2=u,e.bars=d,e.bars2=f,e.xAxis=m,e.x2Axis=g,e.y1Axis=p,e.y2Axis=v,e.y3Axis=h,e.y4Axis=y,e.tooltip=E,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return w},set:function(e){w=e}},height:{get:function(){return I},set:function(e){I=e}},showLegend:{get:function(){return O},set:function(e){O=e}},brushExtent:{get:function(){return P},set:function(e){P=e}},noData:{get:function(){return k},set:function(e){k=e}},focusEnable:{get:function(){return M},set:function(e){M=e}},focusHeight:{get:function(){return R},set:function(e){R=e}},focusShowAxisX:{get:function(){return N},set:function(e){N=e}},focusShowAxisY:{get:function(){return D},set:function(e){D=e}},legendLeftAxisHint:{get:function(){return V},set:function(e){V=e}},legendRightAxisHint:{get:function(){return z},set:function(e){z=e}},tooltips:{get:function(){return E.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),E.enabled(!!e)}},tooltipContent:{get:function(){return E.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),E.contentGenerator(e)}},margin:{get:function(){return _},set:function(e){_.top=void 0!==e.top?e.top:_.top,_.right=void 0!==e.right?e.right:_.right,_.bottom=void 0!==e.bottom?e.bottom:_.bottom,_.left=void 0!==e.left?e.left:_.left}},duration:{get:function(){return G},set:function(e){G=e}},color:{get:function(){return T},set:function(e){T=t.utils.getColor(e),b.color(T)}},x:{get:function(){return C},set:function(e){C=e,c.x(e),u.x(e),d.x(e),f.x(e)}},y:{get:function(){return x},set:function(e){x=e,c.y(e),u.y(e),d.y(e),f.y(e)}}}),t.utils.inheritOptions(e,c),t.utils.initOptions(e),e},t.models.lineWithFocusChart=function(){"use strict";function e(g){return g.each(function(g){function I(e){var t=+("e"==e),n=t?1:-1,r=F/3;return"M"+.5*n+","+r+"A6,6 0 0 "+t+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function N(){m.empty()||m.extent(w),j.data([m.empty()?o.domain():w]).each(function(e,t){var r=o(e[0])-n.range()[0],i=L-o(e[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",o(e[1])).attr("width",i<0?0:i)})}function R(){w=m.empty()?null:m.extent();var e=m.empty()?o.domain():m.extent();if(!(Math.abs(e[0]-e[1])<=1)){C.brush({extent:e,brush:m}),N();var t=B.select(".nv-focus .nv-linesWrap").datum(g.filter(function(e){return!e.disabled}).map(function(t,n){return{key:t.key,area:t.area,values:t.values.filter(function(t,n){return a.x()(t,n)>=e[0]&&a.x()(t,n)<=e[1]})}}));t.transition().duration(x).call(a),B.select(".nv-focus .nv-x.nv-axis").transition().duration(x).call(l),B.select(".nv-focus .nv-y.nv-axis").transition().duration(x).call(c)}}var P=d3.select(this),k=this;t.utils.initSVG(P);var L=t.utils.availableWidth(b,P,v),G=t.utils.availableHeight(S,P,v)-E,F=E-h.top-h.bottom;if(e.update=function(){P.transition().duration(x).call(e)},e.container=this,T.setter(D(g),e.update).getter(M(g)).update(),T.disabled=g.map(function(e){return!!e.disabled}),!O){var U;O={};for(U in T)T[U]instanceof Array?O[U]=T[U].slice(0):O[U]=T[U]}if(!(g&&g.length&&g.filter(function(e){return e.values.length}).length))return t.utils.noData(e,P),e;P.selectAll(".nv-noData").remove(),n=a.xScale(),r=a.yScale(),o=s.xScale(),i=s.yScale();var V=P.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([g]),z=V.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),B=V.select("g");z.append("g").attr("class","nv-legendWrap");var $=z.append("g").attr("class","nv-focus");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y nv-axis"),$.append("g").attr("class","nv-linesWrap"),$.append("g").attr("class","nv-interactive");var H=z.append("g").attr("class","nv-context");H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-linesWrap"),H.append("g").attr("class","nv-brushBackground"),H.append("g").attr("class","nv-x nv-brush"),A&&(f.width(L),B.select(".nv-legendWrap").datum(g).call(f),v.top!=f.height()&&(v.top=f.height(),G=t.utils.availableHeight(S,P,v)-E),B.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")),V.attr("transform","translate("+v.left+","+v.top+")"),_&&(p.width(L).height(G).margin({left:v.left,top:v.top}).svgContainer(P).xScale(n),V.select(".nv-interactive").call(p)),a.width(L).height(G).color(g.map(function(e,t){return e.color||y(e,t)}).filter(function(e,t){return!g[t].disabled})),s.defined(a.defined()).width(L).height(F).color(g.map(function(e,t){return e.color||y(e,t)}).filter(function(e,t){return!g[t].disabled})),B.select(".nv-context").attr("transform","translate(0,"+(G+v.bottom+h.top)+")");var W=B.select(".nv-context .nv-linesWrap").datum(g.filter(function(e){return!e.disabled}));d3.transition(W).call(s),l.scale(n)._ticks(t.utils.calcTicksX(L/100,g)).tickSize(-G,0),c.scale(r)._ticks(t.utils.calcTicksY(G/36,g)).tickSize(-L,0),B.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+G+")"),m.x(o).on("brush",function(){R()}),w&&m.extent(w);var j=B.select(".nv-brushBackground").selectAll("g").data([w||m.extent()]),q=j.enter().append("g");q.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",F),q.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",F);var Y=B.select(".nv-x.nv-brush").call(m);Y.selectAll("rect").attr("height",F),Y.selectAll(".resize").append("path").attr("d",I),R(),u.scale(o)._ticks(t.utils.calcTicksX(L/100,g)).tickSize(-F,0),B.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),d3.transition(B.select(".nv-context .nv-x.nv-axis")).call(u),d.scale(i)._ticks(t.utils.calcTicksY(F/36,g)).tickSize(-L,0),d3.transition(B.select(".nv-context .nv-y.nv-axis")).call(d),B.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),f.dispatch.on("stateChange",function(t){for(var n in t)T[n]=t[n];C.stateChange(T),e.update()}),p.dispatch.on("elementMousemove",function(n){a.clearHighlights();var r,i,s,u=[];if(g.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(l,c){var d=m.empty()?o.domain():m.extent(),f=l.values.filter(function(e,t){return a.x()(e,t)>=d[0]&&a.x()(e,t)<=d[1]});i=t.interactiveBisect(f,n.pointXValue,a.x());var g=f[i],p=e.y()(g,i);null!=p&&a.highlightPoint(c,i,!0),void 0!==g&&(void 0===r&&(r=g),void 0===s&&(s=e.xScale()(e.x()(g,i))),u.push({key:l.key,value:e.y()(g,i),color:y(l,l.seriesIndex)}))}),u.length>2){var d=e.yScale().invert(n.mouseY),f=Math.abs(e.yScale().domain()[0]-e.yScale().domain()[1]),h=.03*f,b=t.nearestValueIndex(u.map(function(e){return e.value}),d,h);null!==b&&(u[b].highlight=!0)}var S=l.tickFormat()(e.x()(r,i));p.tooltip.position({left:n.mouseX+v.left,top:n.mouseY+v.top}).chartContainer(k.parentNode).valueFormatter(function(e,t){return null==e?"N/A":c.tickFormat()(e)}).data({value:S,index:i,series:u})(),p.renderGuideLine(s)}),p.dispatch.on("elementMouseout",function(e){a.clearHighlights()}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&g.forEach(function(e,n){e.disabled=t.disabled[n]}),e.update()})}),e}var n,r,o,i,a=t.models.line(),s=t.models.line(),l=t.models.axis(),c=t.models.axis(),u=t.models.axis(),d=t.models.axis(),f=t.models.legend(),m=d3.svg.brush(),g=t.models.tooltip(),p=t.interactiveGuideline(),v={top:30,right:30,bottom:30,left:60},h={top:0,right:30,bottom:20,left:60},y=t.utils.defaultColor(),b=null,S=null,E=50,_=!1,A=!0,w=null,I=null,C=d3.dispatch("brush","stateChange","changeState"),x=250,T=t.utils.state(),O=null;a.clipEdge(!0).duration(0),s.interactive(!1),l.orient("bottom").tickPadding(5),c.orient("left"),u.orient("bottom").tickPadding(5),d.orient("left"),g.valueFormatter(function(e,t){return c.tickFormat()(e,t)}).headerFormatter(function(e,t){return l.tickFormat()(e,t)});var M=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},D=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return a.dispatch.on("elementMouseover.tooltip",function(e){g.data(e).position(e.pos).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(e){g.hidden(!0)}),e.dispatch=C,e.legend=f,e.lines=a,e.lines2=s,e.xAxis=l,e.yAxis=c,e.x2Axis=u,e.y2Axis=d,e.interactiveLayer=p,e.tooltip=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return b},set:function(e){b=e}},height:{get:function(){return S},set:function(e){S=e}},focusHeight:{get:function(){return E},set:function(e){E=e}},showLegend:{get:function(){return A},set:function(e){A=e}},brushExtent:{get:function(){return w},set:function(e){w=e}},defaultState:{get:function(){return O},set:function(e){O=e}},noData:{get:function(){return I},set:function(e){I=e}},tooltips:{get:function(){return g.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),g.enabled(!!e)}},tooltipContent:{get:function(){return g.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),g.contentGenerator(e)}},margin:{get:function(){return v},set:function(e){v.top=void 0!==e.top?e.top:v.top,v.right=void 0!==e.right?e.right:v.right,v.bottom=void 0!==e.bottom?e.bottom:v.bottom,v.left=void 0!==e.left?e.left:v.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e),f.color(y)}},interpolate:{get:function(){return a.interpolate()},set:function(e){a.interpolate(e),s.interpolate(e)}},xTickFormat:{get:function(){return l.tickFormat()},set:function(e){l.tickFormat(e),u.tickFormat(e)}},yTickFormat:{get:function(){return c.tickFormat()},set:function(e){c.tickFormat(e),d.tickFormat(e)}},duration:{get:function(){return x},set:function(e){x=e,c.duration(x),d.duration(x),l.duration(x),u.duration(x)}},x:{get:function(){return a.x()},set:function(e){a.x(e),s.x(e)}},y:{get:function(){return a.y()},set:function(e){a.y(e),s.y(e)}},useInteractiveGuideline:{get:function(){return _},set:function(e){_=e,_&&(a.interactive(!1),a.useVoronoi(!1))}}}),t.utils.inheritOptions(e,a),t.utils.initOptions(e),e},t.models.multiBar=function(){"use strict";function e(M){return T.reset(),M.each(function(e){var M=u-c.left-c.right,D=d-c.top-c.bottom;p=d3.select(this),t.utils.initSVG(p);var N=0;if(A&&e.length&&(A=[{values:e[0].values.map(function(e){return{x:e.x,y:0,series:e.series,size:.01}})}]),S){var R=d3.layout.stack().offset(E).values(function(e){return e.values}).y(h)(!e.length&&A?A:e);R.forEach(function(t,n){t.nonStackable?(e[n].nonStackableSeries=N++,R[n]=e[n]):n>0&&R[n-1].nonStackable&&R[n].values.map(function(e,t){e.y0-=R[n-1].values[t].y,e.y1=e.y0+e.y})}),e=R}e.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),S&&e[0].values.map(function(t,n){var r=0,o=0;e.map(function(t,i){if(!e[i].nonStackable){var a=t.values[n];a.size=Math.abs(a.y),a.y<0?(a.y1=o,o-=a.size):(a.y1=a.size+r,r+=a.size)}})});var P=r&&o?[]:e.map(function(e,t){return e.values.map(function(e,n){return{x:v(e,n),y:h(e,n),y0:e.y0,y1:e.y1,idx:t}})});f.domain(r||d3.merge(P).map(function(e){return e.x})).rangeBands(i||[0,M],C),m.domain(o||d3.extent(d3.merge(P).map(function(t){var n=t.y;return S&&!e[t.idx].nonStackable&&(n=t.y>0?t.y1:t.y1+t.y),n}).concat(y))).range(a||[D,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1])),s=s||f,l=l||m;var k=p.selectAll("g.nv-wrap.nv-multibar").data([e]),L=k.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),G=L.append("defs"),F=L.append("g"),U=k.select("g");F.append("g").attr("class","nv-groups"),k.attr("transform","translate("+c.left+","+c.top+")"),G.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect"),k.select("#nv-edge-clip-"+g+" rect").attr("width",M).attr("height",D),U.attr("clip-path",b?"url(#nv-edge-clip-"+g+")":"");var V=k.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});V.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var z=T.transition(V.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,I)).attr("y",function(t,n,r){var o=l(0)||0;return S&&e[t.series]&&!e[t.series].nonStackable&&(o=l(t.y0)),o}).attr("height",0).remove();z.delay&&z.delay(function(e,t){var n=t*(I/(O+1))-t;return n}),V.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return _(e,t)}).style("stroke",function(e,t){return _(e,t)}),V.style("stroke-opacity",1).style("fill-opacity",.75);var B=V.selectAll("rect.nv-bar").data(function(t){return A&&!e.length?A.values:t.values});B.exit().remove();B.enter().append("rect").attr("class",function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,n,r){return S&&!e[r].nonStackable?0:r*f.rangeBand()/e.length}).attr("y",function(t,n,r){return l(S&&!e[r].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,n,r){return f.rangeBand()/(S&&!e[r].nonStackable?1:e.length)}).attr("transform",function(e,t){return"translate("+f(v(e,t))+",0)"});B.style("fill",function(e,t,n){return _(e,n,t)}).style("stroke",function(e,t,n){return _(e,n,t)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),x.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),x.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){x.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){x.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){x.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),B.attr("class",function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(e,t){return"translate("+f(v(e,t))+",0)"}),w&&(n||(n=e.map(function(){return!0})),B.style("fill",function(e,t,r){return d3.rgb(w(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()}).style("stroke",function(e,t,r){return d3.rgb(w(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()}));var $=B.watchTransition(T,"multibar",Math.min(250,I)).delay(function(t,n){
return n*I/e[0].values.length});S?$.attr("y",function(t,n,r){var o=0;return o=e[r].nonStackable?h(t,n)<0?m(0):m(0)-m(h(t,n))<-1?m(0)-1:m(h(t,n))||0:m(t.y1)}).attr("height",function(t,n,r){return e[r].nonStackable?Math.max(Math.abs(m(h(t,n))-m(0)),1)||0:Math.max(Math.abs(m(t.y+t.y0)-m(t.y0)),1)}).attr("x",function(t,n,r){var o=0;return e[r].nonStackable&&(o=t.series*f.rangeBand()/e.length,e.length!==N&&(o=e[r].nonStackableSeries*f.rangeBand()/(2*N))),o}).attr("width",function(t,n,r){if(e[r].nonStackable){var o=f.rangeBand()/N;return e.length!==N&&(o=f.rangeBand()/(2*N)),o}return f.rangeBand()}):$.attr("x",function(t,n){return t.series*f.rangeBand()/e.length}).attr("width",f.rangeBand()/e.length).attr("y",function(e,t){return h(e,t)<0?m(0):m(0)-m(h(e,t))<1?m(0)-1:m(h(e,t))||0}).attr("height",function(e,t){return Math.max(Math.abs(m(h(e,t))-m(0)),1)||0}),s=f.copy(),l=m.copy(),e[0]&&e[0].values&&(O=e[0].values.length)}),T.renderEnd("multibar immediate"),e}var n,r,o,i,a,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=d3.scale.ordinal(),m=d3.scale.linear(),g=Math.floor(1e4*Math.random()),p=null,v=function(e){return e.x},h=function(e){return e.y},y=[0],b=!0,S=!1,E="zero",_=t.utils.defaultColor(),A=!1,w=null,I=500,C=.1,x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),T=t.utils.renderWatch(x,I),O=0;return e.dispatch=x,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},x:{get:function(){return v},set:function(e){v=e}},y:{get:function(){return h},set:function(e){h=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return o},set:function(e){o=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return y},set:function(e){y=e}},stacked:{get:function(){return S},set:function(e){S=e}},stackOffset:{get:function(){return E},set:function(e){E=e}},clipEdge:{get:function(){return b},set:function(e){b=e}},disabled:{get:function(){return n},set:function(e){n=e}},id:{get:function(){return g},set:function(e){g=e}},hideable:{get:function(){return A},set:function(e){A=e}},groupSpacing:{get:function(){return C},set:function(e){C=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},duration:{get:function(){return I},set:function(e){I=e,T.reset(I)}},color:{get:function(){return _},set:function(e){_=t.utils.getColor(e)}},barColor:{get:function(){return w},set:function(e){w=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarChart=function(){"use strict";function e(c){return O.reset(),O.models(o),h&&O.models(i),y&&O.models(a),c.each(function(c){var I=d3.select(this);t.utils.initSVG(I);var O=t.utils.availableWidth(d,I,u),R=t.utils.availableHeight(f,I,u);if(e.update=function(){0===T?I.call(e):I.transition().duration(T).call(e)},e.container=this,A.setter(N(c),e.update).getter(D(c)).update(),A.disabled=c.map(function(e){return!!e.disabled}),!w){var P;w={};for(P in A)A[P]instanceof Array?w[P]=A[P].slice(0):w[P]=A[P]}if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,I),e;I.selectAll(".nv-noData").remove(),n=o.xScale(),r=o.yScale();var k=I.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([c]),L=k.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),G=k.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),v&&(s.width(O-x()),G.select(".nv-legendWrap").datum(c).call(s),u.top!=s.height()&&(u.top=s.height(),R=t.utils.availableHeight(f,I,u)),G.select(".nv-legendWrap").attr("transform","translate("+x()+","+-u.top+")")),g){var F=[{key:p.grouped||"Grouped",disabled:o.stacked()},{key:p.stacked||"Stacked",disabled:!o.stacked()}];l.width(x()).color(["#444","#444","#444"]),G.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-u.top+")").call(l)}k.attr("transform","translate("+u.left+","+u.top+")"),b&&G.select(".nv-y.nv-axis").attr("transform","translate("+O+",0)"),o.disabled(c.map(function(e){return e.disabled})).width(O).height(R).color(c.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!c[t].disabled}));var U=G.select(".nv-barsWrap").datum(c.filter(function(e){return!e.disabled}));if(U.call(o),h){i.scale(n)._ticks(t.utils.calcTicksX(O/100,c)).tickSize(-R,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),G.select(".nv-x.nv-axis").call(i);var V=G.select(".nv-x.nv-axis > g").selectAll("g");if(V.selectAll("line, text").style("opacity",1),E){var z=function(e,t){return"translate("+e+","+t+")"},B=5,$=17;V.selectAll("text").attr("transform",function(e,t,n){return z(0,n%2==0?B:$)});var H=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;G.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(e,t){return z(0,0===t||H%2!==0?$:B)})}S&&V.filter(function(e,t){return t%Math.ceil(c[0].values.length/(O/100))!==0}).selectAll("text, line").style("opacity",0),_&&V.selectAll(".tick text").attr("transform","rotate("+_+" 0,0)").style("text-anchor",_>0?"start":"end"),G.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}y&&(a.scale(r)._ticks(t.utils.calcTicksY(R/36,c)).tickSize(-O,0),G.select(".nv-y.nv-axis").call(a)),s.dispatch.on("stateChange",function(t){for(var n in t)A[n]=t[n];C.stateChange(A),e.update()}),l.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(F=F.map(function(e){return e.disabled=!0,e}),t.disabled=!1,t.key){case"Grouped":case p.grouped:o.stacked(!1);break;case"Stacked":case p.stacked:o.stacked(!0)}A.stacked=o.stacked(),C.stateChange(A),e.update()}}),C.on("changeState",function(t){"undefined"!=typeof t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),A.disabled=t.disabled),"undefined"!=typeof t.stacked&&(o.stacked(t.stacked),A.stacked=t.stacked,M=t.stacked),e.update()})}),O.renderEnd("multibarchart immediate"),e}var n,r,o=t.models.multiBar(),i=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.models.legend(),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,f=null,m=t.utils.defaultColor(),g=!0,p={},v=!0,h=!0,y=!0,b=!1,S=!0,E=!1,_=0,A=t.utils.state(),w=null,I=null,C=d3.dispatch("stateChange","changeState","renderEnd"),x=function(){return g?180:0},T=250;A.stacked=!1,o.stacked(!1),i.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(e){return e}),a.orient(b?"right":"left").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return i.tickFormat()(e,t)}),l.updateState(!1);var O=t.utils.renderWatch(C),M=!1,D=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:M}}},N=function(e){return function(t){void 0!==t.stacked&&(M=t.stacked),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return o.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},c.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){c.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(e){c.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=C,e.multibar=o,e.legend=s,e.controls=l,e.xAxis=i,e.yAxis=a,e.state=A,e.tooltip=c,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showControls:{get:function(){return g},set:function(e){g=e}},controlLabels:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return y},set:function(e){y=e}},defaultState:{get:function(){return w},set:function(e){w=e}},noData:{get:function(){return I},set:function(e){I=e}},reduceXTicks:{get:function(){return S},set:function(e){S=e}},rotateLabels:{get:function(){return _},set:function(e){_=e}},staggerLabels:{get:function(){return E},set:function(e){E=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return T},set:function(e){T=e,o.duration(T),i.duration(T),a.duration(T),O.reset(T)}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),s.color(m)}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,a.orient(b?"right":"left")}},barColor:{get:function(){return o.barColor},set:function(e){o.barColor(e),s.color(function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.multiBarHorizontal=function(){"use strict";function e(f){return M.reset(),f.each(function(e){var f=u-c.left-c.right,T=d-c.top-c.bottom;m=d3.select(this),t.utils.initSVG(m),_&&(e=d3.layout.stack().offset("zero").values(function(e){return e.values}).y(h)(e)),e.forEach(function(e,t){e.values.forEach(function(n){n.series=t,n.key=e.key})}),_&&e[0].values.map(function(t,n){var r=0,o=0;e.map(function(e){var t=e.values[n];t.size=Math.abs(t.y),t.y<0?(t.y1=o-t.size,o-=t.size):(t.y1=r,r+=t.size)})});var D=r&&o?[]:e.map(function(e){return e.values.map(function(e,t){return{x:v(e,t),y:h(e,t),y0:e.y0,y1:e.y1}})});g.domain(r||d3.merge(D).map(function(e){return e.x})).rangeBands(i||[0,T],C),p.domain(o||d3.extent(d3.merge(D).map(function(e){return _?e.y>0?e.y1+e.y:e.y1:e.y}).concat(b))),A&&!_?p.range(a||[p.domain()[0]<0?I:0,f-(p.domain()[1]>0?I:0)]):p.range(a||[0,f]),s=s||g,l=l||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var N=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([e]),R=N.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),P=(R.append("defs"),R.append("g"));N.select("g");P.append("g").attr("class","nv-groups"),N.attr("transform","translate("+c.left+","+c.top+")");var k=N.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e,t){return t});k.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),k.exit().watchTransition(M,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),k.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}).style("fill",function(e,t){return S(e,t)}).style("stroke",function(e,t){return S(e,t)}),k.watchTransition(M,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",.75);var L=k.selectAll("g.nv-bar").data(function(e){return e.values});L.exit().remove();var G=L.enter().append("g").attr("transform",function(t,n,r){return"translate("+l(_?t.y0:0)+","+(_?0:r*g.rangeBand()/e.length+g(v(t,n)))+")"});G.append("rect").attr("width",0).attr("height",g.rangeBand()/(_?1:e.length)),L.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),O.elementMouseover({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),O.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){O.elementMouseout({data:e,index:t,color:d3.select(this).style("fill")})}).on("mousemove",function(e,t){O.elementMousemove({data:e,index:t,color:d3.select(this).style("fill")})}).on("click",function(e,t){O.elementClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}).on("dblclick",function(e,t){O.elementDblClick({data:e,index:t,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),y(e[0],0)&&(G.append("polyline"),L.select("polyline").attr("fill","none").attr("points",function(t,n){var r=y(t,n),o=.8*g.rangeBand()/(2*(_?1:e.length));r=r.length?r:[-Math.abs(r),Math.abs(r)],r=r.map(function(e){return p(e)-p(0)});var i=[[r[0],-o],[r[0],o],[r[0],0],[r[1],0],[r[1],-o],[r[1],o]];return i.map(function(e){return e.join(",")}).join(" ")}).attr("transform",function(t,n){var r=g.rangeBand()/(2*(_?1:e.length));return"translate("+(h(t,n)<0?0:p(h(t,n))-p(0))+", "+r+")"})),G.append("text"),A&&!_?(L.select("text").attr("text-anchor",function(e,t){return h(e,t)<0?"end":"start"}).attr("y",g.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(e,t){var n=x(h(e,t)),r=y(e,t);return void 0===r?n:r.length?n+"+"+x(Math.abs(r[1]))+"-"+x(Math.abs(r[0])):n+"±"+x(Math.abs(r))}),L.watchTransition(M,"multibarhorizontal: bars").select("text").attr("x",function(e,t){return h(e,t)<0?-4:p(h(e,t))-p(0)+4})):L.selectAll("text").text(""),w&&!_?(G.append("text").classed("nv-bar-label",!0),L.select("text.nv-bar-label").attr("text-anchor",function(e,t){return h(e,t)<0?"start":"end"}).attr("y",g.rangeBand()/(2*e.length)).attr("dy",".32em").text(function(e,t){return v(e,t)}),L.watchTransition(M,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(e,t){return h(e,t)<0?p(0)-p(h(e,t))+4:-4})):L.selectAll("text.nv-bar-label").text(""),L.attr("class",function(e,t){return h(e,t)<0?"nv-bar negative":"nv-bar positive"}),E&&(n||(n=e.map(function(){return!0})),L.style("fill",function(e,t,r){return d3.rgb(E(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()}).style("stroke",function(e,t,r){return d3.rgb(E(e,t)).darker(n.map(function(e,t){return t}).filter(function(e,t){return!n[t]})[r]).toString()})),_?L.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(e,t){return"translate("+p(e.y1)+","+g(v(e,t))+")"}).select("rect").attr("width",function(e,t){return Math.abs(p(h(e,t)+e.y0)-p(e.y0))}).attr("height",g.rangeBand()):L.watchTransition(M,"multibarhorizontal: bars").attr("transform",function(t,n){return"translate("+p(h(t,n)<0?h(t,n):0)+","+(t.series*g.rangeBand()/e.length+g(v(t,n)))+")"}).select("rect").attr("height",g.rangeBand()/e.length).attr("width",function(e,t){return Math.max(Math.abs(p(h(e,t))-p(0)),1)}),s=g.copy(),l=p.copy()}),M.renderEnd("multibarHorizontal immediate"),e}var n,r,o,i,a,s,l,c={top:0,right:0,bottom:0,left:0},u=960,d=500,f=Math.floor(1e4*Math.random()),m=null,g=d3.scale.ordinal(),p=d3.scale.linear(),v=function(e){return e.x},h=function(e){return e.y},y=function(e){return e.yErr},b=[0],S=t.utils.defaultColor(),E=null,_=!1,A=!1,w=!1,I=60,C=.1,x=d3.format(",.2f"),T=250,O=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),M=t.utils.renderWatch(O,T);return e.dispatch=O,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},x:{get:function(){return v},set:function(e){v=e}},y:{get:function(){return h},set:function(e){h=e}},yErr:{get:function(){return y},set:function(e){y=e}},xScale:{get:function(){return g},set:function(e){g=e}},yScale:{get:function(){return p},set:function(e){p=e}},xDomain:{get:function(){return r},set:function(e){r=e}},yDomain:{get:function(){return o},set:function(e){o=e}},xRange:{get:function(){return i},set:function(e){i=e}},yRange:{get:function(){return a},set:function(e){a=e}},forceY:{get:function(){return b},set:function(e){b=e}},stacked:{get:function(){return _},set:function(e){_=e}},showValues:{get:function(){return A},set:function(e){A=e}},disabled:{get:function(){return n},set:function(e){n=e}},id:{get:function(){return f},set:function(e){f=e}},valueFormat:{get:function(){return x},set:function(e){x=e}},valuePadding:{get:function(){return I},set:function(e){I=e}},groupSpacing:{get:function(){return C},set:function(e){C=e}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},duration:{get:function(){return T},set:function(e){T=e,M.reset(T)}},color:{get:function(){return S},set:function(e){S=t.utils.getColor(e)}},barColor:{get:function(){return E},set:function(e){E=e?t.utils.getColor(e):null}}}),t.utils.initOptions(e),e},t.models.multiBarHorizontalChart=function(){"use strict";function e(c){return T.reset(),T.models(o),h&&T.models(i),y&&T.models(a),c.each(function(c){var _=d3.select(this);t.utils.initSVG(_);var T=t.utils.availableWidth(d,_,u),O=t.utils.availableHeight(f,_,u);if(e.update=function(){_.transition().duration(I).call(e)},e.container=this,b=o.stacked(),S.setter(x(c),e.update).getter(C(c)).update(),S.disabled=c.map(function(e){return!!e.disabled}),!E){var M;E={};for(M in S)S[M]instanceof Array?E[M]=S[M].slice(0):E[M]=S[M]}if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,_),e;_.selectAll(".nv-noData").remove(),n=o.xScale(),r=o.yScale();var D=_.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([c]),N=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),R=D.select("g");if(N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-controlsWrap"),v&&(s.width(T-w()),R.select(".nv-legendWrap").datum(c).call(s),u.top!=s.height()&&(u.top=s.height(),O=t.utils.availableHeight(f,_,u)),R.select(".nv-legendWrap").attr("transform","translate("+w()+","+-u.top+")")),g){var P=[{key:p.grouped||"Grouped",disabled:o.stacked()},{key:p.stacked||"Stacked",disabled:!o.stacked()}];l.width(w()).color(["#444","#444","#444"]),R.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-u.top+")").call(l)}D.attr("transform","translate("+u.left+","+u.top+")"),o.disabled(c.map(function(e){return e.disabled})).width(T).height(O).color(c.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!c[t].disabled}));var k=R.select(".nv-barsWrap").datum(c.filter(function(e){return!e.disabled}));if(k.transition().call(o),h){i.scale(n)._ticks(t.utils.calcTicksY(O/24,c)).tickSize(-T,0),R.select(".nv-x.nv-axis").call(i);var L=R.select(".nv-x.nv-axis").selectAll("g");L.selectAll("line, text")}y&&(a.scale(r)._ticks(t.utils.calcTicksX(T/100,c)).tickSize(-O,0),R.select(".nv-y.nv-axis").attr("transform","translate(0,"+O+")"),R.select(".nv-y.nv-axis").call(a)),R.select(".nv-zeroLine line").attr("x1",r(0)).attr("x2",r(0)).attr("y1",0).attr("y2",-O),s.dispatch.on("stateChange",function(t){for(var n in t)S[n]=t[n];A.stateChange(S),e.update()}),l.dispatch.on("legendClick",function(t,n){if(t.disabled){switch(P=P.map(function(e){return e.disabled=!0,e}),t.disabled=!1,t.key){case"Grouped":o.stacked(!1);break;case"Stacked":o.stacked(!0)}S.stacked=o.stacked(),A.stateChange(S),b=o.stacked(),e.update()}}),A.on("changeState",function(t){"undefined"!=typeof t.disabled&&(c.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),"undefined"!=typeof t.stacked&&(o.stacked(t.stacked),S.stacked=t.stacked,b=t.stacked),e.update()})}),T.renderEnd("multibar horizontal chart immediate"),e}var n,r,o=t.models.multiBarHorizontal(),i=t.models.axis(),a=t.models.axis(),s=t.models.legend().height(30),l=t.models.legend().height(30),c=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},d=null,f=null,m=t.utils.defaultColor(),g=!0,p={},v=!0,h=!0,y=!0,b=!1,S=t.utils.state(),E=null,_=null,A=d3.dispatch("stateChange","changeState","renderEnd"),w=function(){return g?180:0},I=250;S.stacked=!1,o.stacked(b),i.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(e){return e}),a.orient("bottom").tickFormat(d3.format(",.1f")),c.duration(0).valueFormatter(function(e,t){return a.tickFormat()(e,t)}).headerFormatter(function(e,t){return i.tickFormat()(e,t)}),l.updateState(!1);var C=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),stacked:b}}},x=function(e){return function(t){void 0!==t.stacked&&(b=t.stacked),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},T=t.utils.renderWatch(A,I);return o.dispatch.on("elementMouseover.tooltip",function(t){t.value=e.x()(t.data),t.series={key:t.data.key,value:e.y()(t.data),color:t.color},c.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){c.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(e){c.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=A,e.multibar=o,e.legend=s,e.controls=l,e.xAxis=i,e.yAxis=a,e.state=S,e.tooltip=c,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return d},set:function(e){d=e}},height:{get:function(){return f},set:function(e){f=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showControls:{get:function(){return g},set:function(e){g=e}},controlLabels:{get:function(){return p},set:function(e){p=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return y},set:function(e){y=e}},defaultState:{get:function(){return E},set:function(e){E=e}},noData:{get:function(){return _},set:function(e){_=e}},tooltips:{get:function(){return c.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),c.enabled(!!e)}},tooltipContent:{get:function(){return c.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),c.contentGenerator(e)}},margin:{get:function(){return u},set:function(e){u.top=void 0!==e.top?e.top:u.top,u.right=void 0!==e.right?e.right:u.right,u.bottom=void 0!==e.bottom?e.bottom:u.bottom,u.left=void 0!==e.left?e.left:u.left}},duration:{get:function(){return I},set:function(e){I=e,T.reset(I),o.duration(I),i.duration(I),a.duration(I)}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),s.color(m)}},barColor:{get:function(){return o.barColor},set:function(e){o.barColor(e),s.color(function(e,t){return d3.rgb("#ccc").darker(1.5*t).toString()})}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.multiChart=function(){"use strict";function e(c){return c.each(function(c){function u(e){var t=2===c[e.seriesIndex].yAxis?I:w;e.value=e.point.x,e.series={value:e.point.y,color:e.point.color},x.duration(100).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).position(e.pos).hidden(!1)}function d(e){var t=2===c[e.seriesIndex].yAxis?I:w;e.point.x=E.x()(e.point),e.point.y=E.y()(e.point),x.duration(100).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).position(e.pos).hidden(!1)}function m(e){var t=2===c[e.data.series].yAxis?I:w;e.value=b.x()(e.data),e.series={value:b.y()(e.data),color:e.color},x.duration(0).valueFormatter(function(e,n){return t.tickFormat()(e,n)}).data(e).hidden(!1)}var T=d3.select(this);t.utils.initSVG(T),e.update=function(){T.transition().call(e)},e.container=this;var O=t.utils.availableWidth(a,T,o),M=t.utils.availableHeight(s,T,o),D=c.filter(function(e){return"line"==e.type&&1==e.yAxis}),N=c.filter(function(e){return"line"==e.type&&2==e.yAxis}),R=c.filter(function(e){return"bar"==e.type&&1==e.yAxis}),P=c.filter(function(e){return"bar"==e.type&&2==e.yAxis}),k=c.filter(function(e){return"area"==e.type&&1==e.yAxis}),L=c.filter(function(e){return"area"==e.type&&2==e.yAxis});if(!(c&&c.length&&c.filter(function(e){return e.values.length}).length))return t.utils.noData(e,T),e;T.selectAll(".nv-noData").remove();var G=c.filter(function(e){return!e.disabled&&1==e.yAxis}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})}),F=c.filter(function(e){return!e.disabled&&2==e.yAxis}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})});g.domain(d3.extent(d3.merge(G.concat(F)),function(e){return e.x})).range([0,O]);var U=T.selectAll("g.wrap.multiChart").data([c]),V=U.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y1 nv-axis"),V.append("g").attr("class","nv-y2 nv-axis"),V.append("g").attr("class","lines1Wrap"),V.append("g").attr("class","lines2Wrap"),V.append("g").attr("class","bars1Wrap"),V.append("g").attr("class","bars2Wrap"),V.append("g").attr("class","stack1Wrap"),V.append("g").attr("class","stack2Wrap"),V.append("g").attr("class","legendWrap");var z=U.select("g"),B=c.map(function(e,t){return c[t].color||i(e,t)});if(l){var $=C.align()?O/2:O,H=C.align()?$:0;C.width($),C.color(B),z.select(".legendWrap").datum(c.map(function(e){return e.originalKey=void 0===e.originalKey?e.key:e.originalKey,e.key=e.originalKey+(1==e.yAxis?"":" (right axis)"),e})).call(C),o.top!=C.height()&&(o.top=C.height(),M=t.utils.availableHeight(s,T,o)),z.select(".legendWrap").attr("transform","translate("+H+","+-o.top+")")}h.width(O).height(M).interpolate(f).color(B.filter(function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"line"==c[t].type})),y.width(O).height(M).interpolate(f).color(B.filter(function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"line"==c[t].type})),b.width(O).height(M).color(B.filter(function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"bar"==c[t].type})),S.width(O).height(M).color(B.filter(function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"bar"==c[t].type})),E.width(O).height(M).color(B.filter(function(e,t){return!c[t].disabled&&1==c[t].yAxis&&"area"==c[t].type})),_.width(O).height(M).color(B.filter(function(e,t){return!c[t].disabled&&2==c[t].yAxis&&"area"==c[t].type})),z.attr("transform","translate("+o.left+","+o.top+")");var W=z.select(".lines1Wrap").datum(D.filter(function(e){return!e.disabled})),j=z.select(".bars1Wrap").datum(R.filter(function(e){return!e.disabled})),q=z.select(".stack1Wrap").datum(k.filter(function(e){return!e.disabled})),Y=z.select(".lines2Wrap").datum(N.filter(function(e){return!e.disabled})),K=z.select(".bars2Wrap").datum(P.filter(function(e){return!e.disabled})),Z=z.select(".stack2Wrap").datum(L.filter(function(e){return!e.disabled})),X=k.length?k.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[],J=L.length?L.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[];p.domain(n||d3.extent(d3.merge(G).concat(X),function(e){return e.y})).range([0,M]),v.domain(r||d3.extent(d3.merge(F).concat(J),function(e){return e.y})).range([0,M]),h.yDomain(p.domain()),b.yDomain(p.domain()),E.yDomain(p.domain()),y.yDomain(v.domain()),S.yDomain(v.domain()),_.yDomain(v.domain()),k.length&&d3.transition(q).call(E),L.length&&d3.transition(Z).call(_),R.length&&d3.transition(j).call(b),P.length&&d3.transition(K).call(S),D.length&&d3.transition(W).call(h),N.length&&d3.transition(Y).call(y),A._ticks(t.utils.calcTicksX(O/100,c)).tickSize(-M,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+M+")"),d3.transition(z.select(".nv-x.nv-axis")).call(A),w._ticks(t.utils.calcTicksY(M/36,c)).tickSize(-O,0),d3.transition(z.select(".nv-y1.nv-axis")).call(w),I._ticks(t.utils.calcTicksY(M/36,c)).tickSize(-O,0),d3.transition(z.select(".nv-y2.nv-axis")).call(I),z.select(".nv-y1.nv-axis").classed("nv-disabled",!G.length).attr("transform","translate("+g.range()[0]+",0)"),z.select(".nv-y2.nv-axis").classed("nv-disabled",!F.length).attr("transform","translate("+g.range()[1]+",0)"),C.dispatch.on("stateChange",function(t){e.update()}),h.dispatch.on("elementMouseover.tooltip",u),y.dispatch.on("elementMouseover.tooltip",u),h.dispatch.on("elementMouseout.tooltip",function(e){x.hidden(!0)}),y.dispatch.on("elementMouseout.tooltip",function(e){x.hidden(!0)}),E.dispatch.on("elementMouseover.tooltip",d),_.dispatch.on("elementMouseover.tooltip",d),E.dispatch.on("elementMouseout.tooltip",function(e){x.hidden(!0)}),_.dispatch.on("elementMouseout.tooltip",function(e){x.hidden(!0)}),b.dispatch.on("elementMouseover.tooltip",m),S.dispatch.on("elementMouseover.tooltip",m),b.dispatch.on("elementMouseout.tooltip",function(e){x.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(e){x.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(e){x.position({top:d3.event.pageY,left:d3.event.pageX})()}),S.dispatch.on("elementMousemove.tooltip",function(e){x.position({top:d3.event.pageY,left:d3.event.pageX})()})}),e}var n,r,o={top:30,right:20,bottom:50,left:60},i=t.utils.defaultColor(),a=null,s=null,l=!0,c=null,u=function(e){return e.x},d=function(e){return e.y},f="monotone",m=!0,g=d3.scale.linear(),p=d3.scale.linear(),v=d3.scale.linear(),h=t.models.line().yScale(p),y=t.models.line().yScale(v),b=t.models.multiBar().stacked(!1).yScale(p),S=t.models.multiBar().stacked(!1).yScale(v),E=t.models.stackedArea().yScale(p),_=t.models.stackedArea().yScale(v),A=t.models.axis().scale(g).orient("bottom").tickPadding(5),w=t.models.axis().scale(p).orient("left"),I=t.models.axis().scale(v).orient("right"),C=t.models.legend().height(30),x=t.models.tooltip(),T=d3.dispatch();return e.dispatch=T,e.lines1=h,e.lines2=y,e.bars1=b,e.bars2=S,e.stack1=E,e.stack2=_,e.xAxis=A,e.yAxis1=w,e.yAxis2=I,e.tooltip=x,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return s},set:function(e){s=e}},showLegend:{get:function(){return l},set:function(e){l=e}},yDomain1:{get:function(){return n},set:function(e){n=e}},yDomain2:{get:function(){return r},set:function(e){r=e}},noData:{get:function(){return c},set:function(e){c=e}},interpolate:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return x.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),x.enabled(!!e)}},tooltipContent:{get:function(){return x.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),x.contentGenerator(e)}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}},color:{get:function(){return i},set:function(e){i=t.utils.getColor(e)}},x:{get:function(){return u},set:function(e){u=e,h.x(e),y.x(e),b.x(e),S.x(e),E.x(e),_.x(e)}},y:{get:function(){return d},set:function(e){d=e,h.y(e),y.y(e),E.y(e),_.y(e),b.y(e),S.y(e)}},useVoronoi:{get:function(){return m},set:function(e){m=e,h.useVoronoi(e),y.useVoronoi(e),E.useVoronoi(e),_.useVoronoi(e)}}}),t.utils.initOptions(e),e},t.models.ohlcBar=function(){"use strict";function e(w){return w.each(function(e){u=d3.select(this);var w=t.utils.availableWidth(s,u,a),C=t.utils.availableHeight(l,u,a);t.utils.initSVG(u);var x=w/e[0].values.length*.9;d.domain(n||d3.extent(e[0].values.map(m).concat(b))),E?d.range(o||[.5*w/e[0].values.length,w*(e[0].values.length-.5)/e[0].values.length]):d.range(o||[5+x/2,w-x/2-5]),f.domain(r||[d3.min(e[0].values.map(y).concat(S)),d3.max(e[0].values.map(h).concat(S))]).range(i||[C,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));
var T=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([e[0].values]),O=T.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),M=O.append("defs"),D=O.append("g"),N=T.select("g");D.append("g").attr("class","nv-ticks"),T.attr("transform","translate("+a.left+","+a.top+")"),u.on("click",function(e,t){I.chartClick({data:e,index:t,pos:d3.event,id:c})}),M.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),T.select("#nv-chart-clip-path-"+c+" rect").attr("width",w).attr("height",C),N.attr("clip-path",_?"url(#nv-chart-clip-path-"+c+")":"");var R=T.select(".nv-ticks").selectAll(".nv-tick").data(function(e){return e});R.exit().remove(),R.enter().append("path").attr("class",function(e,t,n){return(p(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}).attr("d",function(e,t){return"m0,0l0,"+(f(p(e,t))-f(h(e,t)))+"l"+-x/2+",0l"+x/2+",0l0,"+(f(y(e,t))-f(p(e,t)))+"l0,"+(f(v(e,t))-f(y(e,t)))+"l"+x/2+",0l"+-x/2+",0z"}).attr("transform",function(e,t){return"translate("+d(m(e,t))+","+f(h(e,t))+")"}).attr("fill",function(e,t){return A[0]}).attr("stroke",function(e,t){return A[0]}).attr("x",0).attr("y",function(e,t){return f(Math.max(0,g(e,t)))}).attr("height",function(e,t){return Math.abs(f(g(e,t))-f(0))}),R.attr("class",function(e,t,n){return(p(e,t)>v(e,t)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+t}),d3.transition(R).attr("transform",function(e,t){return"translate("+d(m(e,t))+","+f(h(e,t))+")"}).attr("d",function(t,n){var r=w/e[0].values.length*.9;return"m0,0l0,"+(f(p(t,n))-f(h(t,n)))+"l"+-r/2+",0l"+r/2+",0l0,"+(f(y(t,n))-f(p(t,n)))+"l0,"+(f(v(t,n))-f(y(t,n)))+"l"+r/2+",0l"+-r/2+",0z"})}),e}var n,r,o,i,a={top:0,right:0,bottom:0,left:0},s=null,l=null,c=Math.floor(1e4*Math.random()),u=null,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},g=function(e){return e.y},p=function(e){return e.open},v=function(e){return e.close},h=function(e){return e.high},y=function(e){return e.low},b=[],S=[],E=!1,_=!0,A=t.utils.defaultColor(),w=!1,I=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return e.highlightPoint=function(t,n){e.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",n)},e.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},e.dispatch=I,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return l},set:function(e){l=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return i},set:function(e){i=e}},forceX:{get:function(){return b},set:function(e){b=e}},forceY:{get:function(){return S},set:function(e){S=e}},padData:{get:function(){return E},set:function(e){E=e}},clipEdge:{get:function(){return _},set:function(e){_=e}},id:{get:function(){return c},set:function(e){c=e}},interactive:{get:function(){return w},set:function(e){w=e}},x:{get:function(){return m},set:function(e){m=e}},y:{get:function(){return g},set:function(e){g=e}},open:{get:function(){return p()},set:function(e){p=e}},close:{get:function(){return v()},set:function(e){v=e}},high:{get:function(){return h},set:function(e){h=e}},low:{get:function(){return y},set:function(e){y=e}},margin:{get:function(){return a},set:function(e){a.top=void 0!=e.top?e.top:a.top,a.right=void 0!=e.right?e.right:a.right,a.bottom=void 0!=e.bottom?e.bottom:a.bottom,a.left=void 0!=e.left?e.left:a.left}},color:{get:function(){return A},set:function(e){A=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.parallelCoordinates=function(){"use strict";function e(p){return p.each(function(e){function p(e){return D(s.map(function(t){if(isNaN(e[t])||isNaN(parseFloat(e[t]))){var n=a[t].domain(),r=a[t].range(),o=n[0]-(n[1]-n[0])/9;if(k.indexOf(t)<0){var s=d3.scale.linear().domain([o,n[1]]).range([A-12,r[1]]);a[t].brush.y(s),k.push(t)}return[i(t),a[t](o)]}return k.length>0?(O.style("display","inline"),M.style("display","inline")):(O.style("display","none"),M.style("display","none")),[i(t),a[t](e[t])]}))}function v(){var e=s.filter(function(e){return!a[e].brush.empty()}),t=e.map(function(e){return a[e].brush.extent()});u=[],e.forEach(function(e,n){u[n]={dimension:e,extent:t[n]}}),d=[],F.style("display",function(n){var r=e.every(function(e,r){return!(!isNaN(n[e])||t[r][0]!=a[e].brush.y().domain()[0])||t[r][0]<=n[e]&&n[e]<=t[r][1]});return r&&d.push(n),r?null:"none"}),g.brush({filters:u,active:d})}function h(e,t){f[e]=this.parentNode.__origin__=i(e),G.attr("visibility","hidden")}function y(e,t){f[e]=Math.min(_,Math.max(0,this.parentNode.__origin__+=d3.event.x)),F.attr("d",p),s.sort(function(e,t){return S(e)-S(t)}),i.domain(s),U.attr("transform",function(e){return"translate("+S(e)+")"})}function b(e,t){delete this.parentNode.__origin__,delete f[e],d3.select(this.parentNode).attr("transform","translate("+i(e)+")"),F.attr("d",p),G.attr("d",p).attr("visibility",null)}function S(e){var t=f[e];return null==t?i(e):t}var E=d3.select(this),_=t.utils.availableWidth(r,E,n),A=t.utils.availableHeight(o,E,n);t.utils.initSVG(E),d=e,i.rangePoints([0,_],1).domain(s);var w={};s.forEach(function(t){var n=d3.extent(e,function(e){return+e[t]});return w[t]=!1,void 0===n[0]&&(w[t]=!0,n[0]=0,n[1]=0),n[0]===n[1]&&(n[0]=n[0]-1,n[1]=n[1]+1),a[t]=d3.scale.linear().domain(n).range([.9*(A-12),0]),a[t].brush=d3.svg.brush().y(a[t]).on("brush",v),"name"!=t});var I=E.selectAll("g.nv-wrap.nv-parallelCoordinates").data([e]),C=I.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),x=C.append("g"),T=I.select("g");x.append("g").attr("class","nv-parallelCoordinates background"),x.append("g").attr("class","nv-parallelCoordinates foreground"),x.append("g").attr("class","nv-parallelCoordinates missingValuesline"),I.attr("transform","translate("+n.left+","+n.top+")");var O,M,D=d3.svg.line().interpolate("cardinal").tension(m),N=d3.svg.axis().orient("left"),R=d3.behavior.drag().on("dragstart",h).on("drag",y).on("dragend",b),P=i.range()[1]-i.range()[0],k=[],L=[0+P/2,A-12,_-P/2,A-12];O=I.select(".missingValuesline").selectAll("line").data([L]),O.enter().append("line"),O.exit().remove(),O.attr("x1",function(e){return e[0]}).attr("y1",function(e){return e[1]}).attr("x2",function(e){return e[2]}).attr("y2",function(e){return e[3]}),M=I.select(".missingValuesline").selectAll("text").data(["undefined values"]),M.append("text").data(["undefined values"]),M.enter().append("text"),M.exit().remove(),M.attr("y",A).attr("x",_-92-P/2).text(function(e){return e});var G=I.select(".background").selectAll("path").data(e);G.enter().append("path"),G.exit().remove(),G.attr("d",p);var F=I.select(".foreground").selectAll("path").data(e);F.enter().append("path"),F.exit().remove(),F.attr("d",p).attr("stroke",c),F.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),g.elementMouseover({label:e.name,data:e.data,index:t,pos:[d3.mouse(this.parentNode)[0],d3.mouse(this.parentNode)[1]]})}),F.on("mouseout",function(e,t){d3.select(this).classed("hover",!1),g.elementMouseout({label:e.name,data:e.data,index:t})});var U=T.selectAll(".dimension").data(s),V=U.enter().append("g").attr("class","nv-parallelCoordinates dimension");V.append("g").attr("class","nv-parallelCoordinates nv-axis"),V.append("g").attr("class","nv-parallelCoordinates-brush"),V.append("text").attr("class","nv-parallelCoordinates nv-label"),U.attr("transform",function(e){return"translate("+i(e)+",0)"}),U.exit().remove(),U.select(".nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").text(String).on("mouseover",function(e,t){g.elementMouseover({dim:e,pos:[d3.mouse(this.parentNode.parentNode)[0],d3.mouse(this.parentNode.parentNode)[1]]})}).on("mouseout",function(e,t){g.elementMouseout({dim:e})}).call(R),U.select(".nv-axis").each(function(e,t){d3.select(this).call(N.scale(a[e]).tickFormat(d3.format(l[t])))}),U.select(".nv-parallelCoordinates-brush").each(function(e){d3.select(this).call(a[e].brush)}).selectAll("rect").attr("x",-8).attr("width",16)}),e}var n={top:30,right:0,bottom:10,left:0},r=null,o=null,i=d3.scale.ordinal(),a={},s=[],l=[],c=t.utils.defaultColor(),u=[],d=[],f=[],m=1,g=d3.dispatch("brush","elementMouseover","elementMouseout");return e.dispatch=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return o},set:function(e){o=e}},dimensionNames:{get:function(){return s},set:function(e){s=e}},dimensionFormats:{get:function(){return l},set:function(e){l=e}},lineTension:{get:function(){return m},set:function(e){m=e}},dimensions:{get:function(){return s},set:function(e){t.deprecated("dimensions","use dimensionNames instead"),s=e}},margin:{get:function(){return n},set:function(e){n.top=void 0!==e.top?e.top:n.top,n.right=void 0!==e.right?e.right:n.right,n.bottom=void 0!==e.bottom?e.bottom:n.bottom,n.left=void 0!==e.left?e.left:n.left}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.pie=function(){"use strict";function e(M){return O.reset(),M.each(function(e){function M(e,t){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,p||(e.innerRadius=0);var n=d3.interpolate(this._current,e);return this._current=n(0),function(e){return x[t](n(e))}}var D=r-n.left-n.right,N=o-n.top-n.bottom,R=Math.min(D,N)/2,P=[],k=[];if(l=d3.select(this),0===I.length)for(var L=R-R/5,G=w*R,F=0;F<e[0].length;F++)P.push(L),k.push(G);else P=I.map(function(e){return(e.outer-e.outer/5)*R}),k=I.map(function(e){return(e.inner-e.inner/5)*R}),w=d3.min(I.map(function(e){return e.inner-e.inner/5}));t.utils.initSVG(l);var U=l.selectAll(".nv-wrap.nv-pie").data(e),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+s),z=V.append("g"),B=U.select("g"),$=z.append("g").attr("class","nv-pie");z.append("g").attr("class","nv-pieLabels"),U.attr("transform","translate("+n.left+","+n.top+")"),B.select(".nv-pie").attr("transform","translate("+D/2+","+N/2+")"),B.select(".nv-pieLabels").attr("transform","translate("+D/2+","+N/2+")"),l.on("click",function(e,t){C.chartClick({data:e,index:t,pos:d3.event,id:s})}),x=[],T=[];for(var F=0;F<e[0].length;F++){var H=d3.svg.arc().outerRadius(P[F]),W=d3.svg.arc().outerRadius(P[F]+5);S!==!1&&(H.startAngle(S),W.startAngle(S)),_!==!1&&(H.endAngle(_),W.endAngle(_)),p&&(H.innerRadius(k[F]),W.innerRadius(k[F])),H.cornerRadius&&A&&(H.cornerRadius(A),W.cornerRadius(A)),x.push(H),T.push(W)}var j=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:a(e)});j.padAngle&&E&&j.padAngle(E),p&&v&&($.append("text").attr("class","nv-pie-title"),U.select(".nv-pie-title").style("text-anchor","middle").text(function(e){return v}).style("font-size",Math.min(D,N)*w*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",function(e,t){return"translate(0, "+y+")"}));var q=U.select(".nv-pie").selectAll(".nv-slice").data(j),Y=U.select(".nv-pieLabels").selectAll(".nv-label").data(j);q.exit().remove(),Y.exit().remove();var K=q.enter().append("g");K.attr("class","nv-slice"),K.on("mouseover",function(e,t){d3.select(this).classed("hover",!0),h&&d3.select(this).select("path").transition().duration(70).attr("d",T[t]),C.elementMouseover({data:e.data,index:t,color:d3.select(this).style("fill")})}),K.on("mouseout",function(e,t){d3.select(this).classed("hover",!1),h&&d3.select(this).select("path").transition().duration(50).attr("d",x[t]),C.elementMouseout({data:e.data,index:t})}),K.on("mousemove",function(e,t){C.elementMousemove({data:e.data,index:t})}),K.on("click",function(e,t){C.elementClick({data:e.data,index:t,color:d3.select(this).style("fill")})}),K.on("dblclick",function(e,t){C.elementDblClick({data:e.data,index:t,color:d3.select(this).style("fill")})}),q.attr("fill",function(e,t){return c(e.data,t)}),q.attr("stroke",function(e,t){return c(e.data,t)});K.append("path").each(function(e){this._current=e});if(q.select("path").transition().attr("d",function(e,t){return x[t](e)}).attrTween("d",M),d){for(var Z=[],F=0;F<e[0].length;F++)Z.push(x[F]),f?p&&(Z[F]=d3.svg.arc().outerRadius(x[F].outerRadius()),S!==!1&&Z[F].startAngle(S),_!==!1&&Z[F].endAngle(_)):p||Z[F].innerRadius(0);Y.enter().append("g").classed("nv-label",!0).each(function(e,t){var n=d3.select(this);n.attr("transform",function(e,t){if(b){e.outerRadius=P[t]+10,e.innerRadius=P[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Z[t].centroid(e)+") rotate("+n+")"}return e.outerRadius=R+10,e.innerRadius=R+15,"translate("+Z[t].centroid(e)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",b?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var X={},J=14,Q=140,ee=function(e){return Math.floor(e[0]/Q)*Q+","+Math.floor(e[1]/J)*J};Y.watchTransition(O,"pie labels").attr("transform",function(e,t){if(b){e.outerRadius=P[t]+10,e.innerRadius=P[t]+15;var n=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Z[t].centroid(e)+") rotate("+n+")"}e.outerRadius=R+10,e.innerRadius=R+15;var r=Z[t].centroid(e);if(e.value){var o=ee(r);X[o]&&(r[1]-=J),X[ee(r)]=!0}return"translate("+r+")"}),Y.select(".nv-label text").style("text-anchor",function(e,t){return b?(e.startAngle+e.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(e,t){var n=(e.endAngle-e.startAngle)/(2*Math.PI),r="";if(!e.value||n<g)return"";if("function"==typeof m)r=m(e,t,{key:i(e.data),value:a(e.data),percent:u(n)});else switch(m){case"key":r=i(e.data);break;case"value":r=u(a(e.data));break;case"percent":r=d3.format("%")(n)}return r})}}),O.renderEnd("pie immediate"),e}var n={top:0,right:0,bottom:0,left:0},r=500,o=500,i=function(e){return e.x},a=function(e){return e.y},s=Math.floor(1e4*Math.random()),l=null,c=t.utils.defaultColor(),u=d3.format(",.2f"),d=!0,f=!1,m="key",g=.02,p=!1,v=!1,h=!0,y=0,b=!1,S=!1,E=!1,_=!1,A=0,w=.5,I=[],C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x=[],T=[],O=t.utils.renderWatch(C);return e.dispatch=C,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return I},set:function(e){I=e}},width:{get:function(){return r},set:function(e){r=e}},height:{get:function(){return o},set:function(e){o=e}},showLabels:{get:function(){return d},set:function(e){d=e}},title:{get:function(){return v},set:function(e){v=e}},titleOffset:{get:function(){return y},set:function(e){y=e}},labelThreshold:{get:function(){return g},set:function(e){g=e}},valueFormat:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return i},set:function(e){i=e}},id:{get:function(){return s},set:function(e){s=e}},endAngle:{get:function(){return _},set:function(e){_=e}},startAngle:{get:function(){return S},set:function(e){S=e}},padAngle:{get:function(){return E},set:function(e){E=e}},cornerRadius:{get:function(){return A},set:function(e){A=e}},donutRatio:{get:function(){return w},set:function(e){w=e}},labelsOutside:{get:function(){return f},set:function(e){f=e}},labelSunbeamLayout:{get:function(){return b},set:function(e){b=e}},donut:{get:function(){return p},set:function(e){p=e}},growOnHover:{get:function(){return h},set:function(e){h=e}},pieLabelsOutside:{get:function(){return f},set:function(e){f=e,t.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(e){f=e,t.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(e){u=e,t.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return n},set:function(e){n.top="undefined"!=typeof e.top?e.top:n.top,n.right="undefined"!=typeof e.right?e.right:n.right,n.bottom="undefined"!=typeof e.bottom?e.bottom:n.bottom,n.left="undefined"!=typeof e.left?e.left:n.left}},y:{get:function(){return a},set:function(e){a=d3.functor(e)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}},labelType:{get:function(){return m},set:function(e){m=e||"key"}}}),t.utils.initOptions(e),e},t.models.pieChart=function(){"use strict";function e(o){return v.reset(),v.models(n),o.each(function(o){var u=d3.select(this);t.utils.initSVG(u);var m=t.utils.availableWidth(a,u,i),g=t.utils.availableHeight(s,u,i);if(e.update=function(){u.transition().call(e)},e.container=this,d.setter(y(o),e.update).getter(h(o)).update(),d.disabled=o.map(function(e){return!!e.disabled}),!f){var v;f={};for(v in d)d[v]instanceof Array?f[v]=d[v].slice(0):f[v]=d[v]}if(!o||!o.length)return t.utils.noData(e,u),e;u.selectAll(".nv-noData").remove();var b=u.selectAll("g.nv-wrap.nv-pieChart").data([o]),S=b.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),E=b.select("g");if(S.append("g").attr("class","nv-pieWrap"),S.append("g").attr("class","nv-legendWrap"),l)if("top"===c)r.width(m).key(n.x()),b.select(".nv-legendWrap").datum(o).call(r),i.top!=r.height()&&(i.top=r.height(),g=t.utils.availableHeight(s,u,i)),b.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")");else if("right"===c){var _=t.models.legend().width();m/2<_&&(_=m/2),r.height(g).key(n.x()),r.width(_),m-=r.width(),b.select(".nv-legendWrap").datum(o).call(r).attr("transform","translate("+m+",0)")}b.attr("transform","translate("+i.left+","+i.top+")"),n.width(m).height(g);var A=E.select(".nv-pieWrap").datum([o]);d3.transition(A).call(n),r.dispatch.on("stateChange",function(t){for(var n in t)d[n]=t[n];p.stateChange(d),e.update()}),p.on("changeState",function(t){"undefined"!=typeof t.disabled&&(o.forEach(function(e,n){e.disabled=t.disabled[n]}),d.disabled=t.disabled),e.update()})}),v.renderEnd("pieChart immediate"),e}var n=t.models.pie(),r=t.models.legend(),o=t.models.tooltip(),i={top:30,right:20,bottom:20,left:20},a=null,s=null,l=!0,c="top",u=t.utils.defaultColor(),d=t.utils.state(),f=null,m=null,g=250,p=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd");o.headerEnabled(!1).duration(0).valueFormatter(function(e,t){return n.valueFormat()(e,t)});var v=t.utils.renderWatch(p),h=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},y=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return n.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},o.data(t).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(e){o.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(e){o.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.legend=r,e.dispatch=p,e.pie=n,e.tooltip=o,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return l},set:function(e){l=e}},legendPosition:{get:function(){return c},set:function(e){c=e}},defaultState:{get:function(){return f},set:function(e){f=e}},tooltips:{get:function(){return o.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),o.enabled(!!e)}},tooltipContent:{get:function(){return o.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),o.contentGenerator(e)}},color:{get:function(){return u},set:function(e){u=e,r.color(u),n.color(u)}},duration:{get:function(){return g},set:function(e){g=e,v.reset(g)}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.scatter=function(){"use strict";function e(U){return z.reset(),U.each(function(e){function U(){if(V=!1,!_)return!1;if(F===!0){var t=d3.merge(e.map(function(e,t){return e.values.map(function(e,n){var r=p(e,n),o=v(e,n);return[f(r)+1e-4*Math.random(),m(o)+1e-4*Math.random(),t,n,e]}).filter(function(e,t){return A(e[4],t)})}));if(0==t.length)return!1;t.length<3&&(t.push([f.range()[0]-20,m.range()[0]-20,null,null]),t.push([f.range()[1]+20,m.range()[1]+20,null,null]),t.push([f.range()[0]-20,m.range()[0]+20,null,null]),t.push([f.range()[1]+20,m.range()[1]-20,null,null]));var n=d3.geom.polygon([[-10,-10],[-10,l+10],[s+10,l+10],[s+10,-10]]),r=d3.geom.voronoi(t).map(function(e,r){return{data:n.clip(e),series:t[r][2],point:t[r][3]}});j.select(".nv-point-paths").selectAll("path").remove();var o=j.select(".nv-point-paths").selectAll("path").data(r),i=o.enter().append("svg:path").attr("d",function(e){return e&&e.data&&0!==e.data.length?"M"+e.data.join(",")+"Z":"M 0 0"}).attr("id",function(e,t){return"nv-path-"+t}).attr("clip-path",function(e,t){return"url(#nv-clip-"+t+")"});T&&i.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),x&&(j.select(".nv-point-clips").selectAll("clipPath").remove(),j.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(e,t){return"nv-clip-"+t}).append("svg:circle").attr("cx",function(e){return e[0]}).attr("cy",function(e){return e[1]}).attr("r",O));var u=function(t,n){if(V)return 0;var r=e[t.series];if(void 0!==r){var o=r.values[t.point];o.color=c(r,t.series),o.x=p(o),o.y=v(o);var i=d.node().getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft,u={left:f(p(o,t.point))+i.left+l+a.left+10,top:m(v(o,t.point))+i.top+s+a.top+10};n({point:o,series:r,pos:u,seriesIndex:t.series,pointIndex:t.point})}};o.on("click",function(e){u(e,G.elementClick)}).on("dblclick",function(e){u(e,G.elementDblClick)}).on("mouseover",function(e){u(e,G.elementMouseover)}).on("mouseout",function(e,t){u(e,G.elementMouseout)})}else j.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],o=r.values[n];G.elementClick({point:o,series:r,pos:[f(p(o,n))+a.left,m(v(o,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("dblclick",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],o=r.values[n];G.elementDblClick({point:o,series:r,pos:[f(p(o,n))+a.left,m(v(o,n))+a.top],seriesIndex:t.series,pointIndex:n})}).on("mouseover",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],o=r.values[n];G.elementMouseover({point:o,series:r,pos:[f(p(o,n))+a.left,m(v(o,n))+a.top],seriesIndex:t.series,pointIndex:n,color:c(t,n)})}).on("mouseout",function(t,n){if(V||!e[t.series])return 0;var r=e[t.series],o=r.values[n];G.elementMouseout({point:o,series:r,seriesIndex:t.series,pointIndex:n,color:c(t,n)})})}d=d3.select(this);var $=t.utils.availableWidth(s,d,a),H=t.utils.availableHeight(l,d,a);t.utils.initSVG(d),e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var W=M&&D&&P?[]:d3.merge(e.map(function(e){return e.values.map(function(e,t){return{x:p(e,t),y:v(e,t),size:h(e,t)}})}));f.domain(M||d3.extent(W.map(function(e){return e.x}).concat(b))),w&&e[0]?f.range(N||[($*I+$)/(2*e[0].values.length),$-$*(1+I)/(2*e[0].values.length)]):f.range(N||[0,$]),m.domain(D||d3.extent(W.map(function(e){return e.y}).concat(S))).range(R||[H,0]),g.domain(P||d3.extent(W.map(function(e){return e.size}).concat(E))).range(k||B),L=f.domain()[0]===f.domain()[1]||m.domain()[0]===m.domain()[1],f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(f.domain()[0])&&f.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),n=n||f,r=r||m,o=o||g;var j=d.selectAll("g.nv-wrap.nv-scatter").data([e]),q=j.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+u),Y=q.append("defs"),K=q.append("g"),Z=j.select("g");j.classed("nv-single-point",L),K.append("g").attr("class","nv-groups"),K.append("g").attr("class","nv-point-paths"),q.append("g").attr("class","nv-point-clips"),j.attr("transform","translate("+a.left+","+a.top+")"),Y.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),j.select("#nv-edge-clip-"+u+" rect").attr("width",$).attr("height",H>0?H:0),Z.attr("clip-path",C?"url(#nv-edge-clip-"+u+")":""),V=!0;var X=j.select(".nv-groups").selectAll(".nv-group").data(function(e){return e},function(e){return e.key});X.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),X.exit().remove(),X.attr("class",function(e,t){return"nv-group nv-series-"+t}).classed("hover",function(e){return e.hover}),X.watchTransition(z,"scatter: groups").style("fill",function(e,t){return c(e,t)}).style("stroke",function(e,t){return c(e,t)}).style("stroke-opacity",1).style("fill-opacity",.5);var J=X.selectAll("path.nv-point").data(function(e){return e.values.map(function(e,t){return[e,t]}).filter(function(e,t){return A(e[0],t)})});J.enter().append("path").style("fill",function(e){return e.color}).style("stroke",function(e){return e.color}).attr("transform",function(e){return"translate("+n(p(e[0],e[1]))+","+r(v(e[0],e[1]))+")"}).attr("d",t.utils.symbol().type(function(e){return y(e[0])}).size(function(e){return g(h(e[0],e[1]))})),J.exit().remove(),X.exit().selectAll("path.nv-point").watchTransition(z,"scatter exit").attr("transform",function(e){return"translate("+f(p(e[0],e[1]))+","+m(v(e[0],e[1]))+")"}).remove(),J.each(function(e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e[1],!0).classed("nv-noninteractive",!_).classed("hover",!1)}),J.watchTransition(z,"scatter points").attr("transform",function(e){return"translate("+f(p(e[0],e[1]))+","+m(v(e[0],e[1]))+")"}).attr("d",t.utils.symbol().type(function(e){return y(e[0])}).size(function(e){return g(h(e[0],e[1]))})),clearTimeout(i),i=setTimeout(U,300),n=f.copy(),r=m.copy(),o=g.copy()}),z.renderEnd("scatter immediate"),e}var n,r,o,i,a={top:0,right:0,bottom:0,left:0},s=null,l=null,c=t.utils.defaultColor(),u=Math.floor(1e5*Math.random()),d=null,f=d3.scale.linear(),m=d3.scale.linear(),g=d3.scale.linear(),p=function(e){return e.x},v=function(e){return e.y},h=function(e){return e.size||1},y=function(e){return e.shape||"circle"},b=[],S=[],E=[],_=!0,A=function(e){return!e.notActive},w=!1,I=.1,C=!1,x=!0,T=!1,O=function(){return 25},M=null,D=null,N=null,R=null,P=null,k=null,L=!1,G=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),F=!0,U=250,V=!1,z=t.utils.renderWatch(G,U),B=[16,256];return e.dispatch=G,e.options=t.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return t.dom.write(function(){d.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(e,n,r){t.dom.write(function(){d.select(" .nv-series-"+e+" .nv-point-"+n).classed("hover",r)})}},G.on("elementMouseover.point",function(t){_&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),G.on("elementMouseout.point",function(t){_&&e._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return l},set:function(e){l=e}},xScale:{get:function(){return f},set:function(e){f=e}},yScale:{get:function(){return m},set:function(e){m=e}},pointScale:{get:function(){return g},set:function(e){g=e}},xDomain:{get:function(){return M},set:function(e){M=e}},yDomain:{get:function(){return D},set:function(e){D=e}},pointDomain:{get:function(){return P},set:function(e){P=e}},xRange:{get:function(){return N},set:function(e){N=e}},yRange:{get:function(){return R},set:function(e){R=e}},pointRange:{get:function(){return k},set:function(e){k=e}},forceX:{get:function(){return b},set:function(e){b=e}},forceY:{get:function(){return S},set:function(e){S=e}},forcePoint:{get:function(){return E},set:function(e){E=e}},interactive:{get:function(){return _},set:function(e){_=e}},pointActive:{get:function(){return A},set:function(e){A=e}},padDataOuter:{get:function(){return I},set:function(e){I=e}},padData:{get:function(){return w},set:function(e){w=e}},clipEdge:{get:function(){return C},set:function(e){C=e}},clipVoronoi:{get:function(){return x},set:function(e){x=e}},clipRadius:{get:function(){return O},set:function(e){O=e}},showVoronoi:{get:function(){return T},set:function(e){T=e}},id:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return p},set:function(e){p=d3.functor(e)}},y:{get:function(){return v},set:function(e){v=d3.functor(e)}},pointSize:{get:function(){return h},set:function(e){h=d3.functor(e)}},pointShape:{get:function(){return y},set:function(e){y=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},duration:{get:function(){return U},set:function(e){U=e,z.reset(U)}},color:{get:function(){return c},set:function(e){c=t.utils.getColor(e)}},useVoronoi:{get:function(){return F},set:function(e){F=e,F===!1&&(x=!1)}}}),t.utils.initOptions(e),e},t.models.scatterChart=function(){"use strict";function e(I){return O.reset(),O.models(n),b&&O.models(r),S&&O.models(o),v&&O.models(a),h&&O.models(s),I.each(function(I){f=d3.select(this),t.utils.initSVG(f);var N=t.utils.availableWidth(u,f,c),R=t.utils.availableHeight(d,f,c);if(e.update=function(){0===C?f.call(e):f.transition().duration(C).call(e)},e.container=this,_.setter(D(I),e.update).getter(M(I)).update(),_.disabled=I.map(function(e){return!!e.disabled}),!A){var P;A={};for(P in _)_[P]instanceof Array?A[P]=_[P].slice(0):A[P]=_[P]}if(!(I&&I.length&&I.filter(function(e){return e.values.length}).length))return t.utils.noData(e,f),O.renderEnd("scatter immediate"),e;f.selectAll(".nv-noData").remove(),g=n.xScale(),p=n.yScale();var k=f.selectAll("g.nv-wrap.nv-scatterChart").data([I]),L=k.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+n.id()),G=L.append("g"),F=k.select("g");if(G.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-scatterWrap"),G.append("g").attr("class","nv-regressionLinesWrap"),G.append("g").attr("class","nv-distWrap"),G.append("g").attr("class","nv-legendWrap"),E&&F.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),y){var U=N;i.width(U),k.select(".nv-legendWrap").datum(I).call(i),c.top!=i.height()&&(c.top=i.height(),R=t.utils.availableHeight(d,f,c)),k.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")}k.attr("transform","translate("+c.left+","+c.top+")"),n.width(N).height(R).color(I.map(function(e,t){return e.color=e.color||m(e,t),e.color}).filter(function(e,t){return!I[t].disabled})),k.select(".nv-scatterWrap").datum(I.filter(function(e){return!e.disabled})).call(n),k.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+n.id()+")");var V=k.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(e){return e});V.enter().append("g").attr("class","nv-regLines");var z=V.selectAll(".nv-regLine").data(function(e){return[e]});z.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),z.filter(function(e){return e.intercept&&e.slope}).watchTransition(O,"scatterPlusLineChart: regline").attr("x1",g.range()[0]).attr("x2",g.range()[1]).attr("y1",function(e,t){return p(g.domain()[0]*e.slope+e.intercept);
}).attr("y2",function(e,t){return p(g.domain()[1]*e.slope+e.intercept)}).style("stroke",function(e,t,n){return m(e,n)}).style("stroke-opacity",function(e,t){return e.disabled||"undefined"==typeof e.slope||"undefined"==typeof e.intercept?0:1}),b&&(r.scale(g)._ticks(t.utils.calcTicksX(N/100,I)).tickSize(-R,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(r)),S&&(o.scale(p)._ticks(t.utils.calcTicksY(R/36,I)).tickSize(-N,0),F.select(".nv-y.nv-axis").call(o)),v&&(a.getData(n.x()).scale(g).width(N).color(I.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!I[t].disabled})),G.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),F.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(I.filter(function(e){return!e.disabled})).call(a)),h&&(s.getData(n.y()).scale(p).width(R).color(I.map(function(e,t){return e.color||m(e,t)}).filter(function(e,t){return!I[t].disabled})),G.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),F.select(".nv-distributionY").attr("transform","translate("+(E?N:-s.size())+",0)").datum(I.filter(function(e){return!e.disabled})).call(s)),i.dispatch.on("stateChange",function(t){for(var n in t)_[n]=t[n];w.stateChange(_),e.update()}),w.on("changeState",function(t){"undefined"!=typeof t.disabled&&(I.forEach(function(e,n){e.disabled=t.disabled[n]}),_.disabled=t.disabled),e.update()}),n.dispatch.on("elementMouseout.tooltip",function(e){l.hidden(!0),f.select(".nv-chart-"+n.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),f.select(".nv-chart-"+n.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",s.size())}),n.dispatch.on("elementMouseover.tooltip",function(e){f.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.pos.top-R-c.top),f.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.pos.left+a.size()-c.left),l.position(e.pos).data(e).hidden(!1)}),x=g.copy(),T=p.copy()}),O.renderEnd("scatter with line immediate"),e}var n=t.models.scatter(),r=t.models.axis(),o=t.models.axis(),i=t.models.legend(),a=t.models.distribution(),s=t.models.distribution(),l=t.models.tooltip(),c={top:30,right:20,bottom:50,left:75},u=null,d=null,f=null,m=t.utils.defaultColor(),g=n.xScale(),p=n.yScale(),v=!1,h=!1,y=!0,b=!0,S=!0,E=!1,_=t.utils.state(),A=null,w=d3.dispatch("stateChange","changeState","renderEnd"),I=null,C=250;n.xScale(g).yScale(p),r.orient("bottom").tickPadding(10),o.orient(E?"right":"left").tickPadding(10),a.axis("x"),s.axis("y"),l.headerFormatter(function(e,t){return r.tickFormat()(e,t)}).valueFormatter(function(e,t){return o.tickFormat()(e,t)});var x,T,O=t.utils.renderWatch(w,C),M=function(e){return function(){return{active:e.map(function(e){return!e.disabled})}}},D=function(e){return function(t){void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}};return e.dispatch=w,e.scatter=n,e.legend=i,e.xAxis=r,e.yAxis=o,e.distX=a,e.distY=s,e.tooltip=l,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return u},set:function(e){u=e}},height:{get:function(){return d},set:function(e){d=e}},container:{get:function(){return f},set:function(e){f=e}},showDistX:{get:function(){return v},set:function(e){v=e}},showDistY:{get:function(){return h},set:function(e){h=e}},showLegend:{get:function(){return y},set:function(e){y=e}},showXAxis:{get:function(){return b},set:function(e){b=e}},showYAxis:{get:function(){return S},set:function(e){S=e}},defaultState:{get:function(){return A},set:function(e){A=e}},noData:{get:function(){return I},set:function(e){I=e}},duration:{get:function(){return C},set:function(e){C=e}},tooltips:{get:function(){return l.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),l.enabled(!!e)}},tooltipContent:{get:function(){return l.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),l.contentGenerator(e)}},tooltipXContent:{get:function(){return l.contentGenerator()},set:function(e){t.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},tooltipYContent:{get:function(){return l.contentGenerator()},set:function(e){t.deprecated("tooltipContent","This option is removed, put values into main tooltip.")}},margin:{get:function(){return c},set:function(e){c.top=void 0!==e.top?e.top:c.top,c.right=void 0!==e.right?e.right:c.right,c.bottom=void 0!==e.bottom?e.bottom:c.bottom,c.left=void 0!==e.left?e.left:c.left}},rightAlignYAxis:{get:function(){return E},set:function(e){E=e,o.orient(e?"right":"left")}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e),i.color(m),a.color(m),s.color(m)}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.models.sparkline=function(){"use strict";function e(u){return u.each(function(e){var u=s-a.left-a.right,v=l-a.top-a.bottom;c=d3.select(this),t.utils.initSVG(c),d.domain(n||d3.extent(e,m)).range(o||[0,u]),f.domain(r||d3.extent(e,g)).range(i||[v,0]);var h=c.selectAll("g.nv-wrap.nv-sparkline").data([e]),y=h.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");y.append("g"),h.select("g");h.attr("transform","translate("+a.left+","+a.top+")");var b=h.selectAll("path").data(function(e){return[e]});b.enter().append("path"),b.exit().remove(),b.style("stroke",function(e,t){return e.color||p(e,t)}).attr("d",d3.svg.line().x(function(e,t){return d(m(e,t))}).y(function(e,t){return f(g(e,t))}));var S=h.selectAll("circle.nv-point").data(function(e){function t(t){if(t!=-1){var n=e[t];return n.pointIndex=t,n}return null}var n=e.map(function(e,t){return g(e,t)}),r=t(n.lastIndexOf(f.domain()[1])),o=t(n.indexOf(f.domain()[0])),i=t(n.length-1);return[o,r,i].filter(function(e){return null!=e})});S.enter().append("circle"),S.exit().remove(),S.attr("cx",function(e,t){return d(m(e,e.pointIndex))}).attr("cy",function(e,t){return f(g(e,e.pointIndex))}).attr("r",2).attr("class",function(e,t){return m(e,e.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":g(e,e.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),e}var n,r,o,i,a={top:2,right:0,bottom:2,left:0},s=400,l=32,c=null,u=!0,d=d3.scale.linear(),f=d3.scale.linear(),m=function(e){return e.x},g=function(e){return e.y},p=t.utils.getColor(["#000"]);return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return s},set:function(e){s=e}},height:{get:function(){return l},set:function(e){l=e}},xDomain:{get:function(){return n},set:function(e){n=e}},yDomain:{get:function(){return r},set:function(e){r=e}},xRange:{get:function(){return o},set:function(e){o=e}},yRange:{get:function(){return i},set:function(e){i=e}},xScale:{get:function(){return d},set:function(e){d=e}},yScale:{get:function(){return f},set:function(e){f=e}},animate:{get:function(){return u},set:function(e){u=e}},x:{get:function(){return m},set:function(e){m=d3.functor(e)}},y:{get:function(){return g},set:function(e){g=d3.functor(e)}},margin:{get:function(){return a},set:function(e){a.top=void 0!==e.top?e.top:a.top,a.right=void 0!==e.right?e.right:a.right,a.bottom=void 0!==e.bottom?e.bottom:a.bottom,a.left=void 0!==e.left?e.left:a.left}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sparklinePlus=function(){"use strict";function e(p){return p.each(function(p){function v(){if(!c){var e=I.selectAll(".nv-hoverValue").data(l),t=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+n(o.x()(p[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),l.length&&(t.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",S),t.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),I.select(".nv-hoverValue .nv-xValue").text(u(o.x()(p[l[0]],l[0]))),t.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),I.select(".nv-hoverValue .nv-yValue").text(d(o.y()(p[l[0]],l[0]))))}}function h(){function e(e,t){for(var n=Math.abs(o.x()(e[0],0)-t),r=0,i=0;i<e.length;i++)Math.abs(o.x()(e[i],i)-t)<n&&(n=Math.abs(o.x()(e[i],i)-t),r=i);return r}if(!c){var t=d3.mouse(this)[0]-i.left;l=[e(p,Math.round(n.invert(t)))],v()}}var y=d3.select(this);t.utils.initSVG(y);var b=t.utils.availableWidth(a,y,i),S=t.utils.availableHeight(s,y,i);if(e.update=function(){y.call(e)},e.container=this,!p||!p.length)return t.utils.noData(e,y),e;y.selectAll(".nv-noData").remove();var E=o.y()(p[p.length-1],p.length-1);n=o.xScale(),r=o.yScale();var _=y.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),A=_.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),w=A.append("g"),I=_.select("g");w.append("g").attr("class","nv-sparklineWrap"),w.append("g").attr("class","nv-valueWrap"),w.append("g").attr("class","nv-hoverArea"),_.attr("transform","translate("+i.left+","+i.top+")");var C=I.select(".nv-sparklineWrap");if(o.width(b).height(S),C.call(o),f){var x=I.select(".nv-valueWrap"),T=x.selectAll(".nv-currentValue").data([E]);T.enter().append("text").attr("class","nv-currentValue").attr("dx",g?-8:8).attr("dy",".9em").style("text-anchor",g?"end":"start"),T.attr("x",b+(g?i.right:0)).attr("y",m?function(e){return r(e)}:0).style("fill",o.color()(p[p.length-1],p.length-1)).text(d(E))}w.select(".nv-hoverArea").append("rect").on("mousemove",h).on("click",function(){c=!c}).on("mouseout",function(){l=[],v()}),I.select(".nv-hoverArea rect").attr("transform",function(e){return"translate("+-i.left+","+-i.top+")"}).attr("width",b+i.left+i.right).attr("height",S+i.top)}),e}var n,r,o=t.models.sparkline(),i={top:15,right:100,bottom:10,left:50},a=null,s=null,l=[],c=!1,u=d3.format(",r"),d=d3.format(",.2f"),f=!0,m=!0,g=!1,p=null;return e.sparkline=o,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return s},set:function(e){s=e}},xTickFormat:{get:function(){return u},set:function(e){u=e}},yTickFormat:{get:function(){return d},set:function(e){d=e}},showLastValue:{get:function(){return f},set:function(e){f=e}},alignValue:{get:function(){return m},set:function(e){m=e}},rightAlignValue:{get:function(){return g},set:function(e){g=e}},noData:{get:function(){return p},set:function(e){p=e}},margin:{get:function(){return i},set:function(e){i.top=void 0!==e.top?e.top:i.top,i.right=void 0!==e.right?e.right:i.right,i.bottom=void 0!==e.bottom?e.bottom:i.bottom,i.left=void 0!==e.left?e.left:i.left}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.stackedArea=function(){"use strict";function e(f){return S.reset(),S.models(h),f.each(function(f){var y=i-o.left-o.right,E=a-o.top-o.bottom;c=d3.select(this),t.utils.initSVG(c),n=h.xScale(),r=h.yScale();var _=f;f.forEach(function(e,t){e.seriesIndex=t,e.values=e.values.map(function(e,n){return e.index=n,e.seriesIndex=t,e})});var A=f.filter(function(e){return!e.disabled});f=d3.layout.stack().order(g).offset(m).values(function(e){return e.values}).x(u).y(d).out(function(e,t,n){e.display={y:n,y0:t}})(A);var w=c.selectAll("g.nv-wrap.nv-stackedarea").data([f]),I=w.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=I.append("defs"),x=I.append("g"),T=w.select("g");x.append("g").attr("class","nv-areaWrap"),x.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+o.left+","+o.top+")"),0==h.forceY().length&&h.forceY().push(0),h.width(y).height(E).x(u).y(function(e){return e.display.y+e.display.y0}).forceY([0]).color(f.map(function(e,t){return e.color||s(e,e.seriesIndex)}));var O=T.select(".nv-scatterWrap").datum(f);O.call(h),C.append("clipPath").attr("id","nv-edge-clip-"+l).append("rect"),w.select("#nv-edge-clip-"+l+" rect").attr("width",y).attr("height",E),T.attr("clip-path",v?"url(#nv-edge-clip-"+l+")":"");var M=d3.svg.area().x(function(e,t){return n(u(e,t))}).y0(function(e){return r(e.display.y0)}).y1(function(e){return r(e.display.y+e.display.y0)}).interpolate(p),D=d3.svg.area().x(function(e,t){return n(u(e,t))}).y0(function(e){return r(e.display.y0)}).y1(function(e){return r(e.display.y0)}),N=T.select(".nv-areaWrap").selectAll("path.nv-area").data(function(e){return e});N.enter().append("path").attr("class",function(e,t){return"nv-area nv-area-"+t}).attr("d",function(e,t){return D(e.values,e.seriesIndex)}).on("mouseover",function(e,t){d3.select(this).classed("hover",!0),b.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1),b.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on("click",function(e,t){d3.select(this).classed("hover",!1),b.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}),N.exit().remove(),N.style("fill",function(e,t){return e.color||s(e,e.seriesIndex)}).style("stroke",function(e,t){return e.color||s(e,e.seriesIndex)}),N.watchTransition(S,"stackedArea path").attr("d",function(e,t){return M(e.values,t)}),h.dispatch.on("elementMouseover.area",function(e){T.select(".nv-chart-"+l+" .nv-area-"+e.seriesIndex).classed("hover",!0)}),h.dispatch.on("elementMouseout.area",function(e){T.select(".nv-chart-"+l+" .nv-area-"+e.seriesIndex).classed("hover",!1)}),e.d3_stackedOffset_stackPercent=function(e){var t,n,r,o=e.length,i=e[0].length,a=[];for(n=0;n<i;++n){for(t=0,r=0;t<_.length;t++)r+=d(_[t].values[n]);if(r)for(t=0;t<o;t++)e[t][n][1]/=r;else for(t=0;t<o;t++)e[t][n][1]=0}for(n=0;n<i;++n)a[n]=0;return a}}),S.renderEnd("stackedArea immediate"),e}var n,r,o={top:0,right:0,bottom:0,left:0},i=960,a=500,s=t.utils.defaultColor(),l=Math.floor(1e5*Math.random()),c=null,u=function(e){return e.x},d=function(e){return e.y},f="stack",m="zero",g="default",p="linear",v=!1,h=t.models.scatter(),y=250,b=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");h.pointSize(2.2).pointDomain([2.2,2.2]);var S=t.utils.renderWatch(b,y);return e.dispatch=b,e.scatter=h,h.dispatch.on("elementClick",function(){b.elementClick.apply(this,arguments)}),h.dispatch.on("elementMouseover",function(){b.elementMouseover.apply(this,arguments)}),h.dispatch.on("elementMouseout",function(){b.elementMouseout.apply(this,arguments)}),e.interpolate=function(t){return arguments.length?(p=t,e):p},e.duration=function(t){return arguments.length?(y=t,S.reset(y),h.duration(y),e):y},e.dispatch=b,e.scatter=h,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return i},set:function(e){i=e}},height:{get:function(){return a},set:function(e){a=e}},clipEdge:{get:function(){return v},set:function(e){v=e}},offset:{get:function(){return m},set:function(e){m=e}},order:{get:function(){return g},set:function(e){g=e}},interpolate:{get:function(){return p},set:function(e){p=e}},x:{get:function(){return u},set:function(e){u=d3.functor(e)}},y:{get:function(){return d},set:function(e){d=d3.functor(e)}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}},color:{get:function(){return s},set:function(e){s=t.utils.getColor(e)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":e.offset("zero"),e.order("default");break;case"stream":e.offset("wiggle"),e.order("inside-out");break;case"stream-center":e.offset("silhouette"),e.order("inside-out");break;case"expand":e.offset("expand"),e.order("default");break;case"stack_percent":e.offset(e.d3_stackedOffset_stackPercent),e.order("default")}}},duration:{get:function(){return y},set:function(e){y=e,S.reset(y),h.duration(y)}}}),t.utils.inheritOptions(e,h),t.utils.initOptions(e),e},t.models.stackedAreaChart=function(){"use strict";function e(u){return D.reset(),D.models(o),h&&D.models(i),y&&D.models(a),u.each(function(u){var A=d3.select(this),D=this;t.utils.initSVG(A);var L=t.utils.availableWidth(f,A,d),G=t.utils.availableHeight(m,A,d);if(e.update=function(){A.transition().duration(T).call(e)},e.container=this,E.setter(P(u),e.update).getter(R(u)).update(),E.disabled=u.map(function(e){return!!e.disabled}),!_){var F;_={};for(F in E)E[F]instanceof Array?_[F]=E[F].slice(0):_[F]=E[F]}if(!(u&&u.length&&u.filter(function(e){return e.values.length}).length))return t.utils.noData(e,A),e;A.selectAll(".nv-noData").remove(),n=o.xScale(),r=o.yScale();var U=A.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),z=U.select("g");if(V.append("rect").style("opacity",0),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-stackedWrap"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),V.append("g").attr("class","nv-interactive"),z.select("rect").attr("width",L).attr("height",G),v){var B=p?L-I:L;s.width(B),z.select(".nv-legendWrap").datum(u).call(s),d.top!=s.height()&&(d.top=s.height(),G=t.utils.availableHeight(m,A,d)),z.select(".nv-legendWrap").attr("transform","translate("+(L-B)+","+-d.top+")")}if(p){var $=[{key:x.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=o.style(),style:"stack"},{key:x.stream||"Stream",metaKey:"Stream",disabled:"stream"!=o.style(),style:"stream"},{key:x.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=o.style(),style:"expand"},{key:x.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=o.style(),style:"stack_percent"}];I=C.length/3*260,$=$.filter(function(e){return C.indexOf(e.metaKey)!==-1}),l.width(I).color(["#444","#444","#444"]),z.select(".nv-controlsWrap").datum($).call(l),d.top!=Math.max(l.height(),s.height())&&(d.top=Math.max(l.height(),s.height()),G=t.utils.availableHeight(m,A,d)),z.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}U.attr("transform","translate("+d.left+","+d.top+")"),b&&z.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),S&&(c.width(L).height(G).margin({left:d.left,top:d.top}).svgContainer(A).xScale(n),U.select(".nv-interactive").call(c)),o.width(L).height(G);var H=z.select(".nv-stackedWrap").datum(u);if(H.transition().call(o),h&&(i.scale(n)._ticks(t.utils.calcTicksX(L/100,u)).tickSize(-G,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+G+")"),z.select(".nv-x.nv-axis").transition().duration(0).call(i)),y){var W;if(W="wiggle"===o.offset()?0:t.utils.calcTicksY(G/36,u),a.scale(r)._ticks(W).tickSize(-L,0),"expand"===o.style()||"stack_percent"===o.style()){var j=a.tickFormat();O&&j===k||(O=j),a.tickFormat(k)}else O&&(a.tickFormat(O),O=null);z.select(".nv-y.nv-axis").transition().duration(0).call(a)}o.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(e){return!e.disabled}).length?u.forEach(function(e){e.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),E.disabled=u.map(function(e){return!!e.disabled}),w.stateChange(E),e.update()}),s.dispatch.on("stateChange",function(t){for(var n in t)E[n]=t[n];w.stateChange(E),e.update()}),l.dispatch.on("legendClick",function(t,n){t.disabled&&($=$.map(function(e){return e.disabled=!0,e}),t.disabled=!1,o.style(t.style),E.style=o.style(),w.stateChange(E),e.update())}),c.dispatch.on("elementMousemove",function(n){o.clearHighlights();var r,a,s,l=[];if(u.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(i,c){a=t.interactiveBisect(i.values,n.pointXValue,e.x());var u=i.values[a],d=e.y()(u,a);if(null!=d&&o.highlightPoint(c,a,!0),"undefined"!=typeof u){"undefined"==typeof r&&(r=u),"undefined"==typeof s&&(s=e.xScale()(e.x()(u,a)));var f="expand"==o.style()?u.display.y:e.y()(u,a);l.push({key:i.key,value:f,color:g(i,i.seriesIndex),stackedValue:u.display})}}),l.reverse(),l.length>2){var f=e.yScale().invert(n.mouseY),m=null;l.forEach(function(e,t){f=Math.abs(f);var n=Math.abs(e.stackedValue.y0),r=Math.abs(e.stackedValue.y);if(f>=n&&f<=r+n)return void(m=t)}),null!=m&&(l[m].highlight=!0)}var p=i.tickFormat()(e.x()(r,a)),v=c.tooltip.valueFormatter();"expand"===o.style()||"stack_percent"===o.style()?(M||(M=v),v=d3.format(".1%")):M&&(v=M,M=null),c.tooltip.position({left:s+d.left,top:n.mouseY+d.top}).chartContainer(D.parentNode).valueFormatter(v).data({value:p,series:l})(),c.renderGuideLine(s)}),c.dispatch.on("elementMouseout",function(e){o.clearHighlights()}),w.on("changeState",function(t){"undefined"!=typeof t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),E.disabled=t.disabled),"undefined"!=typeof t.style&&(o.style(t.style),N=t.style),e.update()})}),D.renderEnd("stacked Area chart immediate"),e}var n,r,o=t.models.stackedArea(),i=t.models.axis(),a=t.models.axis(),s=t.models.legend(),l=t.models.legend(),c=t.interactiveGuideline(),u=t.models.tooltip(),d={top:30,right:25,bottom:50,left:60},f=null,m=null,g=t.utils.defaultColor(),p=!0,v=!0,h=!0,y=!0,b=!1,S=!1,E=t.utils.state(),_=null,A=null,w=d3.dispatch("stateChange","changeState","renderEnd"),I=250,C=["Stacked","Stream","Expanded"],x={},T=250;E.style=o.style(),i.orient("bottom").tickPadding(7),a.orient(b?"right":"left"),u.headerFormatter(function(e,t){return i.tickFormat()(e,t)}).valueFormatter(function(e,t){return a.tickFormat()(e,t)}),c.tooltip.headerFormatter(function(e,t){return i.tickFormat()(e,t)}).valueFormatter(function(e,t){return a.tickFormat()(e,t)});var O=null,M=null;l.updateState(!1);var D=t.utils.renderWatch(w),N=o.style(),R=function(e){return function(){return{active:e.map(function(e){return!e.disabled}),style:o.style()}}},P=function(e){return function(t){void 0!==t.style&&(N=t.style),void 0!==t.active&&e.forEach(function(e,n){e.disabled=!t.active[n]})}},k=d3.format("%");return o.dispatch.on("elementMouseover.tooltip",function(e){e.point.x=o.x()(e.point),e.point.y=o.y()(e.point),u.data(e).position(e.pos).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0)}),e.dispatch=w,e.stacked=o,e.legend=s,e.controls=l,e.xAxis=i,e.yAxis=a,e.interactiveLayer=c,e.tooltip=u,e.dispatch=w,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return f},set:function(e){f=e}},height:{get:function(){return m},set:function(e){m=e}},showLegend:{get:function(){return v},set:function(e){v=e}},showXAxis:{get:function(){return h},set:function(e){h=e}},showYAxis:{get:function(){return y},set:function(e){y=e}},defaultState:{get:function(){return _},set:function(e){_=e}},noData:{get:function(){return A},set:function(e){A=e}},showControls:{get:function(){return p},set:function(e){p=e}},controlLabels:{get:function(){return x},set:function(e){x=e}},controlOptions:{get:function(){return C},set:function(e){C=e}},tooltips:{get:function(){return u.enabled()},set:function(e){t.deprecated("tooltips","use chart.tooltip.enabled() instead"),u.enabled(!!e)}},tooltipContent:{get:function(){return u.contentGenerator()},set:function(e){t.deprecated("tooltipContent","use chart.tooltip.contentGenerator() instead"),u.contentGenerator(e)}},margin:{get:function(){return d},set:function(e){d.top=void 0!==e.top?e.top:d.top,d.right=void 0!==e.right?e.right:d.right,d.bottom=void 0!==e.bottom?e.bottom:d.bottom,d.left=void 0!==e.left?e.left:d.left}},duration:{get:function(){return T},set:function(e){T=e,D.reset(T),o.duration(T),i.duration(T),a.duration(T)}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e),s.color(g),o.color(g)}},rightAlignYAxis:{get:function(){return b},set:function(e){b=e,a.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return S},set:function(t){S=!!t,e.interactive(!t),e.useVoronoi(!t),o.scatter.interactive(!t)}}}),t.utils.inheritOptions(e,o),t.utils.initOptions(e),e},t.models.sunburst=function(){"use strict";function e(S){return b.reset(),S.each(function(e){function b(e){e.x0=e.x,e.dx0=e.dx}function S(e){var t=d3.interpolate(p.domain(),[e.x,e.x+e.dx]),n=d3.interpolate(v.domain(),[e.y,1]),r=d3.interpolate(v.range(),[e.y?20:0,w]);return function(e,o){return o?function(t){return y(e)}:function(o){return p.domain(t(o)),v.domain(n(o)).range(r(o)),y(e)}}}d=d3.select(this);var E,_=t.utils.availableWidth(a,d,i),A=t.utils.availableHeight(s,d,i),w=Math.min(_,A)/2;t.utils.initSVG(d);var I=d.selectAll(".nv-wrap.nv-sunburst").data(e),C=I.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+u),x=C.selectAll("nv-sunburst");I.attr("transform","translate("+_/2+","+A/2+")"),d.on("click",function(e,t){g.chartClick({data:e,index:t,pos:d3.event,id:u})}),v.range([0,w]),n=n||e,o=e[0],h.value(c[l]||c.count),E=x.data(h.nodes).enter().append("path").attr("d",y).style("fill",function(e){return f((e.children?e:e.parent).name)}).style("stroke","#FFF").on("click",function(e){r!==n&&n!==e&&(r=n),n=e,E.transition().duration(m).attrTween("d",S(e))}).each(b).on("dblclick",function(e){r.parent==e&&E.transition().duration(m).attrTween("d",S(o))}).each(b).on("mouseover",function(e,t){d3.select(this).classed("hover",!0).style("opacity",.8),g.elementMouseover({data:e,color:d3.select(this).style("fill")})}).on("mouseout",function(e,t){d3.select(this).classed("hover",!1).style("opacity",1),g.elementMouseout({data:e})}).on("mousemove",function(e,t){g.elementMousemove({data:e})})}),b.renderEnd("sunburst immediate"),e}var n,r,o,i={top:0,right:0,bottom:0,left:0},a=null,s=null,l="count",c={count:function(e){return 1},size:function(e){return e.size}},u=Math.floor(1e4*Math.random()),d=null,f=t.utils.defaultColor(),m=500,g=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),p=d3.scale.linear().range([0,2*Math.PI]),v=d3.scale.sqrt(),h=d3.layout.partition().sort(null).value(function(e){return 1}),y=d3.svg.arc().startAngle(function(e){return Math.max(0,Math.min(2*Math.PI,p(e.x)))}).endAngle(function(e){return Math.max(0,Math.min(2*Math.PI,p(e.x+e.dx)))}).innerRadius(function(e){return Math.max(0,v(e.y))}).outerRadius(function(e){return Math.max(0,v(e.y+e.dy))}),b=t.utils.renderWatch(g);return e.dispatch=g,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return a},set:function(e){a=e}},height:{get:function(){return s},set:function(e){s=e}},mode:{get:function(){return l},set:function(e){l=e}},id:{get:function(){return u},set:function(e){u=e}},duration:{get:function(){return m},set:function(e){m=e}},margin:{get:function(){return i},set:function(e){i.top=void 0!=e.top?e.top:i.top,i.right=void 0!=e.right?e.right:i.right,i.bottom=void 0!=e.bottom?e.bottom:i.bottom,i.left=void 0!=e.left?e.left:i.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e)}}}),t.utils.initOptions(e),e},t.models.sunburstChart=function(){"use strict";function e(r){return f.reset(),f.models(n),r.each(function(r){var s=d3.select(this);t.utils.initSVG(s);var l=t.utils.availableWidth(i,s,o),c=t.utils.availableHeight(a,s,o);if(e.update=function(){0===u?s.call(e):s.transition().duration(u).call(e)},e.container=this,!r||!r.length)return t.utils.noData(e,s),e;s.selectAll(".nv-noData").remove();var d=s.selectAll("g.nv-wrap.nv-sunburstChart").data(r),f=d.enter().append("g").attr("class","nvd3 nv-wrap nv-sunburstChart").append("g"),m=d.select("g");f.append("g").attr("class","nv-sunburstWrap"),d.attr("transform","translate("+o.left+","+o.top+")"),n.width(l).height(c);var g=m.select(".nv-sunburstWrap").datum(r);d3.transition(g).call(n)}),f.renderEnd("sunburstChart immediate"),e}var n=t.models.sunburst(),r=t.models.tooltip(),o={top:30,right:20,bottom:20,left:20},i=null,a=null,s=t.utils.defaultColor(),l=(Math.round(1e5*Math.random()),null),c=null,u=250,d=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),f=t.utils.renderWatch(d);return r.headerEnabled(!1).duration(0).valueFormatter(function(e,t){return e}),n.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:e.data.name,value:e.data.size,color:e.color},r.data(e).hidden(!1)}),n.dispatch.on("elementMouseout.tooltip",function(e){r.hidden(!0)}),n.dispatch.on("elementMousemove.tooltip",function(e){r.position({top:d3.event.pageY,left:d3.event.pageX})()}),e.dispatch=d,e.sunburst=n,e.tooltip=r,e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{noData:{get:function(){return c},set:function(e){c=e}},defaultState:{get:function(){return l},set:function(e){l=e}},color:{get:function(){return s},set:function(e){s=e,n.color(s)}},duration:{get:function(){return u},set:function(e){u=e,f.reset(u),n.duration(u)}},margin:{get:function(){return o},set:function(e){o.top=void 0!==e.top?e.top:o.top,o.right=void 0!==e.right?e.right:o.right,o.bottom=void 0!==e.bottom?e.bottom:o.bottom,o.left=void 0!==e.left?e.left:o.left}}}),t.utils.inheritOptions(e,n),t.utils.initOptions(e),e},t.version="1.8.1"}()},function(e,t,n){var r,o;(function(){function n(e){function t(t,n,r,o,i,a){for(;i>=0&&i<a;i+=e){var s=o?o[i]:i;r=n(r,t[s],s,t)}return r}return function(n,r,o,i){r=A(r,i,4);var a=!M(n)&&_.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(o=n[a?a[l]:l],l+=e),t(n,r,o,a,l,s)}}function i(e){return function(t,n,r){n=w(n,r);for(var o=O(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}}function a(e,t,n){return function(r,o,i){var a=0,s=O(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return i=n(r,o),r[i]===o?i:-1;if(o!==o)return i=t(g.call(r,a,s),_.isNaN),i>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&i<s;i+=e)if(r[i]===o)return i;return-1}}function s(e,t){var n=k.length,r=e.constructor,o=_.isFunction(r)&&r.prototype||d,i="constructor";for(_.has(e,i)&&!_.contains(t,i)&&t.push(i);n--;)i=k[n],i in e&&e[i]!==o[i]&&!_.contains(t,i)&&t.push(i)}var l=this,c=l._,u=Array.prototype,d=Object.prototype,f=Function.prototype,m=u.push,g=u.slice,p=d.toString,v=d.hasOwnProperty,h=Array.isArray,y=Object.keys,b=f.bind,S=Object.create,E=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=_),t._=_,_.VERSION="1.8.3";var A=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?_.identity:_.isFunction(e)?A(e,t,n):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return w(e,t,1/0)};var I=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=i[c])}return n}},C=function(e){if(!_.isObject(e))return{};if(S)return S(e);E.prototype=e;var t=new E;return E.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,O=x("length"),M=function(e){var t=O(e);return"number"==typeof t&&t>=0&&t<=T};_.each=_.forEach=function(e,t,n){t=A(t,n);var r,o;if(M(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=_.keys(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e},_.map=_.collect=function(e,t,n){t=w(t,n);for(var r=!M(e)&&_.keys(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=t(e[s],s,e)}return i},_.reduce=_.foldl=_.inject=n(1),_.reduceRight=_.foldr=n(-1),_.find=_.detect=function(e,t,n){var r;if(r=M(e)?_.findIndex(e,t,n):_.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},_.filter=_.select=function(e,t,n){var r=[];return t=w(t,n),_.each(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r;
},_.reject=function(e,t,n){return _.filter(e,_.negate(w(t)),n)},_.every=_.all=function(e,t,n){t=w(t,n);for(var r=!M(e)&&_.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0},_.some=_.any=function(e,t,n){t=w(t,n);for(var r=!M(e)&&_.keys(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,r){return M(e)||(e=_.values(e)),("number"!=typeof n||r)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=function(e,t){var n=g.call(arguments,2),r=_.isFunction(t);return _.map(e,function(e){var o=r?t:e[t];return null==o?o:o.apply(e,n)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var r,o,i=-(1/0),a=-(1/0);if(null==t&&null!=e){e=M(e)?e:_.values(e);for(var s=0,l=e.length;s<l;s++)r=e[s],r>i&&(i=r)}else t=w(t,n),_.each(e,function(e,n,r){o=t(e,n,r),(o>a||o===-(1/0)&&i===-(1/0))&&(i=e,a=o)});return i},_.min=function(e,t,n){var r,o,i=1/0,a=1/0;if(null==t&&null!=e){e=M(e)?e:_.values(e);for(var s=0,l=e.length;s<l;s++)r=e[s],r<i&&(i=r)}else t=w(t,n),_.each(e,function(e,n,r){o=t(e,n,r),(o<a||o===1/0&&i===1/0)&&(i=e,a=o)});return i},_.shuffle=function(e){for(var t,n=M(e)?e:_.values(e),r=n.length,o=Array(r),i=0;i<r;i++)t=_.random(0,i),t!==i&&(o[i]=o[t]),o[t]=n[i];return o},_.sample=function(e,t,n){return null==t||n?(M(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,n){return t=w(t,n),_.pluck(_.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,n,r){var o={};return n=w(n,r),_.each(t,function(r,i){var a=n(r,i,t);e(o,r,a)}),o}};_.groupBy=D(function(e,t,n){_.has(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=D(function(e,t,n){e[n]=t}),_.countBy=D(function(e,t,n){_.has(e,n)?e[n]++:e[n]=1}),_.toArray=function(e){return e?_.isArray(e)?g.call(e):M(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:M(e)?e.length:_.keys(e).length},_.partition=function(e,t,n){t=w(t,n);var r=[],o=[];return _.each(e,function(e,n,i){(t(e,n,i)?r:o).push(e)}),[r,o]},_.first=_.head=_.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return g.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return g.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var N=function(e,t,n,r){for(var o=[],i=0,a=r||0,s=O(e);a<s;a++){var l=e[a];if(M(l)&&(_.isArray(l)||_.isArguments(l))){t||(l=N(l,t,n));var c=0,u=l.length;for(o.length+=u;c<u;)o[i++]=l[c++]}else n||(o[i++]=l)}return o};_.flatten=function(e,t){return N(e,t,!1)},_.without=function(e){return _.difference(e,g.call(arguments,1))},_.uniq=_.unique=function(e,t,n,r){_.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var o=[],i=[],a=0,s=O(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t?(a&&i===c||o.push(l),i=c):n?_.contains(i,c)||(i.push(c),o.push(l)):_.contains(o,l)||o.push(l)}return o},_.union=function(){return _.uniq(N(arguments,!0,!0))},_.intersection=function(e){for(var t=[],n=arguments.length,r=0,o=O(e);r<o;r++){var i=e[r];if(!_.contains(t,i)){for(var a=1;a<n&&_.contains(arguments[a],i);a++);a===n&&t.push(i)}}return t},_.difference=function(e){var t=N(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,O).length||0,n=Array(t),r=0;r<t;r++)n[r]=_.pluck(e,r);return n},_.object=function(e,t){for(var n={},r=0,o=O(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},_.findIndex=i(1),_.findLastIndex=i(-1),_.sortedIndex=function(e,t,n,r){n=w(n,r,1);for(var o=n(t),i=0,a=O(e);i<a;){var s=Math.floor((i+a)/2);n(e[s])<o?i=s+1:a=s}return i},_.indexOf=a(1,_.findIndex,_.sortedIndex),_.lastIndexOf=a(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o};var R=function(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=C(e.prototype),a=e.apply(i,o);return _.isObject(a)?a:i};_.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,g.call(arguments,1));if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var n=g.call(arguments,2),r=function(){return R(e,r,t,this,n.concat(g.call(arguments)))};return r},_.partial=function(e){var t=g.call(arguments,1),n=function(){for(var r=0,o=t.length,i=Array(o),a=0;a<o;a++)i[a]=t[a]===_?arguments[r++]:t[a];for(;r<arguments.length;)i.push(arguments[r++]);return R(e,n,this,this,i)};return n},_.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=_.bind(e[n],e);return e},_.memoize=function(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return _.has(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},_.delay=function(e,t){var n=g.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var r,o,i,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:_.now(),a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var c=_.now();s||n.leading!==!1||(s=c);var u=t-(c-s);return r=this,o=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,i=e.apply(r,o),a||(r=o=null)):a||n.trailing===!1||(a=setTimeout(l,u)),i}},_.debounce=function(e,t,n){var r,o,i,a,s,l=function(){var c=_.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=_.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(i,o),i=o=null),s}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},_.once=_.partial(_.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(e){if(!_.isObject(e))return[];if(y)return y(e);var t=[];for(var n in e)_.has(e,n)&&t.push(n);return P&&s(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&s(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r},_.mapObject=function(e,t,n){t=w(t,n);for(var r,o=_.keys(e),i=o.length,a={},s=0;s<i;s++)r=o[s],a[r]=t(e[r],r,e);return a},_.pairs=function(e){for(var t=_.keys(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r},_.invert=function(e){for(var t={},n=_.keys(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=I(_.allKeys),_.extendOwn=_.assign=I(_.keys),_.findKey=function(e,t,n){t=w(t,n);for(var r,o=_.keys(e),i=0,a=o.length;i<a;i++)if(r=o[i],t(e[r],r,e))return r},_.pick=function(e,t,n){var r,o,i={},a=e;if(null==a)return i;_.isFunction(t)?(o=_.allKeys(a),r=A(t,n)):(o=N(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=o.length;s<l;s++){var c=o[s],u=a[c];r(u,c,a)&&(i[c]=u)}return i},_.omit=function(e,t,n){if(_.isFunction(t))t=_.negate(t);else{var r=_.map(N(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(r,t)}}return _.pick(e,t,n)},_.defaults=I(_.allKeys,!0),_.create=function(e,t){var n=C(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=n[i];if(t[a]!==o[a]||!(a in o))return!1}return!0};var L=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var o=p.call(e);if(o!==p.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),i){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],n,r))return!1}else{var c,u=_.keys(e);if(l=u.length,_.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!_.has(t,c)||!L(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};_.isEqual=function(e,t){return L(e,t)},_.isEmpty=function(e){return null==e||(M(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=h||function(e){return"[object Array]"===p.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){_["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===p.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&v.call(e,t)},_.noConflict=function(){return l._=c,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=x,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var r=Array(Math.max(0,e));t=A(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=_.invert(G),U=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};_.escape=U(G),_.unescape=U(F),_.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),_.isFunction(r)?r.call(e):r};var V=0;_.uniqueId=function(e){var t=++V+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+B[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var r=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,function(t,n,r,a,s){return i+=e.slice(o,s).replace($,H),o=s+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(e){throw e.source=i,e}var s=function(e){return a.call(this,e,_)},l=t.variable||"obj";return s.source="function("+l+"){\n"+i+"}",s},_.chain=function(e){var t=_(e);return t._chain=!0,t};var W=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return m.apply(e,arguments),W(this,n.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],W(this,n)}}),_.each(["concat","join","slice"],function(e){var t=u[e];_.prototype[e]=function(){return W(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},r=[],o=function(){return _}.apply(t,r),!(void 0!==o&&(e.exports=o))}).call(this)},function(e,t,n){var r=n(489);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(490);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(491);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},,,function(e,t,n){var r=n(495);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(496);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(497);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(498);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(499);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(500);"string"==typeof r&&(r=[[e.id,r,""]]);n(9)(r,{});r.locals&&(e.exports=r.locals)},function(module,exports,__webpack_require__){var _=__webpack_require__(728);module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<!-- Copyright (c) 2015-2016, NVIDIA CORPORATION.  All rights reserved.\r\n\r\n * NVIDIA CORPORATION and its licensors retain all intellectual property\r\n * and proprietary rights in and to this software, related documentation\r\n * and any modifications thereto.  Any use, reproduction, disclosure or\r\n * distribution of this software and related documentation without an express\r\n * license agreement from NVIDIA CORPORATION is strictly prohibited.\r\n-->\r\n\r\n<h3 class="nv-annotation-title font-size-sm md-accent foreground"><span>'+(null==(__t=title)?"":__t)+'</span></h3>\r\n<p class="nv-annotation-description font-size-xxs">'+(null==(__t=description)?"":__t)+"</p>";return __p}},,,function(e,t,n){e.exports=n(2)(194)},,,function(e,t,n){e.exports=n(2)(202)},function(e,t,n){e.exports=n(2)(211)},function(e,t,n){e.exports=n(2)(282)},,,function(e,t,n){e.exports=n(2)(309)}]);
//# sourceMappingURL=app.js.map